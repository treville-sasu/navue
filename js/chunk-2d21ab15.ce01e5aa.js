(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ab15"],{bd30:function(t,a,e){"use strict";e.r(a);var render=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[t._m(0),e("section",{staticClass:"section"},[e("AircraftManager"),t.aircraft?e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},t._l(t.aircraft.balance,(function(a,s){return e("div",{key:s},[e("b-field",{attrs:{label:a.name,horizontal:"",expanded:""}},[e("b-slider",{attrs:{min:a.min,max:a.max,tooltip:!1},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"weight.value"}}),e("p",{staticClass:"control"},[e("b-tag",{attrs:{type:"is-dark"}},[t._v(t._s(a))])],1)],1)],1)})),0),e("div",{staticClass:"column"},[t.aircraft.envelopes.length>0?e("BalanceChart",{attrs:{"chart-data":t.datasets}}):t._e()],1)]):t._e()],1)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"hero is-primary is-hidden-mobile"},[e("div",{staticClass:"hero-body"},[e("h1",{staticClass:"title"},[t._v("Weight & Balance")]),e("h2",{staticClass:"subtitle"},[t._v(" Here you can compute center of gravity and assert a correct margin within the aircraft limits ")]),e("div",{staticClass:"notification is-warning"},[t._v(" Do not USE, do not work for tanks ")])])])}],i=e("9283"),r=e("548d"),n=e("08df"),l={name:"Balance",components:{AircraftManager:i["a"],BalanceChart:r["a"]},mixins:[n["a"]],methods:{getCenterGravity(t){let a=t.reduce((t,a)=>{let e=a.value*(a.densitiy||1);return{x:t.x+e*a.arm,y:t.y+e}},{x:0,y:0});return a.x=Math.round(1e3*(a.x/a.y+Number.EPSILON))/1e3,a}},computed:{aircraft(){return this.$store.state.currentAircraft},cgFullTank(){return this.getCenterGravity(this.aircraft.balance.items)},cgEmptyTank(){return this.getCenterGravity(this.aircraft.balance.items.filter(t=>!t.tank))},datasets(){return{datasets:[...this.aircraft.envelopes.items.map(t=>({...this.envelopesDataset,label:t.name,data:t.items.map(t=>t.toCoords())})),{...this.cgDataset,data:[this.cgFullTank],label:"Full tank"},{...this.cgDataset,data:[this.cgEmptyTank],label:"Empty tank"}]}}}},c=l,o=e("2877"),u=Object(o["a"])(c,render,s,!1,null,null,null);a["default"]=u.exports}}]);