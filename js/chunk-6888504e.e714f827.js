(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6888504e"],{"29d1":function(t,e,a){"use strict";a.r(e);var render=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("nav",{staticClass:"level"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Navigation")]),a("NavigationManager",[a("p",{staticClass:"title"},[t._v(t._s(t.navigation&&t.navigation.name))])])],1)]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Aircraft")]),a("AircraftManager",[a("p",{staticClass:"title"},[t._v(t._s(t.aircraft&&t.aircraft.registration))])])],1)]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Pace")]),t.aircraft?a("b-select",{attrs:{placeholder:"Select a pace"},model:{value:t.pace,callback:function(e){t.pace=e},expression:"pace"}},t._l(t.aircraft.paces,(function(e){return a("option",{key:e.name,domProps:{value:e}},[t._v(" "+t._s(e.name)+" ("+t._s(e)+") ")])})),0):a("p",{staticClass:"title"},[t._v("<<<")])],1)])]),t.navigation&&t.aircraft?a("div",[a("b-tabs",{staticClass:"box",attrs:{multiline:""},model:{value:t.currentRoute,callback:function(e){t.currentRoute=e},expression:"currentRoute"}},[t._l(t.navigation.routes,(function(e,i){return a("b-tab-item",{key:i,attrs:{label:""+(i+1),icon:"chevron-triple-right"}},[a("table",{staticClass:"table is-narrow is-hoverable is-fullwidth"},[a("thead",[a("colgroup",[a("col",{attrs:{span:"3"}}),a("col",{attrs:{span:"3"}})]),a("tr",[a("th",[t._v("Waypoint")]),a("th",[t._v("Alt.")]),a("th",[t._v("Notes")]),a("th",[t._v("Bearing")]),a("th",[t._v("Distance")]),a("th",[t._v("ETE")])])]),a("tfoot",[a("tr",[a("th"),a("th",[t._v("min Alt.")]),a("th"),a("th"),a("th",{staticClass:"has-text-right"},[t._v(" "+t._s(t._f("as")(t.routeDistance(e),"NM",3))+" ")]),a("th",{staticClass:"has-text-right"},[t._v(" "+t._s(t._f("asDuration")(t.routeETE(e)))+" ")])])]),a("tbody",[t._l(e,(function(i,s){return[a("tr",{key:"wp_"+s},[a("td",{attrs:{rowspan:"2"}},[a("span",{staticClass:"button is-static"},[t._v(" "+t._s(s))]),t._v(" "+t._s(i.name)+" ")]),a("td",{staticClass:"has-text-right",attrs:{rowspan:"2"}},[t._v(" "+t._s(i.altitude)+" ")]),a("td",{attrs:{rowspan:"2"}},[t._v(" "+t._s(i.notes)+" ")]),0==s?a("td",{attrs:{colspan:"3",height:"1em"}}):t._e()]),s+1<e.length?a("tr",{key:"leg_"+s},[a("td",{staticClass:"has-text-right",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.legBearing(e,s))+" ")]),a("td",{staticClass:"has-text-right",attrs:{rowspan:"2"}},[t._v(" "+t._s(t._f("as")(t.legDistance(e,s),"NM",3))+" ")]),a("td",{staticClass:"has-text-right",attrs:{rowspan:"2"}},[t._v(" "+t._s(t._f("asDuration")(t.legETE(e,s)))+" ")])]):a("tr",{key:"fill_"+s},[a("td",{attrs:{colspan:"2",height:"1em"}})])]}))],2)])])})),a("b-tab-item",{attrs:{label:"Summary",icon:"file-replace-outline"}},[a("nav",{staticClass:"level"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v(" Total Distance ")]),a("p",{staticClass:"title"},[t._v(" "+t._s(t._f("as")(t.navigationDistance(t.navigation),"NM",2))+" ")])])]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v(" Total Time ")]),a("p",{staticClass:"title"},[t._v(" "+t._s(t._f("asDuration")(t.navigationDistance(t.navigation)))+" ")])])]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v(" Fuel Burned ")]),a("p",{staticClass:"title"},[t._v(" - L ")])])])])])],2)],1):t._e()])},i=[],s=a("f2f1"),n=a("9283"),r=a("3634"),o=a("2e0e"),c={name:"NavLog",components:{NavigationManager:s["a"],AircraftManager:n["a"]},mixins:[o["a"]],data(){return{currentRoute:void 0,pace:void 0}},computed:{navigation(){return this.$store.state.currentNavigation},aircraft(){return this.$store.state.currentAircraft}},methods:{navigationDistance(t){return new r["d"](t.routes.items.reduce((t,e)=>t+this.routeDistance(e),0))},navigationETE(t){return this.navigationDistance(t)*this.pace},routeDistance(t){let e=0;return t.items.reduce((t,a)=>(t&&(e+=t.distanceTo(a)),a),null),new r["d"](e)},routeETE(t){return this.routeDistance(t)*this.pace},waypointPair(t,e){if(!(e+1>=t.length))return[t.items[e],t.items[e+1]]},legDistance(t,e){const[a,i]=this.waypointPair(t,e);return a.distanceTo(i)},legBearing(t,e){const[a,i]=this.waypointPair(t,e);return a.bearingTo(i)},legETE(t,e){return this.legDistance(t,e)*this.pace}}},l=c,d=a("2877"),u=Object(d["a"])(l,render,i,!1,null,null,null);e["default"]=u.exports},"2e0e":function(t,e,a){"use strict";e["a"]={filters:{as(t,e,a){if(t)return t.as(e,a)},asDuration(t){return new Date(t||0).toLocaleTimeString(void 0,{timeZone:"UTC",hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}}}},f2f1:function(t,e,a){"use strict";var render=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-dropdown",t._b({attrs:{triggers:t.selectedData?["click"]:[]},scopedSlots:t._u([t.selectedData?{key:"trigger",fn:function(){return[t._t("default",[a("b-button",{attrs:{type:"is-primary","icon-right":"chevron-down"}},[t._v(" "+t._s(t.selectedData.name)+" ")])],{selected:t.selectedData})]},proxy:!0}:{key:"trigger",fn:function(){return[a("b-autocomplete",{attrs:{placeholder:"Open navigation",data:t.availableData||[],field:t.searchedProperty,"open-on-focus":"","keep-first":"","clear-on-select":"",clearable:""},on:{select:function(e){t.selectedData=e}},scopedSlots:t._u([t.edit?{key:"header",fn:function(){return[a("a",{on:{click:function(e){t.selectedData=new t.constructor({name:t.search})}}},[a("span",[t._v(" Create "+t._s(t.search))])])]},proxy:!0}:null,t.edit?{key:"footer",fn:function(){return[a("b-field",{staticClass:"file is-primary"},[a("b-upload",{staticClass:"file-label",attrs:{accept:"application/json"},on:{input:t.importData},model:{value:t.upload,callback:function(e){t.upload=e},expression:"upload"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{attrs:{icon:"upload"}}),a("span",[t._v("Import from file")])],1)])],1)]},proxy:!0}:null,t.edit?null:{key:"empty",fn:function(){return[a("span",[t._v(' "'),a("i",[t._v(t._s(t.search))]),t._v('" not found')])]},proxy:!0}],null,!0),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]},proxy:!0}],null,!0)},"b-dropdown",t.$attrs,!1),[t.selectedData?[a("b-dropdown-item",{attrs:{custom:""}},[t._t("header",null,{selected:t.selectedData})],2),t.edit?a("b-dropdown-item",{on:{click:t.saveData}},[a("b-icon",{attrs:{icon:"cloud-upload-outline",type:"is-warning"}}),t._v(" Save ")],1):t._e(),a("b-dropdown-item",{on:{click:function(e){t.selectedData=void 0}}},[a("b-icon",{attrs:{icon:"selection-off"}}),t._v(" Discard ")],1),t.edit?a("b-dropdown-item",{attrs:{disabled:!t.fromDB},on:{click:function(e){t.selectedData=t.cloneData(t.selectedData)}}},[a("b-icon",{attrs:{icon:"plus-circle-multiple-outline"}}),t._v(" Clone ")],1):t._e(),t.edit?a("b-dropdown-item",{on:{click:t.exportData}},[a("b-icon",{attrs:{icon:"download-outline"}}),t._v(" Download ")],1):t._e(),t.edit?a("b-dropdown-item",{attrs:{disabled:!t.fromDB},on:{click:t.deleteData}},[a("b-icon",{attrs:{icon:"delete-outline",type:"is-danger"}}),t._v(" Delete ")],1):t._e()]:t._e()],2)},i=[],s=a("1db5"),n=a("1caf"),r={name:"NavigationManager",mixins:[s["a"]],props:{edit:Boolean},data(){return{constructor:n["a"],searchedProperty:"name"}},computed:{selectedData:{get(){return this.$store.state.currentNavigation},set(t){this.$store.commit("currentNavigation",t)}}}},o=r,c=a("2877"),l=Object(c["a"])(o,render,i,!1,null,null,null);e["a"]=l.exports}}]);