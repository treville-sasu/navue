(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6b35876"],{"0dbd":function(n,i,o){"use strict";var s=o("e11e"),capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n},a={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null,custom:!0},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(n,i){var o=this.$parent.mapObject.attributionControl;o.removeAttribution(i).addAttribution(n)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(n){this.mapObject&&(n?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var n=this.mapObject?this.mapObject.getTooltip():null;n&&n.unbindTooltip()},unbindPopup:function unbindPopup(){var n=this.mapObject?this.mapObject.getPopup():null;n&&n.unbindPopup()},updateVisibleProp:function updateVisibleProp(n){this.$emit("update:visible",n)}}},l={props:{interactive:{type:Boolean,default:!0},bubblingMouseEvents:{type:Boolean,default:!0}},mounted:function mounted(){this.interactiveLayerOptions={interactive:this.interactive,bubblingMouseEvents:this.bubblingMouseEvents}}},c={mixins:[a,l],props:{lStyle:{type:Object,custom:!0,default:null},stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!1},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}},mounted:function mounted(){if(this.pathOptions=Object.assign({},this.layerOptions,this.interactiveLayerOptions,{stroke:this.stroke,color:this.color,weight:this.weight,opacity:this.opacity,lineCap:this.lineCap,lineJoin:this.lineJoin,dashArray:this.dashArray,dashOffset:this.dashOffset,fill:this.fill,fillColor:this.fillColor,fillOpacity:this.fillOpacity,fillRule:this.fillRule,className:this.className}),this.lStyle)for(var n in console.warn("lStyle is deprecated and is going to be removed in the next major version"),this.lStyle)this.pathOptions[n]=this.lStyle[n]},beforeDestroy:function beforeDestroy(){this.parentContainer?this.parentContainer.removeLayer(this):console.error("Missing parent container")},methods:{setLStyle:function setLStyle(n){this.mapObject.setStyle(n)},setStroke:function setStroke(n){this.mapObject.setStyle({stroke:n})},setColor:function setColor(n){this.mapObject.setStyle({color:n})},setWeight:function setWeight(n){this.mapObject.setStyle({weight:n})},setOpacity:function setOpacity(n){this.mapObject.setStyle({opacity:n})},setLineCap:function setLineCap(n){this.mapObject.setStyle({lineCap:n})},setLineJoin:function setLineJoin(n){this.mapObject.setStyle({lineJoin:n})},setDashArray:function setDashArray(n){this.mapObject.setStyle({dashArray:n})},setDashOffset:function setDashOffset(n){this.mapObject.setStyle({dashOffset:n})},setFill:function setFill(n){this.mapObject.setStyle({fill:n})},setFillColor:function setFillColor(n){this.mapObject.setStyle({fillColor:n})},setFillOpacity:function setFillOpacity(n){this.mapObject.setStyle({fillOpacity:n})},setFillRule:function setFillRule(n){this.mapObject.setStyle({fillRule:n})},setClassName:function setClassName(n){this.mapObject.setStyle({className:n})}}},h={mixins:[c],props:{fill:{type:Boolean,custom:!0,default:!0},radius:{type:Number,default:null}},mounted:function mounted(){this.circleOptions=Object.assign({},this.pathOptions,{radius:this.radius})}},p={props:{options:{type:Object,default:function(){return{}}}}},_={name:"LCircle",mixins:[h,p],props:{latLng:{type:[Object,Array],default:function(){return[0,0]}}},data:function data(){return{ready:!1}},mounted:function mounted(){var n=this,i=optionsMerger(this.circleOptions,this);this.mapObject=Object(s["circle"])(this.latLng,i),s["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.ready=!0,this.parentContainer=findRealParent(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){n.$emit("ready",n.mapObject)}))},methods:{}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var g=_,__vue_render__=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",{staticStyle:{display:"none"}},[n.ready?n._t("default"):n._e()],2)},b=[],x=void 0,L=void 0,C=void 0,P=!1,O=normalizeComponent({render:__vue_render__,staticRenderFns:b},x,g,L,P,C,!1,void 0,void 0,void 0);i["a"]=O},"1ebb":function(n,i,o){"use strict";var s=o("e11e"),capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n},a={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null,custom:!0},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(n,i){var o=this.$parent.mapObject.attributionControl;o.removeAttribution(i).addAttribution(n)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(n){this.mapObject&&(n?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var n=this.mapObject?this.mapObject.getTooltip():null;n&&n.unbindTooltip()},unbindPopup:function unbindPopup(){var n=this.mapObject?this.mapObject.getPopup():null;n&&n.unbindPopup()},updateVisibleProp:function updateVisibleProp(n){this.$emit("update:visible",n)}}},l={mixins:[a],mounted:function mounted(){this.layerGroupOptions=this.layerOptions},methods:{addLayer:function addLayer(n,i){i||this.mapObject.addLayer(n.mapObject),this.parentContainer.addLayer(n,!0)},removeLayer:function removeLayer(n,i){i||this.mapObject.removeLayer(n.mapObject),this.parentContainer.removeLayer(n,!0)}}},c={props:{options:{type:Object,default:function(){return{}}}}},h={name:"LLayerGroup",mixins:[l,c],data:function data(){return{ready:!1}},mounted:function mounted(){var n=this;this.mapObject=Object(s["layerGroup"])(),propsBinder(this,this.mapObject,this.$options.props),s["DomEvent"].on(this.mapObject,this.$listeners),this.ready=!0,this.parentContainer=findRealParent(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){n.$emit("ready",n.mapObject)}))}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var p=h,__vue_render__=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",{staticStyle:{display:"none"}},[n.ready?n._t("default"):n._e()],2)},_=[],g=void 0,b=void 0,x=void 0,L=!1,C=normalizeComponent({render:__vue_render__,staticRenderFns:_},g,p,b,L,x,!1,void 0,void 0,void 0);i["a"]=C},2102:function(n,i,o){},2253:function(n,i,o){"use strict";var s=o("e11e"),capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n},a={props:{position:{type:String,default:"topright"}},mounted:function mounted(){this.controlOptions={position:this.position}},beforeDestroy:function beforeDestroy(){this.mapObject&&this.mapObject.remove()}},l={props:{options:{type:Object,default:function(){return{}}}}},c={name:"LControl",mixins:[a,l],props:{disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},mounted:function mounted(){var n=this,i=s["Control"].extend({element:void 0,onAdd:function onAdd(){return this.element},setElement:function setElement(n){this.element=n}}),o=optionsMerger(this.controlOptions,this);this.mapObject=new i(o),propsBinder(this,this.mapObject,this.$options.props),this.parentContainer=findRealParent(this.$parent),this.mapObject.setElement(this.$el),this.disableClickPropagation&&s["DomEvent"].disableClickPropagation(this.$el),this.disableScrollPropagation&&s["DomEvent"].disableScrollPropagation(this.$el),this.mapObject.addTo(this.parentContainer.mapObject),this.$nextTick((function(){n.$emit("ready",n.mapObject)}))}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var h=c,__vue_render__=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",[n._t("default")],2)},p=[],_=void 0,g=void 0,b=void 0,x=!1,L=normalizeComponent({render:__vue_render__,staticRenderFns:p},_,h,g,x,b,!1,void 0,void 0,void 0);i["a"]=L},2699:function(n,i,o){"use strict";var s=o("e11e"),debounce=function(n,i){var o,debouncedFunction=function(){var s=[],a=arguments.length;while(a--)s[a]=arguments[a];var l=this;o&&clearTimeout(o),o=setTimeout((function(){n.apply(l,s),o=null}),i)};return debouncedFunction.cancel=function(){o&&clearTimeout(o)},debouncedFunction},capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},a={props:{options:{type:Object,default:function(){return{}}}}},l={name:"LMap",mixins:[a],props:{center:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},bounds:{type:[Array,Object],custom:!0,default:null},maxBounds:{type:[Array,Object],default:null},zoom:{type:Number,custom:!0,default:0},minZoom:{type:Number,default:null},maxZoom:{type:Number,default:null},paddingBottomRight:{type:Array,custom:!0,default:null},paddingTopLeft:{type:Array,custom:!0,default:null},padding:{type:Array,custom:!0,default:null},worldCopyJump:{type:Boolean,default:!1},crs:{type:Object,custom:!0,default:function(){return s["CRS"].EPSG3857}},maxBoundsViscosity:{type:Number,default:null},inertia:{type:Boolean,default:null},inertiaDeceleration:{type:Number,default:null},inertiaMaxSpeed:{type:Number,default:null},easeLinearity:{type:Number,default:null},zoomAnimation:{type:Boolean,default:null},zoomAnimationThreshold:{type:Number,default:null},fadeAnimation:{type:Boolean,default:null},markerZoomAnimation:{type:Boolean,default:null},noBlockingAnimations:{type:Boolean,default:!1}},data:function data(){return{ready:!1,lastSetCenter:this.center?Object(s["latLng"])(this.center):null,lastSetBounds:this.bounds?Object(s["latLngBounds"])(this.bounds):null,layerControl:void 0,layersToAdd:[],layersInControl:[]}},computed:{fitBoundsOptions:function fitBoundsOptions(){var n={animate:!this.noBlockingAnimations&&null};return this.padding?n.padding=this.padding:(this.paddingBottomRight&&(n.paddingBottomRight=this.paddingBottomRight),this.paddingTopLeft&&(n.paddingTopLeft=this.paddingTopLeft)),n}},beforeDestroy:function beforeDestroy(){this.debouncedMoveEndHandler&&this.debouncedMoveEndHandler.cancel(),this.mapObject&&this.mapObject.remove()},mounted:function mounted(){var n=this,i=optionsMerger({minZoom:this.minZoom,maxZoom:this.maxZoom,maxBounds:this.maxBounds,maxBoundsViscosity:this.maxBoundsViscosity,worldCopyJump:this.worldCopyJump,crs:this.crs,center:this.center,zoom:this.zoom,inertia:this.inertia,inertiaDeceleration:this.inertiaDeceleration,inertiaMaxSpeed:this.inertiaMaxSpeed,easeLinearity:this.easeLinearity,zoomAnimation:this.zoomAnimation,zoomAnimationThreshold:this.zoomAnimationThreshold,fadeAnimation:this.fadeAnimation,markerZoomAnimation:this.markerZoomAnimation},this);this.mapObject=Object(s["map"])(this.$el,i),this.bounds&&this.fitBounds(this.bounds),this.debouncedMoveEndHandler=debounce(this.moveEndHandler,100),this.mapObject.on("moveend",this.debouncedMoveEndHandler),this.mapObject.on("overlayadd",this.overlayAddHandler),this.mapObject.on("overlayremove",this.overlayRemoveHandler),s["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.ready=!0,this.$emit("leaflet:load"),this.$nextTick((function(){n.$emit("ready",n.mapObject)}))},methods:{registerLayerControl:function registerLayerControl(n){var i=this;this.layerControl=n,this.mapObject.addControl(n.mapObject),this.layersToAdd.forEach((function(n){i.layerControl.addLayer(n)})),this.layersToAdd=[]},addLayer:function addLayer(n,i){if(void 0!==n.layerType)if(void 0===this.layerControl)this.layersToAdd.push(n);else{var o=this.layersInControl.find((function(i){return i.mapObject._leaflet_id===n.mapObject._leaflet_id}));o||(this.layerControl.addLayer(n),this.layersInControl.push(n))}i||!1===n.visible||this.mapObject.addLayer(n.mapObject)},hideLayer:function hideLayer(n){this.mapObject.removeLayer(n.mapObject)},removeLayer:function removeLayer(n,i){void 0!==n.layerType&&(void 0===this.layerControl?this.layersToAdd=this.layersToAdd.filter((function(i){return i.name!==n.name})):(this.layerControl.removeLayer(n),this.layersInControl=this.layersInControl.filter((function(i){return i.mapObject._leaflet_id!==n.mapObject._leaflet_id})))),i||this.mapObject.removeLayer(n.mapObject)},setZoom:function setZoom(n,i){void 0!==n&&null!==n&&(this.mapObject.setZoom(n,{animate:!this.noBlockingAnimations&&null}),this.cacheMapView())},setCenter:function setCenter(n,i){if(null!=n){var o=Object(s["latLng"])(n),a=this.lastSetCenter||this.mapObject.getCenter();a.lat===o.lat&&a.lng===o.lng||(this.lastSetCenter=o,this.mapObject.panTo(o,{animate:!this.noBlockingAnimations&&null}),this.cacheMapView(void 0,o))}},setBounds:function setBounds(n,i){if(n){var o=Object(s["latLngBounds"])(n);if(o.isValid()){var a=this.lastSetBounds||this.mapObject.getBounds(),l=!a.equals(o,0);l&&(this.fitBounds(o),this.cacheMapView(o))}}},setPaddingBottomRight:function setPaddingBottomRight(n,i){this.paddingBottomRight=n},setPaddingTopLeft:function setPaddingTopLeft(n,i){this.paddingTopLeft=n},setPadding:function setPadding(n,i){this.padding=n},setCrs:function setCrs(n,i){var o=this.mapObject,s=o.getBounds();o.options.crs=n,this.fitBounds(s,{animate:!1})},fitBounds:function fitBounds(n,i){this.mapObject.fitBounds(n,Object.assign({},this.fitBoundsOptions,i))},moveEndHandler:function moveEndHandler(){this.$emit("update:zoom",this.mapObject.getZoom());var n=this.mapObject.getCenter();this.$emit("update:center",n);var i=this.mapObject.getBounds();this.$emit("update:bounds",i)},overlayAddHandler:function overlayAddHandler(n){var i=this.layersInControl.find((function(i){return i.name===n.name}));i&&i.updateVisibleProp(!0)},overlayRemoveHandler:function overlayRemoveHandler(n){var i=this.layersInControl.find((function(i){return i.name===n.name}));i&&i.updateVisibleProp(!1)},cacheMapView:function cacheMapView(n,i){this.lastSetBounds=n||this.mapObject.getBounds(),this.lastSetCenter=i||this.lastSetBounds.getCenter()}}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var c,h="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(n){return function(n,i){return addStyle(n,i)}}var p={};function addStyle(n,i){var o=h?i.media||"default":n,s=p[o]||(p[o]={ids:new Set,styles:[]});if(!s.ids.has(n)){s.ids.add(n);var a=i.source;if(i.map&&(a+="\n/*# sourceURL="+i.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i.map))))+" */"),s.element||(s.element=document.createElement("style"),s.element.type="text/css",i.media&&s.element.setAttribute("media",i.media),void 0===c&&(c=document.head||document.getElementsByTagName("head")[0]),c.appendChild(s.element)),"styleSheet"in s.element)s.styles.push(a),s.element.styleSheet.cssText=s.styles.filter(Boolean).join("\n");else{var l=s.ids.size-1,_=document.createTextNode(a),g=s.element.childNodes;g[l]&&s.element.removeChild(g[l]),g.length?s.element.insertBefore(_,g[l]):s.element.appendChild(_)}}}var _=l,__vue_render__=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",{staticClass:"vue2leaflet-map"},[n.ready?n._t("default"):n._e()],2)},g=[],__vue_inject_styles__=function(n){n&&n("data-v-09f270aa_0",{source:".vue2leaflet-map{height:100%;width:100%}",map:void 0,media:void 0})},b=void 0,x=void 0,L=!1,C=normalizeComponent({render:__vue_render__,staticRenderFns:g},__vue_inject_styles__,_,b,L,x,!1,createInjector,void 0,void 0);i["a"]=C},"29ae":function(n,i,o){"use strict";var s=o("e11e"),a=o.n(s);delete a.a.Icon.Default.prototype._getIconUrl,a.a.Icon.Default.mergeOptions({iconRetinaUrl:o("584d"),iconUrl:o("6397"),shadowUrl:o("e2b9")})},"2cec":function(n,i,o){"use strict";var render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("l-layer-group",[n._l(n.value,(function(i,s){return o("LWaypointMarker",{key:s,attrs:{draggable:n.active},on:{click:function(i){return n.$emit("click-waypoint",s)},contextmenu:function(i){return n.$emit("contextmenu-waypoint",s)}},model:{value:n.value[s],callback:function(i){n.$set(n.value,s,i)},expression:"value[wp_id]"}})})),n._l(n.legs,(function(i,s){return o("LTracePolyline",{key:"leg"+s,attrs:{active:n.active,origin:i.previous,destination:i.current,className:n.active?"routeTrace":"inactiveRoute"},on:{contextmenu:function(i){return n.$emit("contextmenu-trace")},click:function(o){return n.$emit("click-trace",{latlng:o.latlng,insertBefore:i.insertBefore})}}})}))],2)},s=[],a=o("1ebb"),l=o("ef62"),LWaypointMarkervue_type_template_id_14d8c1b2_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("l-marker",n._g(n._b({attrs:{"lat-lng":n.value.latlng},on:{"update:latLng":function(i){return n.$set(n.value,"latlng",i)},"update:lat-lng":function(i){return n.$set(n.value,"latlng",i)}}},"l-marker",n.$attrs,!1),n.$listeners),[o("l-icon",{attrs:{"icon-anchor":[20,16],"icon-size":[40,40],className:"route-icon"}},[o("div",{staticClass:"leaflet-waypoint-point"})]),n.$attrs.draggable?o("l-popup",{attrs:{options:{closeButton:!0,className:"leaflet-waypoint-popup",maxWidth:"60vw"}}},[o("WaypointContent",{model:{value:n.value,callback:function(i){n.value=i},expression:"value"}})],1):n.value.name||n.value.altitude?o("l-tooltip",{attrs:{options:{className:"waypointLabel",permanent:!0,sticky:!0}}},[n._v(" "+n._s(n.value.name)+" "+n._s(n.value.name&&n.value.altitude?"|":"")+" "+n._s(n.value.altitude&&n.value.altitude.toString())+" ")]):n._e()],1)},c=[],h=o("4e2b"),p=o("fbba"),_=o("f60f"),g=o("31dc"),b=o("a22c"),x={name:"LWaypointMarker",components:{LMarker:h["a"],LIcon:p["a"],LPopup:_["a"],LTooltip:g["a"],WaypointContent:b["a"]},props:["value"]},L=x,C=(o("cbbb"),o("2877")),P=Object(C["a"])(L,LWaypointMarkervue_type_template_id_14d8c1b2_render,c,!1,null,null,null),O=P.exports,LTracePolylinevue_type_template_id_52bd156b_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("l-polyline",n._g(n._b({attrs:{"lat-lngs":[n.origin.latlng,n.destination.latlng]}},"l-polyline",n.$attrs,!1),n.$listeners),[n.active?n._e():o("l-tooltip",{attrs:{options:{className:"routeLabel",direction:"center",permanent:!0,sticky:!0}}},[n._v(" "+n._s(n._f("as")(n.bearing,"°",3))+" | "+n._s(n._f("as")(n.distance,"NM",3))+" ")])],1)},T=[],S=o("635f"),A=o("2e0e"),k={name:"LTracePolyline",mixins:[A["a"]],components:{LPolyline:S["a"],LTooltip:g["a"]},props:{active:Boolean,origin:Object,destination:Object},computed:{bearing(){return this.origin.bearingTo(this.destination)},distance(){return this.origin.distanceTo(this.destination)}}},E=k,j=(o("b68c"),Object(C["a"])(E,LTracePolylinevue_type_template_id_52bd156b_render,T,!1,null,null,null)),M=j.exports,B={name:"LRouteLayerGroup",components:{LLayerGroup:a["a"],LWaypointMarker:O,LTracePolyline:M},props:{value:Array,active:Boolean},mounted(){this.map=Object(l["d"])(this.$parent,!0).mapObject},computed:{traceCoord(){return this.value.map(n=>n.latlng)},legs(){let n=[];return this.value.reduce((i,o,s)=>(i&&n.push({previous:i,current:o,insertBefore:s}),o),null),n}}},z=B,N=Object(C["a"])(z,render,s,!1,null,null,null);i["a"]=N.exports},"2e0e":function(n,i,o){"use strict";i["a"]={filters:{as(n,i,o){if(n)return n.as(i,o)},asDuration(n,i=1){return n?(n instanceof Date?n:new Date(n*i)).toLocaleTimeString([],{timeZone:"UTC",hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-"}}}},"31dc":function(n,i,o){"use strict";var s=o("e11e"),capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n},a={props:{content:{type:String,default:null,custom:!0}},mounted:function mounted(){this.popperOptions={}},methods:{setContent:function setContent(n){this.mapObject&&null!==n&&void 0!==n&&this.mapObject.setContent(n)}},render:function render(n){return this.$slots.default?n("div",this.$slots.default):null}},l={props:{options:{type:Object,default:function(){return{}}}}},c={name:"LTooltip",mixins:[a,l],mounted:function mounted(){var n=this,i=optionsMerger(this.popperOptions,this);this.mapObject=Object(s["tooltip"])(i),s["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.mapObject.setContent(this.content||this.$el),this.parentContainer=findRealParent(this.$parent),this.parentContainer.mapObject.bindTooltip(this.mapObject),this.$nextTick((function(){n.$emit("ready",n.mapObject)}))},beforeDestroy:function beforeDestroy(){this.parentContainer&&(this.parentContainer.unbindTooltip?this.parentContainer.unbindTooltip():this.parentContainer.mapObject&&this.parentContainer.mapObject.unbindTooltip&&this.parentContainer.mapObject.unbindTooltip())}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var h=c,p=void 0,_=void 0,g=void 0,b=void 0,x=normalizeComponent({},p,h,_,b,g,!1,void 0,void 0,void 0);i["a"]=x},"37f7":function(n,i,o){"use strict";var render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("b-field",[n.navigation?o("p",{staticClass:"control"},[o("NavigationManager",n._b({scopedSlots:n._u([{key:"header",fn:function(i){var s=i.selected;return[n.navigation.edit?o("b-input",{attrs:{placeholder:"from > to"},model:{value:s.name,callback:function(i){n.$set(s,"name",i)},expression:"selected.name"}}):o("span",[n._v(" "+n._s(s.name)+" ")])]}}],null,!1,804264395)},"NavigationManager",Object.assign({},n.navigation,n.dropdown),!1))],1):n._e(),n.aircraft?o("p",{staticClass:"control"},[o("AircraftManager",n._b({scopedSlots:n._u([{key:"header",fn:function(i){var o=i.selected;return[n._v(" "+n._s(o.registration)+" ")]}}],null,!1,4016708378)},"AircraftManager",Object.assign({},n.aircraft,n.dropdown),!1))],1):n._e(),n.flight?o("p",{staticClass:"control"},[o("FlightManager",n._b({scopedSlots:n._u([{key:"header",fn:function(i){var s=i.selected;return[o("b-input",{attrs:{placeholder:"Flight n°"},model:{value:s.name,callback:function(i){n.$set(s,"name",i)},expression:"selected.name"}})]}}],null,!1,2423560444)},"FlightManager",Object.assign({},n.flight,n.dropdown),!1))],1):n._e(),n.location?o("p",{staticClass:"control"},[o("ViewManager",n._b({scopedSlots:n._u([{key:"header",fn:function(i){var s=i.selected;return[o("b-input",{attrs:{placeholder:"search location"},model:{value:s.name,callback:function(i){n.$set(s,"name",i)},expression:"selected.name"}})]}}],null,!1,4174007241)},"ViewManager",Object.assign({},n.dropdown),!1))],1):n._e()])},s=[],NavigationManagervue_type_template_id_640f36df_render=function(){var n=this,i=this,o=i.$createElement,s=i._self._c||o;return s("b-dropdown",i._b({scopedSlots:i._u([{key:"trigger",fn:function(){return[i._t("default",(function(){return[s("b-button",[s("b-tooltip",{attrs:{position:"is-bottom",label:i.selectedData?i.selectedData.name:"Navigation"}},[s("b-icon",{attrs:{icon:"map-marker-path",type:i.selectedData?"is-success":""}})],1)],1)]}),{selected:i.selectedData})]},proxy:!0}],null,!0)},"b-dropdown",i.$attrs,!1),[i.selectedData?[i.$slots.header||i.$scopedSlots.header?s("b-dropdown-item",{attrs:{custom:""}},[i._t("header",null,{selected:i.selectedData})],2):i._e(),i.$slots.header||i.$scopedSlots.header?s("b-dropdown-item",{attrs:{separator:""}}):i._e(),i.edit?[s("b-dropdown-item",{on:{click:i.saveData}},[s("b-icon",{attrs:{icon:"cloud-upload-outline",type:"is-warning"}}),i._v(" Save ")],1),s("b-dropdown-item",{on:{click:i.exportData}},[s("b-icon",{attrs:{icon:"download-outline"}}),i._v(" Export ")],1),i.create?s("b-dropdown-item",{attrs:{disabled:!i.fromDB},on:{click:function(n){i.selectedData=i.cloneData(i.selectedData)}}},[s("b-icon",{attrs:{icon:"plus-circle-multiple-outline"}}),i._v(" Clone ")],1):i._e(),s("b-dropdown-item",{attrs:{disabled:!i.fromDB},on:{click:i.deleteData}},[s("b-icon",{attrs:{icon:"delete-outline",type:"is-danger"}}),i._v(" Delete ")],1)]:i._e(),s("b-dropdown-item",i._g({},i.persistent?{click:i.createData}:{click:i.discardData}),[s("b-icon",{attrs:{icon:"selection-off"}}),i._v(" Discard ")],1)]:[s("b-dropdown-item",{attrs:{custom:""}},[s("b-autocomplete",{attrs:{placeholder:"Choose an navigation",data:i.availableData||[],field:i.searchedProperty,"open-on-focus":"","keep-first":"","clear-on-select":"",clearable:""},on:{select:function(i,o){o.stopPropagation(),n.selectedData=i}},scopedSlots:i._u([i.search?{key:"empty",fn:function(){return[s("i",[i._v(i._s(i.search))]),i._v(" not found ")]},proxy:!0}:{key:"empty",fn:function(){return[i._v(" No navigation prepared ")]},proxy:!0}],null,!0),model:{value:i.search,callback:function(n){i.search=n},expression:"search"}})],1),i.create?s("b-dropdown-item",{on:{click:i.createData}},[s("b-icon",{attrs:{icon:"plus-circle-outline"}}),i._v(" New Navigation ")],1):i._e(),i.create?s("b-dropdown-item",[s("b-upload",{attrs:{accept:"application/json"},on:{input:i.importData},model:{value:i.upload,callback:function(n){i.upload=n},expression:"upload"}},[s("b-icon",{attrs:{icon:"upload"}}),i._v(" Import ")],1)],1):i._e()],"Briefing"!=i.$route.name?s("b-dropdown-item",{attrs:{"has-link":""}},[s("router-link",{attrs:{to:{name:"Briefing"}}},[i._v(" Edit Navigation ")])],1):i._e()],2)},a=[],l=o("1db5"),c=o("1caf"),h={name:"NavigationManager",mixins:[l["a"]],data(){return{constructor:c["a"],storeKey:"currentNavigation",searchedProperty:"name"}}},p=h,_=o("2877"),g=Object(_["a"])(p,NavigationManagervue_type_template_id_640f36df_render,a,!1,null,null,null),b=g.exports,x=o("7226"),FlightManagervue_type_template_id_7837eb0e_render=function(){var n=this,i=this,o=i.$createElement,s=i._self._c||o;return s("b-dropdown",i._b({scopedSlots:i._u([{key:"trigger",fn:function(){return[i._t("default",(function(){return[s("b-button",[s("b-tooltip",{attrs:{position:"is-bottom",label:i.selectedData?i.selectedData.name||"new":"Flight"}},[s("b-icon",{attrs:{icon:"go-kart-track",type:i.selectedData?"is-success":""}})],1)],1)]}),{selected:i.selectedData})]},proxy:!0}],null,!0)},"b-dropdown",i.$attrs,!1),[i.selectedData?[i.$slots.header||i.$scopedSlots.header?s("b-dropdown-item",{attrs:{custom:""}},[i._t("header",null,{selected:i.selectedData})],2):i._e(),i.$slots.header||i.$scopedSlots.header?s("b-dropdown-item",{attrs:{separator:""}}):i._e(),i.persistent?[s("b-dropdown-item",{on:{click:i.buildFromLocal}},[s("b-icon",{attrs:{icon:"cloud-upload-outline",type:"is-warning"}}),i._v(" Save ")],1),i.trace?s("b-dropdown-item",{on:{click:i.deleteLocations}},[s("b-icon",{attrs:{icon:"map-marker-remove-outline",type:"is-danger"}}),i._v("Delete trace ")],1):i._e()]:i.edit?[s("b-dropdown-item",{on:{click:i.exportData}},[s("b-icon",{attrs:{icon:"download-outline"}}),i._v(" Export ")],1),s("b-dropdown-item",{attrs:{disabled:!i.fromDB},on:{click:i.deleteData}},[s("b-icon",{attrs:{icon:"delete-outline",type:"is-danger"}}),i._v(" Delete ")],1)]:i._e(),s("b-dropdown-item",i._g({},i.persistent?{click:i.createData}:{click:i.discardData}),[s("b-icon",{attrs:{icon:"selection-off"}}),i._v(" Discard ")],1)]:[s("b-autocomplete",{attrs:{placeholder:"Open Flight",data:i.availableData||[],field:i.searchedProperty,"open-on-focus":"","keep-first":"","clear-on-select":"",clearable:""},on:{select:function(i,o){o.stopPropagation(),n.selectedData=i}},scopedSlots:i._u([i.edit?{key:"header",fn:function(){return[s("a",{on:{click:function(n){i.selectedData=new i.constructor({name:i.search})}}},[s("span",[i._v(" Create "+i._s(i.search))])])]},proxy:!0}:null,i.edit?{key:"footer",fn:function(){return[s("b-field",{staticClass:"file is-primary"},[s("b-upload",{staticClass:"file-label",attrs:{accept:"application/json"},on:{input:i.importData},model:{value:i.upload,callback:function(n){i.upload=n},expression:"upload"}},[s("span",{staticClass:"file-cta"},[s("b-icon",{attrs:{icon:"upload"}}),s("span",[i._v("Import from file")])],1)])],1)]},proxy:!0}:null,!i.edit&&i.search?{key:"empty",fn:function(){return[s("i",[i._v(i._s(i.search))]),i._v(" not found ")]},proxy:!0}:{key:"empty",fn:function(){return[i._v(" No Flight recorded ")]},proxy:!0}],null,!0),model:{value:i.search,callback:function(n){i.search=n},expression:"search"}})]],2)},L=[],C=o("00b4"),P={name:"FlightManager",mixins:[l["a"]],props:{trace:String},data(){return{constructor:C["a"],storeKey:"currentFlight",searchedProperty:"name"}},methods:{async buildFromLocal(){return await this.importLocations().then(this.saveData).then(this.deleteLocations)},async importLocations(){let n=await this.$pouch[this.trace].query({map:({_id:n,_rev:i,...o},s)=>{"Location"==o.type&&s(n.split("-")[0],o)},reduce:(n,i)=>i},{group:!0}).then(({rows:n})=>n.map(n=>{this.selectedData.addTrace(n.value)}));return n.length>0},async deleteLocations(){return await this.$pouch[this.trace].viewCleanup(),await this.$pouch[this.trace].destroy()}}},O=P,T=Object(_["a"])(O,FlightManagervue_type_template_id_7837eb0e_render,L,!1,null,null,null),S=T.exports,ViewManagervue_type_template_id_5cab37c4_render=function(){var n=this,i=this,o=i.$createElement,s=i._self._c||o;return s("b-dropdown",i._b({scopedSlots:i._u([{key:"trigger",fn:function(){return[i._t("default",(function(){return[s("b-button",[s("b-tooltip",{attrs:{position:"is-bottom",label:"Locations"}},[s("b-icon",{attrs:{icon:"map-marker"}})],1)],1)]}))]},proxy:!0}],null,!0)},"b-dropdown",i.$attrs,!1),[s("b-dropdown-item",{attrs:{custom:""}},[s("b-autocomplete",{attrs:{placeholder:"location",data:i.results,field:"label",loading:i.isFetching,"keep-first":"","clear-on-select":"",icon:"map-search"},on:{typing:i.searchLocation,select:function(i,o){var s=i.x,a=i.y;o.stopPropagation(),n.onLocationFound({latitude:a,longitude:s})}}})],1),s("b-dropdown-item",{attrs:{disabled:!i.canLocate},on:{click:i.locate}},[s("b-icon",{attrs:{icon:"crosshairs-gps"}}),i._v(" Locate with GNSS ")],1),s("b-dropdown-item",[s("b-icon",{attrs:{icon:"crosshairs"}}),i._v(" Center view ")],1),s("b-dropdown-item",[s("b-icon",{attrs:{icon:"compass"}}),i._v(" Put north on top ")],1)],1)},A=[],k=o("e11e");function geosearch_module_u(){return(geosearch_module_u=Object.assign||function(n){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n}).apply(this,arguments)}function geosearch_module_l(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i}function f(n,i,o,s){void 0===i&&(i=""),void 0===s&&(s={});var a=document.createElement(n);return i&&(a.className=i),Object.keys(s).forEach((function(n){if("function"==typeof s[n]){var i=0===n.indexOf("on")?n.substr(2).toLowerCase():n;a.addEventListener(i,s[n])}else"html"===n?a.innerHTML=s[n]:"text"===n?a.innerText=s[n]:a.setAttribute(n,s[n])})),o&&o.appendChild(a),a}function d(n){n.preventDefault(),n.stopPropagation()}var m=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.filter(Boolean).join(" ").trim()};function v(n,i){n&&n.classList&&(Array.isArray(i)?i:[i]).forEach((function(i){n.classList.contains(i)||n.classList.add(i)}))}function y(n,i){n&&n.classList&&(Array.isArray(i)?i:[i]).forEach((function(i){n.classList.contains(i)&&n.classList.remove(i)}))}var E,j=13,M=40,B=38,z=[j,27,M,B,37,39],N=function(){function t(n){var i=this,o=n.handleSubmit,s=n.searchLabel,a=n.classNames,l=void 0===a?{}:a;this.hasError=!1,this.container=f("div",m("geosearch",l.container)),this.form=f("form",["",l.form].join(" "),this.container,{autocomplete:"none",onClick:d,onDblClick:d,touchStart:d,touchEnd:d}),this.input=f("input",["glass",l.input].join(" "),this.form,{type:"text",placeholder:s||"search",onInput:this.onInput,onKeyUp:function(n){return i.onKeyUp(n)},onKeyPress:function(n){return i.onKeyPress(n)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){i.input.focus(),i.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=o}var n=t.prototype;return n.onFocus=function(){v(this.form,"active")},n.onBlur=function(){y(this.form,"active")},n.onSubmit=function(n){try{var i=this;return d(n),y(o=i.container,"error"),v(o,"pending"),Promise.resolve(i.handleSubmit({query:i.input.value})).then((function(){y(i.container,"pending")}))}catch(n){return Promise.reject(n)}var o},n.onInput=function(){this.hasError&&(y(this.container,"error"),this.hasError=!1)},n.onKeyUp=function(n){27===n.keyCode&&(y(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},n.onKeyPress=function(n){n.keyCode===j&&this.onSubmit(n)},n.setQuery=function(n){this.input.value=n},t}(),I=function(){function t(n){var i=this,o=n.handleClick,s=n.classNames,a=void 0===s?{}:s,l=n.notFoundMessage;this.selected=-1,this.results=[],this.onClick=function(n){if("function"==typeof i.handleClick){var o=n.target;if(o&&i.container.contains(o)&&o.hasAttribute("data-key")){var s=Number(o.getAttribute("data-key"));i.clear(),i.handleClick({result:i.results[s]})}}},this.handleClick=o,this.notFoundMessage=l?f("div",m(a.notfound),void 0,{html:l}):void 0,this.container=f("div",m("results",a.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=f("div",m(a.item))}var n=t.prototype;return n.render=function(n,i){var o=this;void 0===n&&(n=[]),this.clear(),n.forEach((function(n,s){var a=o.resultItem.cloneNode(!0);a.setAttribute("data-key",""+s),a.innerHTML=i({result:n}),o.container.appendChild(a)})),n.length>0?(v(this.container.parentElement,"open"),v(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),v(this.container.parentElement,"open")),this.results=n},n.select=function(n){return Array.from(this.container.children).forEach((function(i,o){return o===n?v(i,"active"):y(i,"active")})),this.selected=n,this.results[n]},n.count=function(){return this.results?this.results.length:0},n.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);y(this.container.parentElement,"open"),y(this.container,"active")},t}(),D={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(n){return""+n.result.label},resultFormat:function(n){return""+n.result.label},marker:{icon:k&&k["Icon"]?new k["Icon"].Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},R="Leaflet must be loaded before instantiating the GeoSearch control";geosearch_module_u({},D),geosearch_module_u({},D.classNames);!function(n){n[n.SEARCH=0]="SEARCH",n[n.REVERSE=1]="REVERSE"}(E||(E={}));var Z=function(){function t(n){void 0===n&&(n={}),this.options=n}var n=t.prototype;return n.getParamString=function(n){void 0===n&&(n={});var i=geosearch_module_u({},this.options.params,{},n);return Object.keys(i).map((function(n){return encodeURIComponent(n)+"="+encodeURIComponent(i[n])})).join("&")},n.getUrl=function(n,i){return n+"?"+this.getParamString(i)},n.search=function(n){try{var i=this,o=i.endpoint({query:n.query,type:E.SEARCH});return Promise.resolve(fetch(o)).then((function(n){return Promise.resolve(n.json()).then((function(n){return i.parse({data:n})}))}))}catch(n){return Promise.reject(n)}},t}(),$=(function(n){function e(){return n.apply(this,arguments)||this}geosearch_module_l(e,n);var i=e.prototype;i.endpoint=function(){return"https://places-dsn.algolia.net/1/places/query"},i.findBestMatchLevelIndex=function(n){var i=n.find((function(n){return"full"===n.matchLevel}))||n.find((function(n){return"partial"===n.matchLevel}));return i?n.indexOf(i):0},i.getLabel=function(n){var i,o,s,a;return[null==(i=n.locale_names)?void 0:i.default[this.findBestMatchLevelIndex(n._highlightResult.locale_names.default)],null==(o=n.city)?void 0:o.default[this.findBestMatchLevelIndex(n._highlightResult.city.default)],n.administrative[this.findBestMatchLevelIndex(n._highlightResult.administrative)],null==(s=n.postcode)?void 0:s[this.findBestMatchLevelIndex(n._highlightResult.postcode)],null==(a=n.country)?void 0:a.default].filter(Boolean).join(", ")},i.parse=function(n){var i=this;return n.data.hits.map((function(n){return{x:n._geoloc.lng,y:n._geoloc.lat,label:i.getLabel(n),bounds:null,raw:n}}))},i.search=function(n){var i=n.query;try{var o=this,s="string"==typeof i?{query:i}:i;return Promise.resolve(fetch(o.endpoint(),{method:"POST",body:JSON.stringify(geosearch_module_u({},o.options.params,{},s))})).then((function(n){return Promise.resolve(n.json()).then((function(n){return o.parse({data:n})}))}))}catch(n){return Promise.reject(n)}}}(Z),function(n){function e(){var i;return(i=n.apply(this,arguments)||this).searchUrl="https://dev.virtualearth.net/REST/v1/Locations",i}geosearch_module_l(e,n);var i=e.prototype;i.endpoint=function(n){var i=n.query,o="string"==typeof i?{q:i}:i;return o.jsonp=n.jsonp,this.getUrl(this.searchUrl,o)},i.parse=function(n){return 0===n.data.resourceSets.length?[]:n.data.resourceSets[0].resources.map((function(n){return{x:n.point.coordinates[1],y:n.point.coordinates[0],label:n.address.formattedAddress,bounds:[[n.bbox[0],n.bbox[1]],[n.bbox[2],n.bbox[3]]],raw:n}}))},i.search=function(n){var i,o,s,a=n.query;try{var l=this,c="BING_JSONP_CB_"+Date.now();return Promise.resolve((i=l.endpoint({query:a,jsonp:c}),o=c,s=f("script",null,document.body),s.setAttribute("type","text/javascript"),new Promise((function(n){window[o]=function(i){s.remove(),delete window[o],n(i)},s.setAttribute("src",i)})))).then((function(n){return l.parse({data:n})}))}catch(n){return Promise.reject(n)}}}(Z),function(n){function e(){var i;return(i=n.apply(this,arguments)||this).searchUrl="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find",i}geosearch_module_l(e,n);var i=e.prototype;i.endpoint=function(n){var i=n.query,o="string"==typeof i?{text:i}:i;return o.f="json",this.getUrl(this.searchUrl,o)},i.parse=function(n){return n.data.locations.map((function(n){return{x:n.feature.geometry.x,y:n.feature.geometry.y,label:n.name,bounds:[[n.extent.ymin,n.extent.xmin],[n.extent.ymax,n.extent.xmax]],raw:n}}))}}(Z),function(n){function e(){var i;return(i=n.apply(this,arguments)||this).searchUrl="https://maps.googleapis.com/maps/api/geocode/json",i}geosearch_module_l(e,n);var i=e.prototype;i.endpoint=function(n){var i=n.query;return this.getUrl(this.searchUrl,"string"==typeof i?{address:i}:i)},i.parse=function(n){return n.data.results.map((function(n){return{x:n.geometry.location.lng,y:n.geometry.location.lat,label:n.formatted_address,bounds:[[n.geometry.viewport.southwest.lat,n.geometry.viewport.southwest.lng],[n.geometry.viewport.northeast.lat,n.geometry.viewport.northeast.lng]],raw:n}}))}}(Z),function(n){function e(){var i;return(i=n.apply(this,arguments)||this).searchUrl="https://geocode.search.hereapi.com/v1/geocode",i}geosearch_module_l(e,n);var i=e.prototype;i.endpoint=function(n){var i=n.query;return this.getUrl(this.searchUrl,"string"==typeof i?{q:i}:i)},i.parse=function(n){return n.data.items.map((function(n){return{x:n.position.lng,y:n.position.lat,label:n.address.label,bounds:null,raw:n}}))}}(Z),function(n){function e(i){var o;void 0===i&&(i={});var s="https://nominatim.openstreetmap.org";return(o=n.call(this,i)||this).searchUrl=i.searchUrl||s+"/search",o.reverseUrl=i.reverseUrl||s+"/reverse",o}geosearch_module_l(e,n);var i=e.prototype;return i.endpoint=function(n){var i=n.query,o=n.type,s="string"==typeof i?{q:i}:i;switch(s.format="json",o){case E.REVERSE:return this.getUrl(this.reverseUrl,s);default:return this.getUrl(this.searchUrl,s)}},i.parse=function(n){return(Array.isArray(n.data)?n.data:[n.data]).map((function(n){return{x:Number(n.lon),y:Number(n.lat),label:n.display_name,bounds:[[parseFloat(n.boundingbox[0]),parseFloat(n.boundingbox[2])],[parseFloat(n.boundingbox[1]),parseFloat(n.boundingbox[3])]],raw:n}}))},e}(Z)),U=(function(n){function e(i){return n.call(this,geosearch_module_u({},i,{searchUrl:"https://locationiq.org/v1/search.php",reverseUrl:"https://locationiq.org/v1/reverse.php"}))||this}geosearch_module_l(e,n)}($),function(n){function e(){var i;return(i=n.apply(this,arguments)||this).searchUrl="https://api.opencagedata.com/geocode/v1/json",i}geosearch_module_l(e,n);var i=e.prototype;i.endpoint=function(n){var i=n.query,o="string"==typeof i?{q:i}:i;return o.format="json",this.getUrl(this.searchUrl,o)},i.parse=function(n){return n.data.results.map((function(n){return{x:n.geometry.lng,y:n.geometry.lat,label:n.formatted,bounds:[[n.bounds.southwest.lat,n.bounds.southwest.lng],[n.bounds.northeast.lat,n.bounds.northeast.lng]],raw:n}}))},i.search=function(i){try{return Promise.resolve(i.query.length<2?[]:n.prototype.search.call(this,i))}catch(n){return Promise.reject(n)}}}(Z),function(n){function e(i){var o;return void 0===i&&(i={}),(o=n.call(this,i)||this).searchUrl=i.searchUrl||"https://a.tiles.mapbox.com/v4/geocode/mapbox.places/",o}geosearch_module_l(e,n);var i=e.prototype;i.endpoint=function(n){return this.getUrl(""+this.searchUrl+n.query+".json")},i.parse=function(n){return(Array.isArray(n.data.features)?n.data.features:[]).map((function(n){var i=null;return n.bbox&&(i=[[parseFloat(n.bbox[1]),parseFloat(n.bbox[0])],[parseFloat(n.bbox[3]),parseFloat(n.bbox[2])]]),{x:Number(n.center[0]),y:Number(n.center[1]),label:n.place_name?n.place_name:n.text,bounds:i,raw:n}}))}}(Z),function(n){function e(i){var o;void 0===i&&(i={});var s="https://api-adresse.data.gouv.fr";return(o=n.call(this,i)||this).searchUrl=i.searchUrl||s+"/search",o.reverseUrl=i.reverseUrl||s+"/reverse",o}geosearch_module_l(e,n);var i=e.prototype;i.endpoint=function(n){var i=n.query,o="string"==typeof i?{q:i}:i;switch(n.type){case E.REVERSE:return this.getUrl(this.reverseUrl,o);default:return this.getUrl(this.searchUrl,o)}},i.parse=function(n){return n.data.features.map((function(n){return{x:n.geometry.coordinates[0],y:n.geometry.coordinates[1],label:n.properties.label,bounds:null,raw:n}}))}}(Z),{name:"ViewManager",data(){return{canLocate:"geolocation"in navigator,isFetching:!1,results:[],geosearch:new $,parentContainer:void 0}},inject:["getMap"],methods:{locate(){navigator.geolocation.getCurrentPosition(({coords:n})=>this.onLocationFound(n),console.error,{enableHighAccuracy:!0,maximumAge:0})},async searchLocation(n){n.length>=3&&(this.isFetching=!0,this.results=await this.geosearch.search({query:n}),this.isFetching=!1)},onLocationFound({latitude:n,longitude:i}){console.debug([n,i]),this.$emit("update:center",[n,i]),this.getMap().flyTo([n,i])}}}),q=U,V=Object(_["a"])(q,ViewManagervue_type_template_id_5cab37c4_render,A,!1,null,null,null),W=V.exports,H={name:"DataToolbox",components:{NavigationManager:b,AircraftManager:x["a"],FlightManager:S,ViewManager:W},props:{navigation:[Boolean,Object],aircraft:[Boolean,Object],flight:[Boolean,Object],location:[Boolean,Object],dropdown:Object}},J=H,K=Object(_["a"])(J,render,s,!1,null,null,null);i["a"]=K.exports},"3b14":function(n,i,o){},"4e2b":function(n,i,o){"use strict";var s=o("e11e"),debounce=function(n,i){var o,debouncedFunction=function(){var s=[],a=arguments.length;while(a--)s[a]=arguments[a];var l=this;o&&clearTimeout(o),o=setTimeout((function(){n.apply(l,s),o=null}),i)};return debouncedFunction.cancel=function(){o&&clearTimeout(o)},debouncedFunction},capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n},a={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null,custom:!0},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(n,i){var o=this.$parent.mapObject.attributionControl;o.removeAttribution(i).addAttribution(n)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(n){this.mapObject&&(n?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var n=this.mapObject?this.mapObject.getTooltip():null;n&&n.unbindTooltip()},unbindPopup:function unbindPopup(){var n=this.mapObject?this.mapObject.getPopup():null;n&&n.unbindPopup()},updateVisibleProp:function updateVisibleProp(n){this.$emit("update:visible",n)}}},l={props:{options:{type:Object,default:function(){return{}}}}},c={name:"LMarker",mixins:[a,l],props:{pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],custom:!1,default:function(){return new s["Icon"].Default}},opacity:{type:Number,custom:!1,default:1},zIndexOffset:{type:Number,custom:!1,default:null}},data:function data(){return{ready:!1}},beforeDestroy:function beforeDestroy(){this.debouncedLatLngSync&&this.debouncedLatLngSync.cancel()},mounted:function mounted(){var n=this,i=optionsMerger(Object.assign({},this.layerOptions,{icon:this.icon,zIndexOffset:this.zIndexOffset,draggable:this.draggable,opacity:this.opacity}),this);this.mapObject=Object(s["marker"])(this.latLng,i),s["DomEvent"].on(this.mapObject,this.$listeners),this.debouncedLatLngSync=debounce(this.latLngSync,100),this.mapObject.on("move",this.debouncedLatLngSync),propsBinder(this,this.mapObject,this.$options.props),this.parentContainer=findRealParent(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.ready=!0,this.$nextTick((function(){n.$emit("ready",n.mapObject)}))},methods:{setDraggable:function setDraggable(n,i){this.mapObject.dragging&&(n?this.mapObject.dragging.enable():this.mapObject.dragging.disable())},setLatLng:function setLatLng(n){if(null!=n&&this.mapObject){var i=this.mapObject.getLatLng(),o=Object(s["latLng"])(n);o.lat===i.lat&&o.lng===i.lng||this.mapObject.setLatLng(o)}},latLngSync:function latLngSync(n){this.$emit("update:latLng",n.latlng),this.$emit("update:lat-lng",n.latlng)}},render:function(n){return this.ready&&this.$slots.default?n("div",{style:{display:"none"}},this.$slots.default):null}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var h=c,p=void 0,_=void 0,g=void 0,b=void 0,x=normalizeComponent({},p,h,_,b,g,!1,void 0,void 0,void 0);i["a"]=x},"584d":function(n,i){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},"5a64":function(n,i,o){"use strict";var render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("b-input",n._b({attrs:{maxlength:"1000",type:"textarea","custom-class":"has-fixed-size",icon:"radio-tower","icon-clickable":"","icon-right":"windsock","icon-right-clickable":""},on:{"icon-click":function(i){return n.modalWidget("BRadio")},"icon-right-click":function(i){return n.modalWidget("BAtis")}},model:{value:n.computedValue,callback:function(i){n.computedValue=i},expression:"computedValue"}},"b-input",n.$attrs,!1))},s=[],MAtisvue_type_template_id_47fdf453_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[n._v(" ATIS ")]),o("b-button",{attrs:{label:"Add",type:"is-primary"},on:{click:function(i){n.$emit("append",n.asText),n.$emit("close")}}})],1),o("section",{staticClass:"modal-card-body"},[o("b-field",{attrs:{grouped:"",horizontal:"",label:"QNH"}},[o("b-slider",{attrs:{value:n.qnh.value,min:n.qnh.min.value,max:n.qnh.max.value,step:n.qnh.step,expanded:"",tooltip:!1},on:{input:function(i){n.qnh.value.value=i}}},[o("b-slider-tick",{attrs:{value:n.qnh.min.value}},[n._v(n._s(n.qnh.min))]),o("b-slider-tick",{attrs:{value:n.qnh.standart.value}},[n._v("Sdt")]),o("b-slider-tick",{attrs:{value:n.qnh.max.value}},[n._v(n._s(n.qnh.max))])],1),o("p",{staticClass:"control"},[o("b-tag",[n._v(n._s(n.qnh.value))])],1)],1),o("b-field",{attrs:{horizontal:"",label:"Wind Direction"}},[o("b-slider",{attrs:{value:n.windDirection.value,min:n.windDirection.N.value,max:n.windDirection.max.value,step:n.windDirection.step,expanded:"",tooltip:!1},on:{input:function(i){n.windDirection.value.value=i}}},[o("b-slider-tick",{attrs:{value:n.windDirection.N.value}},[n._v("N")]),o("b-slider-tick",{attrs:{value:n.windDirection.E.value}},[n._v("E")]),o("b-slider-tick",{attrs:{value:n.windDirection.S.value}},[n._v("S")]),o("b-slider-tick",{attrs:{value:n.windDirection.W.value}},[n._v("W")])],1),o("p",{staticClass:"control"},[o("b-tag",[n._v(n._s(n.windDirection.value))])],1)],1),o("b-field",{attrs:{horizontal:"",label:"Wind Speed"}},[o("b-slider",{attrs:{value:n.windSpeed.value,max:n.windSpeed.max.value,step:n.windSpeed.step,expanded:"",tooltip:!1},on:{input:function(i){n.windSpeed.value.value=i}}}),o("p",{staticClass:"control"},[o("b-tag",[n._v(n._s(n.windSpeed.value))])],1)],1),o("b-field",{attrs:{horizontal:"",grouped:"",label:"Visibility"}},[o("b-slider",{attrs:{value:n.visibility.value,max:n.visibility.max.value,step:n.visibility.step,expanded:"",tooltip:!1},on:{input:function(i){n.visibility.value.value=i}}},[o("b-slider-tick",{attrs:{value:0}},[n._v(n._s(n._f("D")(0,"Km")))]),o("b-slider-tick",{attrs:{value:n.visibility.VFRS.value}},[n._v("> "+n._s(n.visibility.VFRS))]),o("b-slider-tick",{attrs:{value:n.visibility.VFR.value}},[n._v("> "+n._s(n.visibility.VFR))]),o("b-slider-tick",{attrs:{value:n.visibility.max.value}},[n._v("> "+n._s(n.visibility.max))])],1),o("p",{staticClass:"control"},[o("b-tag",[n._v(n._s(n.visibility.value))])],1)],1),o("b-field",{attrs:{horizontal:"",label:"Temperature"}},[o("b-slider",{attrs:{value:n.temperature.value,min:n.temperature.min.value,max:n.temperature.max.value,step:n.temperature.step,expanded:"",tooltip:!1},on:{input:function(i){n.temperature.value=i}}},[o("b-slider-tick",{attrs:{value:0}},[n._v(n._s(0))]),o("b-slider-tick",{attrs:{value:15}},[n._v(n._s(15))])],1),o("p",{staticClass:"control"},[o("b-tag",[n._v(n._s(Math.min.apply(Math,n.temperature.value))+" / "+n._s(Math.max.apply(Math,n.temperature.value)))])],1)],1),o("div",{staticClass:"content"},[o("pre",[n._v(n._s(n.asText))])])],1)])},a=[],l=o("3634"),c={name:"BAtis",data(){return{qnh:{min:new l["f"](950,"hPa"),max:new l["f"](1040,"hPa"),standart:new l["f"](1013.25,"hPa"),step:1,value:new l["f"](1013,"hPa")},windDirection:{N:new l["b"](0,"°"),E:new l["b"](90,"°"),S:new l["b"](180,"°"),W:new l["b"](270,"°"),max:{value:360},step:10,value:new l["b"](0,"°")},windSpeed:{max:new l["g"](60,"kt"),step:5,value:new l["g"](0,"kt")},visibility:{VFR:new l["d"](1.5,"Km"),VFRS:new l["d"](5,"Km"),max:new l["d"](10,"Km"),step:.5,value:new l["d"](10,"Km")},temperature:{min:new l["h"](-40,"°C"),max:new l["h"](40,"°C"),zero:new l["h"](0,"°C"),standart:new l["h"](15,"°C"),step:1,value:[new l["h"](10,"°C"),new l["h"](15,"°C")]},clouds:[{height:void 0,cover:void 0},{height:void 0,cover:void 0},{height:void 0,cover:void 0}]}},computed:{asText(){return`Q${this.qnh.value} | W${this.windDirection.value}/${this.windSpeed.value} | V${this.visibility.value} | T${Math.max(...this.temperature.value)}/${Math.min(...this.temperature.value)}`}}},h=c,p=(o("7538"),o("2877")),_=Object(p["a"])(h,MAtisvue_type_template_id_47fdf453_render,a,!1,null,null,null),g=_.exports,MRadiovue_type_template_id_c41d86d0_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[n._v(" Frequency ")]),o("b-button",{attrs:{label:"Add",type:"is-primary"},on:{click:function(i){n.$emit("append",n.asText),n.$emit("close")}}})],1),o("section",{staticClass:"modal-card-body"},[o("b-field",{attrs:{grouped:"","group-multiline":""}},[o("b-input",{attrs:{"aria-placeholder":"name"},model:{value:n.freq.name,callback:function(i){n.$set(n.freq,"name",i)},expression:"freq.name"}}),o("b-numberinput",{attrs:{"controls-position":"compact",min:"0"},model:{value:n.freq.value,callback:function(i){n.$set(n.freq,"value",i)},expression:"freq.value"}}),o("b-field",n._l(n.freq.constructor.units,(function(i,s){return o("b-radio-button",{key:s,attrs:{"native-value":s},model:{value:n.freq.unit,callback:function(i){n.$set(n.freq,"unit",i)},expression:"freq.unit"}},[n._v(" "+n._s(s)+" ")])})),1)],1),o("b-field",{attrs:{label:"Presets"}},n._l(n.presets,(function(i,s){return o("b-radio-button",{key:s,attrs:{"native-value":i},model:{value:n.freq,callback:function(i){n.freq=i},expression:"freq"}},[n._v(" "+n._s(i.name)+" ")])})),1)],1)])},b=[],x={name:"BRadio",data(){return{freq:new l["e"](0,"MHz"),presets:[new l["e"](121.5,"MHz",{name:"Emergency"}),new l["e"](123.45,"MHz",{name:"Air/Air"}),new l["e"](123.5,"MHz",{name:"A/A"}),new l["e"](130,"MHz",{name:"Montagne"})]}},computed:{asText(){return`${this.freq.name||"-"}: ${this.freq}`}}},L=x,C=Object(p["a"])(L,MRadiovue_type_template_id_c41d86d0_render,b,!1,null,null,null),P=C.exports,O={name:"BNotepad",props:{value:{type:String,default(){return new String}}},components:{BAtis:g,BRadio:P},computed:{computedValue:{get(){return this.value},set(n){this.$emit("input",n)}}},methods:{appendLine(n){n&&this.$emit("input",this.value.replace(/(?<=.+)\n*$/,"\n")+n)},modalWidget(n){this.$buefy.modal.open({parent:this,component:this.$options.components[n],events:{append:this.appendLine},hasModalCard:!1})}},watch:{value(n){this.newValue=n}}},T=O,S=(o("bc24"),Object(p["a"])(T,render,s,!1,null,null,null));i["a"]=S.exports},"635f":function(n,i,o){"use strict";var s=o("e11e"),capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n},a={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null,custom:!0},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(n,i){var o=this.$parent.mapObject.attributionControl;o.removeAttribution(i).addAttribution(n)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(n){this.mapObject&&(n?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var n=this.mapObject?this.mapObject.getTooltip():null;n&&n.unbindTooltip()},unbindPopup:function unbindPopup(){var n=this.mapObject?this.mapObject.getPopup():null;n&&n.unbindPopup()},updateVisibleProp:function updateVisibleProp(n){this.$emit("update:visible",n)}}},l={props:{interactive:{type:Boolean,default:!0},bubblingMouseEvents:{type:Boolean,default:!0}},mounted:function mounted(){this.interactiveLayerOptions={interactive:this.interactive,bubblingMouseEvents:this.bubblingMouseEvents}}},c={mixins:[a,l],props:{lStyle:{type:Object,custom:!0,default:null},stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!1},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}},mounted:function mounted(){if(this.pathOptions=Object.assign({},this.layerOptions,this.interactiveLayerOptions,{stroke:this.stroke,color:this.color,weight:this.weight,opacity:this.opacity,lineCap:this.lineCap,lineJoin:this.lineJoin,dashArray:this.dashArray,dashOffset:this.dashOffset,fill:this.fill,fillColor:this.fillColor,fillOpacity:this.fillOpacity,fillRule:this.fillRule,className:this.className}),this.lStyle)for(var n in console.warn("lStyle is deprecated and is going to be removed in the next major version"),this.lStyle)this.pathOptions[n]=this.lStyle[n]},beforeDestroy:function beforeDestroy(){this.parentContainer?this.parentContainer.removeLayer(this):console.error("Missing parent container")},methods:{setLStyle:function setLStyle(n){this.mapObject.setStyle(n)},setStroke:function setStroke(n){this.mapObject.setStyle({stroke:n})},setColor:function setColor(n){this.mapObject.setStyle({color:n})},setWeight:function setWeight(n){this.mapObject.setStyle({weight:n})},setOpacity:function setOpacity(n){this.mapObject.setStyle({opacity:n})},setLineCap:function setLineCap(n){this.mapObject.setStyle({lineCap:n})},setLineJoin:function setLineJoin(n){this.mapObject.setStyle({lineJoin:n})},setDashArray:function setDashArray(n){this.mapObject.setStyle({dashArray:n})},setDashOffset:function setDashOffset(n){this.mapObject.setStyle({dashOffset:n})},setFill:function setFill(n){this.mapObject.setStyle({fill:n})},setFillColor:function setFillColor(n){this.mapObject.setStyle({fillColor:n})},setFillOpacity:function setFillOpacity(n){this.mapObject.setStyle({fillOpacity:n})},setFillRule:function setFillRule(n){this.mapObject.setStyle({fillRule:n})},setClassName:function setClassName(n){this.mapObject.setStyle({className:n})}}},h={mixins:[c],props:{smoothFactor:{type:Number,custom:!0,default:1},noClip:{type:Boolean,custom:!0,default:!1}},data:function data(){return{ready:!1}},mounted:function mounted(){this.polyLineOptions=Object.assign({},this.pathOptions,{smoothFactor:this.smoothFactor,noClip:this.noClip})},methods:{setSmoothFactor:function setSmoothFactor(n){this.mapObject.setStyle({smoothFactor:n})},setNoClip:function setNoClip(n){this.mapObject.setStyle({noClip:n})},addLatLng:function addLatLng(n){this.mapObject.addLatLng(n)}}},p={props:{options:{type:Object,default:function(){return{}}}}},_={name:"LPolyline",mixins:[h,p],props:{latLngs:{type:Array,default:function(){return[]}}},data:function data(){return{ready:!1}},mounted:function mounted(){var n=this,i=optionsMerger(this.polyLineOptions,this);this.mapObject=Object(s["polyline"])(this.latLngs,i),s["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.ready=!0,this.parentContainer=findRealParent(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){n.$emit("ready",n.mapObject)}))}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var g=_,__vue_render__=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",{staticStyle:{display:"none"}},[n.ready?n._t("default"):n._e()],2)},b=[],x=void 0,L=void 0,C=void 0,P=!1,O=normalizeComponent({render:__vue_render__,staticRenderFns:b},x,g,L,P,C,!1,void 0,void 0,void 0);i["a"]=O},6397:function(n,i){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},"6cc5":function(n,i,o){},7538:function(n,i,o){"use strict";o("3b14")},a22c:function(n,i,o){"use strict";var render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",{staticClass:"card"},[o("header",{staticClass:"card-header"},[o("p",{staticClass:"card-header-title"},[o("b-field",{attrs:{grouped:""}},[o("b-input",{attrs:{placeholder:"echo",expanded:""},model:{value:n.local.name,callback:function(i){n.$set(n.local,"name",i)},expression:"local.name"}}),o("b-altitude",{attrs:{placeholder:"alt.",controls:!1},model:{value:n.local.altitude,callback:function(i){n.$set(n.local,"altitude",i)},expression:"local.altitude"}})],1)],1)]),o("div",{staticClass:"card-content"},[o("b-notepad",{attrs:{rows:2},model:{value:n.local.notes,callback:function(i){n.$set(n.local,"notes",i)},expression:"local.notes"}})],1),o("footer",{staticClass:"card-footer"},[o("b-field",{attrs:{position:"is-centered"}},[o("b-input",{attrs:{value:n.local.point.toString(),icon:"crosshairs-gps",readonly:""}}),o("p",{staticClass:"control"},[o("span",{staticClass:"button is-static"},[n._v("WGS84")])])],1)],1)])},s=[],BAltitudevue_type_template_id_3f42db3f_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("b-field",[o("b-numberinput",n._b({attrs:{editable:!n.$attrs.readonly,lazy:""},model:{value:n.local.value,callback:function(i){n.$set(n.local,"value",i)},expression:"local.value"}},"b-numberinput",n.$attrs,!1)),n.$attrs.readonly?o("b-input",n._b({attrs:{readonly:""},model:{value:n.local.unit,callback:function(i){n.$set(n.local,"unit",i)},expression:"local.unit"}},"b-input",n.$attrs,!1)):o("b-select",n._b({attrs:{required:""},model:{value:n.local.unit,callback:function(i){n.$set(n.local,"unit",i)},expression:"local.unit"}},"b-select",n.$attrs,!1),n._l(n.units,(function(i,s){return o("option",{key:s,domProps:{value:s}},[n._v(" "+n._s(s)+" ")])})),0),n.$attrs.readonly?o("b-input",n._b({attrs:{readonly:""},model:{value:n.local.reference,callback:function(i){n.$set(n.local,"reference",i)},expression:"local.reference"}},"b-input",n.$attrs,!1)):o("b-select",n._b({attrs:{required:""},model:{value:n.local.reference,callback:function(i){n.$set(n.local,"reference",i)},expression:"local.reference"}},"b-select",n.$attrs,!1),n._l(n.references,(function(i){return o("option",{key:i,domProps:{value:i}},[n._v(" "+n._s(i)+" ")])})),0)],1)},a=[],l=o("3634"),c={name:"BAltitude",props:{value:{type:l["a"],default(){return new l["a"]}}},data(){return{local:this.value,references:l["a"].references,units:l["a"].units}},watch:{local:{deep:!0,handler(n){"FL"==n.unit?n.reference="QNE":n.reference||(n.reference="MSL"),n.unit||(n.unit="ft"),this.$emit("input",n)}}}},h=c,p=o("2877"),_=Object(p["a"])(h,BAltitudevue_type_template_id_3f42db3f_render,a,!1,null,null,null),g=_.exports,b=o("5a64"),x={components:{BAltitude:g,BNotepad:b["a"]},name:"WaypointContent",props:{value:Object},data(){return{local:this.value}}},L=x,C=Object(p["a"])(L,render,s,!1,null,null,null);i["a"]=C.exports},a40a:function(n,i,o){"use strict";var s=o("e11e"),capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n},a={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null,custom:!0},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(n,i){var o=this.$parent.mapObject.attributionControl;o.removeAttribution(i).addAttribution(n)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(n){this.mapObject&&(n?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var n=this.mapObject?this.mapObject.getTooltip():null;n&&n.unbindTooltip()},unbindPopup:function unbindPopup(){var n=this.mapObject?this.mapObject.getPopup():null;n&&n.unbindPopup()},updateVisibleProp:function updateVisibleProp(n){this.$emit("update:visible",n)}}},l={mixins:[a],props:{pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1}},mounted:function mounted(){this.gridLayerOptions=Object.assign({},this.layerOptions,{pane:this.pane,opacity:this.opacity,zIndex:this.zIndex,tileSize:this.tileSize,noWrap:this.noWrap})}},c={mixins:[l],props:{tms:{type:Boolean,default:!1},subdomains:{type:[String,Array],default:"abc",validator:function(n){return"string"===typeof n||!!Array.isArray(n)&&n.every((function(n){return"string"===typeof n}))}},detectRetina:{type:Boolean,default:!1}},mounted:function mounted(){this.tileLayerOptions=Object.assign({},this.gridLayerOptions,{tms:this.tms,subdomains:this.subdomains,detectRetina:this.detectRetina})},render:function render(){return null}},h={props:{options:{type:Object,default:function(){return{}}}}},p={name:"LTileLayer",mixins:[c,h],props:{url:{type:String,default:null},tileLayerClass:{type:Function,default:s["tileLayer"]}},mounted:function mounted(){var n=this,i=optionsMerger(this.tileLayerOptions,this);this.mapObject=this.tileLayerClass(this.url,i),s["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.parentContainer=findRealParent(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){n.$emit("ready",n.mapObject)}))}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var _=p,__vue_render__=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div")},g=[],b=void 0,x=void 0,L=void 0,C=!1,P=normalizeComponent({render:__vue_render__,staticRenderFns:g},b,_,x,C,L,!1,void 0,void 0,void 0);i["a"]=P},a75e:function(n,i,o){"use strict";var render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("l-layer-group",n._g(n._b({},"l-layer-group",n.$attrs,!1),n.$listeners),n._l(n.tileLayers,(function(n){return o("l-tile-layer",{key:n.name,attrs:{url:n.url,name:n.name,attribution:n.attribution,options:n.options}})})),1)},s=[],a=o("1ebb"),l=o("a40a"),c={name:"LBaseLayerGroup",components:{LLayerGroup:a["a"],LTileLayer:l["a"]},data(){return{tileLayers:[{name:"Fond de carte naVue",attribution:"© <a href='https://apps.mapbox.com/feedback/'>Mapbox</a>",url:"https://api.mapbox.com/styles/v1/{username}/{style_id}/tiles/{z}/{x}/{y}?access_token={token}",options:{username:"mabrenac",style_id:"ckoleyexd2sem18pf9gmhzmgu",token:"pk.eyJ1IjoibWFicmVuYWMiLCJhIjoiY2tvOGlzajlmMjY4OTJ3bHBmM2k3ZDliZCJ9.a41x99O73YjqMW83Ks58vQ",tileSize:512,zoomOffset:-1,format:"image/jpeg",style:"normal",crossOrigin:!0}},{name:"Carte IGN OACI",attribution:"<a target='_blank' href='https://www.geoportail.gouv.fr/'>Geoportail France</a>",url:"https://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET=PM&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}",options:{variant:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-OACI",apikey:"85ypq25tejvtbs3bqqqkhz0j",maxZoom:11,minZoom:8,bounds:[[41.32,-5.15],[51.1,9.57]],format:"image/jpeg",style:"normal",crossOrigin:!0}},{name:"Carte Swisstopo OACI",attribution:"© <a href='https://www.swisstopo.ch/' target='_blank'>Swisstopo</a>",url:"https://wmts20.geo.admin.ch/1.0.0/{layer}/default/current/3857/{z}/{x}/{y}.{format}",options:{layer:"ch.bazl.luftfahrtkarten-icao",maxZoom:11,minZoom:9,bounds:[[45.7769477403,6.02260949059],[47.8308275417,10.4427014502]],format:"png",crossOrigin:!0}}]}}},h=c,p=o("2877"),_=Object(p["a"])(h,render,s,!1,null,null,null);i["a"]=_.exports},b68c:function(n,i,o){"use strict";o("cb5d")},bc24:function(n,i,o){"use strict";o("2102")},bfbb:function(n,i,o){},c8b6:function(n,i,o){"use strict";var s=o("e11e"),capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},a={props:{position:{type:String,default:"topright"}},mounted:function mounted(){this.controlOptions={position:this.position}},beforeDestroy:function beforeDestroy(){this.mapObject&&this.mapObject.remove()}},l={props:{options:{type:Object,default:function(){return{}}}}},c={name:"LControlZoom",mixins:[a,l],props:{zoomInText:{type:String,default:"+"},zoomInTitle:{type:String,default:"Zoom in"},zoomOutText:{type:String,default:"-"},zoomOutTitle:{type:String,default:"Zoom out"}},mounted:function mounted(){var n=this,i=optionsMerger(Object.assign({},this.controlOptions,{zoomInText:this.zoomInText,zoomInTitle:this.zoomInTitle,zoomOutText:this.zoomOutText,zoomOutTitle:this.zoomOutTitle}),this);this.mapObject=s["control"].zoom(i),propsBinder(this,this.mapObject,this.$options.props),this.mapObject.addTo(this.$parent.mapObject),this.$nextTick((function(){n.$emit("ready",n.mapObject)}))},render:function render(){return null}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var h=c,p=void 0,_=void 0,g=void 0,b=void 0,x=normalizeComponent({},p,h,_,b,g,!1,void 0,void 0,void 0);i["a"]=x},cb5d:function(n,i,o){},cbbb:function(n,i,o){"use strict";o("bfbb")},e11e:function(n,i,o){
/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
(function(n,o){o(i)})(0,(function(n){"use strict";var i="1.7.1";function extend(n){var i,o,s,a;for(o=1,s=arguments.length;o<s;o++)for(i in a=arguments[o],a)n[i]=a[i];return n}var o=Object.create||function(){function F(){}return function(n){return F.prototype=n,new F}}();function bind(n,i){var o=Array.prototype.slice;if(n.bind)return n.bind.apply(n,o.call(arguments,1));var s=o.call(arguments,2);return function(){return n.apply(i,s.length?s.concat(o.call(arguments)):arguments)}}var s=0;function stamp(n){return n._leaflet_id=n._leaflet_id||++s,n._leaflet_id}function throttle(n,i,o){var s,a,l,c;return c=function(){s=!1,a&&(l.apply(o,a),a=!1)},l=function(){s?a=arguments:(n.apply(o,arguments),setTimeout(c,i),s=!0)},l}function wrapNum(n,i,o){var s=i[1],a=i[0],l=s-a;return n===s&&o?n:((n-a)%l+l)%l+a}function falseFn(){return!1}function formatNum(n,i){var o=Math.pow(10,void 0===i?6:i);return Math.round(n*o)/o}function trim(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function splitWords(n){return trim(n).split(/\s+/)}function setOptions(n,i){for(var s in Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?o(n.options):{}),i)n.options[s]=i[s];return n.options}function getParamString(n,i,o){var s=[];for(var a in n)s.push(encodeURIComponent(o?a.toUpperCase():a)+"="+encodeURIComponent(n[a]));return(i&&-1!==i.indexOf("?")?"&":"?")+s.join("&")}var a=/\{ *([\w_-]+) *\}/g;function template(n,i){return n.replace(a,(function(n,o){var s=i[o];if(void 0===s)throw new Error("No value provided for variable "+n);return"function"===typeof s&&(s=s(i)),s}))}var l=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function indexOf(n,i){for(var o=0;o<n.length;o++)if(n[o]===i)return o;return-1}var c="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function getPrefixed(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var h=0;function timeoutDefer(n){var i=+new Date,o=Math.max(0,16-(i-h));return h=i+o,window.setTimeout(n,o)}var p=window.requestAnimationFrame||getPrefixed("RequestAnimationFrame")||timeoutDefer,_=window.cancelAnimationFrame||getPrefixed("CancelAnimationFrame")||getPrefixed("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function requestAnimFrame(n,i,o){if(!o||p!==timeoutDefer)return p.call(window,bind(n,i));n.call(i)}function cancelAnimFrame(n){n&&_.call(window,n)}var g={extend:extend,create:o,bind:bind,lastId:s,stamp:stamp,throttle:throttle,wrapNum:wrapNum,falseFn:falseFn,formatNum:formatNum,trim:trim,splitWords:splitWords,setOptions:setOptions,getParamString:getParamString,template:template,isArray:l,indexOf:indexOf,emptyImageUrl:c,requestFn:p,cancelFn:_,requestAnimFrame:requestAnimFrame,cancelAnimFrame:cancelAnimFrame};function Class(){}function checkDeprecatedMixinEvents(n){if("undefined"!==typeof L&&L&&L.Mixin){n=l(n)?n:[n];for(var i=0;i<n.length;i++)n[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}Class.extend=function(n){var NewClass=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=NewClass.__super__=this.prototype,s=o(i);for(var a in s.constructor=NewClass,NewClass.prototype=s,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(NewClass[a]=this[a]);return n.statics&&(extend(NewClass,n.statics),delete n.statics),n.includes&&(checkDeprecatedMixinEvents(n.includes),extend.apply(null,[s].concat(n.includes)),delete n.includes),s.options&&(n.options=extend(o(s.options),n.options)),extend(s,n),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var n=0,o=s._initHooks.length;n<o;n++)s._initHooks[n].call(this)}},NewClass},Class.include=function(n){return extend(this.prototype,n),this},Class.mergeOptions=function(n){return extend(this.prototype.options,n),this},Class.addInitHook=function(n){var i=Array.prototype.slice.call(arguments,1),o="function"===typeof n?n:function(){this[n].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};var b={on:function(n,i,o){if("object"===typeof n)for(var s in n)this._on(s,n[s],i);else{n=splitWords(n);for(var a=0,l=n.length;a<l;a++)this._on(n[a],i,o)}return this},off:function(n,i,o){if(n)if("object"===typeof n)for(var s in n)this._off(s,n[s],i);else{n=splitWords(n);for(var a=0,l=n.length;a<l;a++)this._off(n[a],i,o)}else delete this._events;return this},_on:function(n,i,o){this._events=this._events||{};var s=this._events[n];s||(s=[],this._events[n]=s),o===this&&(o=void 0);for(var a={fn:i,ctx:o},l=s,c=0,h=l.length;c<h;c++)if(l[c].fn===i&&l[c].ctx===o)return;l.push(a)},_off:function(n,i,o){var s,a,l;if(this._events&&(s=this._events[n],s))if(i){if(o===this&&(o=void 0),s)for(a=0,l=s.length;a<l;a++){var c=s[a];if(c.ctx===o&&c.fn===i)return c.fn=falseFn,this._firingCount&&(this._events[n]=s=s.slice()),void s.splice(a,1)}}else{for(a=0,l=s.length;a<l;a++)s[a].fn=falseFn;delete this._events[n]}},fire:function(n,i,o){if(!this.listens(n,o))return this;var s=extend({},i,{type:n,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var a=this._events[n];if(a){this._firingCount=this._firingCount+1||1;for(var l=0,c=a.length;l<c;l++){var h=a[l];h.fn.call(h.ctx||this,s)}this._firingCount--}}return o&&this._propagateEvent(s),this},listens:function(n,i){var o=this._events&&this._events[n];if(o&&o.length)return!0;if(i)for(var s in this._eventParents)if(this._eventParents[s].listens(n,i))return!0;return!1},once:function(n,i,o){if("object"===typeof n){for(var s in n)this.once(s,n[s],i);return this}var a=bind((function(){this.off(n,i,o).off(n,a,o)}),this);return this.on(n,i,o).on(n,a,o)},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[stamp(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[stamp(n)],this},_propagateEvent:function(n){for(var i in this._eventParents)this._eventParents[i].fire(n.type,extend({layer:n.target,propagatedFrom:n.target},n),!0)}};b.addEventListener=b.on,b.removeEventListener=b.clearAllEventListeners=b.off,b.addOneTimeEventListener=b.once,b.fireEvent=b.fire,b.hasEventListeners=b.listens;var x=Class.extend(b);function Point(n,i,o){this.x=o?Math.round(n):n,this.y=o?Math.round(i):i}var C=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};function toPoint(n,i,o){return n instanceof Point?n:l(n)?new Point(n[0],n[1]):void 0===n||null===n?n:"object"===typeof n&&"x"in n&&"y"in n?new Point(n.x,n.y):new Point(n,i,o)}function Bounds(n,i){if(n)for(var o=i?[n,i]:n,s=0,a=o.length;s<a;s++)this.extend(o[s])}function toBounds(n,i){return!n||n instanceof Bounds?n:new Bounds(n,i)}function LatLngBounds(n,i){if(n)for(var o=i?[n,i]:n,s=0,a=o.length;s<a;s++)this.extend(o[s])}function toLatLngBounds(n,i){return n instanceof LatLngBounds?n:new LatLngBounds(n,i)}function LatLng(n,i,o){if(isNaN(n)||isNaN(i))throw new Error("Invalid LatLng object: ("+n+", "+i+")");this.lat=+n,this.lng=+i,void 0!==o&&(this.alt=+o)}function toLatLng(n,i,o){return n instanceof LatLng?n:l(n)&&"object"!==typeof n[0]?3===n.length?new LatLng(n[0],n[1],n[2]):2===n.length?new LatLng(n[0],n[1]):null:void 0===n||null===n?n:"object"===typeof n&&"lat"in n?new LatLng(n.lat,"lng"in n?n.lng:n.lon,n.alt):void 0===i?null:new LatLng(n,i,o)}Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(n){return this.clone()._add(toPoint(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(toPoint(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new Point(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new Point(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=C(this.x),this.y=C(this.y),this},distanceTo:function(n){n=toPoint(n);var i=n.x-this.x,o=n.y-this.y;return Math.sqrt(i*i+o*o)},equals:function(n){return n=toPoint(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=toPoint(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+formatNum(this.x)+", "+formatNum(this.y)+")"}},Bounds.prototype={extend:function(n){return n=toPoint(n),this.min||this.max?(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=n.clone(),this.max=n.clone()),this},getCenter:function(n){return new Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return new Point(this.min.x,this.max.y)},getTopRight:function(){return new Point(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var i,o;return n="number"===typeof n[0]||n instanceof Point?toPoint(n):toBounds(n),n instanceof Bounds?(i=n.min,o=n.max):i=o=n,i.x>=this.min.x&&o.x<=this.max.x&&i.y>=this.min.y&&o.y<=this.max.y},intersects:function(n){n=toBounds(n);var i=this.min,o=this.max,s=n.min,a=n.max,l=a.x>=i.x&&s.x<=o.x,c=a.y>=i.y&&s.y<=o.y;return l&&c},overlaps:function(n){n=toBounds(n);var i=this.min,o=this.max,s=n.min,a=n.max,l=a.x>i.x&&s.x<o.x,c=a.y>i.y&&s.y<o.y;return l&&c},isValid:function(){return!(!this.min||!this.max)}},LatLngBounds.prototype={extend:function(n){var i,o,s=this._southWest,a=this._northEast;if(n instanceof LatLng)i=n,o=n;else{if(!(n instanceof LatLngBounds))return n?this.extend(toLatLng(n)||toLatLngBounds(n)):this;if(i=n._southWest,o=n._northEast,!i||!o)return this}return s||a?(s.lat=Math.min(i.lat,s.lat),s.lng=Math.min(i.lng,s.lng),a.lat=Math.max(o.lat,a.lat),a.lng=Math.max(o.lng,a.lng)):(this._southWest=new LatLng(i.lat,i.lng),this._northEast=new LatLng(o.lat,o.lng)),this},pad:function(n){var i=this._southWest,o=this._northEast,s=Math.abs(i.lat-o.lat)*n,a=Math.abs(i.lng-o.lng)*n;return new LatLngBounds(new LatLng(i.lat-s,i.lng-a),new LatLng(o.lat+s,o.lng+a))},getCenter:function(){return new LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){n="number"===typeof n[0]||n instanceof LatLng||"lat"in n?toLatLng(n):toLatLngBounds(n);var i,o,s=this._southWest,a=this._northEast;return n instanceof LatLngBounds?(i=n.getSouthWest(),o=n.getNorthEast()):i=o=n,i.lat>=s.lat&&o.lat<=a.lat&&i.lng>=s.lng&&o.lng<=a.lng},intersects:function(n){n=toLatLngBounds(n);var i=this._southWest,o=this._northEast,s=n.getSouthWest(),a=n.getNorthEast(),l=a.lat>=i.lat&&s.lat<=o.lat,c=a.lng>=i.lng&&s.lng<=o.lng;return l&&c},overlaps:function(n){n=toLatLngBounds(n);var i=this._southWest,o=this._northEast,s=n.getSouthWest(),a=n.getNorthEast(),l=a.lat>i.lat&&s.lat<o.lat,c=a.lng>i.lng&&s.lng<o.lng;return l&&c},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,i){return!!n&&(n=toLatLngBounds(n),this._southWest.equals(n.getSouthWest(),i)&&this._northEast.equals(n.getNorthEast(),i))},isValid:function(){return!(!this._southWest||!this._northEast)}},LatLng.prototype={equals:function(n,i){if(!n)return!1;n=toLatLng(n);var o=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return o<=(void 0===i?1e-9:i)},toString:function(n){return"LatLng("+formatNum(this.lat,n)+", "+formatNum(this.lng,n)+")"},distanceTo:function(n){return O.distance(this,toLatLng(n))},wrap:function(){return O.wrapLatLng(this)},toBounds:function(n){var i=180*n/40075017,o=i/Math.cos(Math.PI/180*this.lat);return toLatLngBounds([this.lat-i,this.lng-o],[this.lat+i,this.lng+o])},clone:function(){return new LatLng(this.lat,this.lng,this.alt)}};var P={latLngToPoint:function(n,i){var o=this.projection.project(n),s=this.scale(i);return this.transformation._transform(o,s)},pointToLatLng:function(n,i){var o=this.scale(i),s=this.transformation.untransform(n,o);return this.projection.unproject(s)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var i=this.projection.bounds,o=this.scale(n),s=this.transformation.transform(i.min,o),a=this.transformation.transform(i.max,o);return new Bounds(s,a)},infinite:!1,wrapLatLng:function(n){var i=this.wrapLng?wrapNum(n.lng,this.wrapLng,!0):n.lng,o=this.wrapLat?wrapNum(n.lat,this.wrapLat,!0):n.lat,s=n.alt;return new LatLng(o,i,s)},wrapLatLngBounds:function(n){var i=n.getCenter(),o=this.wrapLatLng(i),s=i.lat-o.lat,a=i.lng-o.lng;if(0===s&&0===a)return n;var l=n.getSouthWest(),c=n.getNorthEast(),h=new LatLng(l.lat-s,l.lng-a),p=new LatLng(c.lat-s,c.lng-a);return new LatLngBounds(h,p)}},O=extend({},P,{wrapLng:[-180,180],R:6371e3,distance:function(n,i){var o=Math.PI/180,s=n.lat*o,a=i.lat*o,l=Math.sin((i.lat-n.lat)*o/2),c=Math.sin((i.lng-n.lng)*o/2),h=l*l+Math.cos(s)*Math.cos(a)*c*c,p=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h));return this.R*p}}),T=6378137,S={R:T,MAX_LATITUDE:85.0511287798,project:function(n){var i=Math.PI/180,o=this.MAX_LATITUDE,s=Math.max(Math.min(o,n.lat),-o),a=Math.sin(s*i);return new Point(this.R*n.lng*i,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(n){var i=180/Math.PI;return new LatLng((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*i,n.x*i/this.R)},bounds:function(){var n=T*Math.PI;return new Bounds([-n,-n],[n,n])}()};function Transformation(n,i,o,s){if(l(n))return this._a=n[0],this._b=n[1],this._c=n[2],void(this._d=n[3]);this._a=n,this._b=i,this._c=o,this._d=s}function toTransformation(n,i,o,s){return new Transformation(n,i,o,s)}Transformation.prototype={transform:function(n,i){return this._transform(n.clone(),i)},_transform:function(n,i){return i=i||1,n.x=i*(this._a*n.x+this._b),n.y=i*(this._c*n.y+this._d),n},untransform:function(n,i){return i=i||1,new Point((n.x/i-this._b)/this._a,(n.y/i-this._d)/this._c)}};var A=extend({},O,{code:"EPSG:3857",projection:S,transformation:function(){var n=.5/(Math.PI*S.R);return toTransformation(n,.5,-n,.5)}()}),k=extend({},A,{code:"EPSG:900913"});function svgCreate(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function pointsToPath(n,i){var o,s,a,l,c,h,p="";for(o=0,a=n.length;o<a;o++){for(c=n[o],s=0,l=c.length;s<l;s++)h=c[s],p+=(s?"L":"M")+h.x+" "+h.y;p+=i?ct?"z":"x":""}return p||"M0 0"}var E=document.documentElement.style,j="ActiveXObject"in window,M=j&&!document.addEventListener,B="msLaunchUri"in navigator&&!("documentMode"in document),z=userAgentContains("webkit"),N=userAgentContains("android"),I=userAgentContains("android 2")||userAgentContains("android 3"),D=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),R=N&&userAgentContains("Google")&&D<537&&!("AudioNode"in window),Z=!!window.opera,$=!B&&userAgentContains("chrome"),U=userAgentContains("gecko")&&!z&&!Z&&!j,q=!$&&userAgentContains("safari"),V=userAgentContains("phantom"),W="OTransition"in E,H=0===navigator.platform.indexOf("Win"),J=j&&"transition"in E,K="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!I,G="MozPerspective"in E,X=!window.L_DISABLE_3D&&(J||K||G)&&!W&&!V,Y="undefined"!==typeof orientation||userAgentContains("mobile"),Q=Y&&z,tt=Y&&K,et=!window.PointerEvent&&window.MSPointerEvent,nt=!(!window.PointerEvent&&!et),it=!window.L_NO_TOUCH&&(nt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ot=Y&&Z,st=Y&&U,at=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rt=function(){var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",falseFn,i),window.removeEventListener("testPassiveEventSupport",falseFn,i)}catch(o){}return n}(),lt=function(){return!!document.createElement("canvas").getContext}(),ct=!(!document.createElementNS||!svgCreate("svg").createSVGRect),ut=!ct&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var i=n.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"===typeof i.adj}catch(o){return!1}}();function userAgentContains(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ht={ie:j,ielt9:M,edge:B,webkit:z,android:N,android23:I,androidStock:R,opera:Z,chrome:$,gecko:U,safari:q,phantom:V,opera12:W,win:H,ie3d:J,webkit3d:K,gecko3d:G,any3d:X,mobile:Y,mobileWebkit:Q,mobileWebkit3d:tt,msPointer:et,pointer:nt,touch:it,mobileOpera:ot,mobileGecko:st,retina:at,passiveEvents:rt,canvas:lt,svg:ct,vml:ut},dt=et?"MSPointerDown":"pointerdown",pt=et?"MSPointerMove":"pointermove",mt=et?"MSPointerUp":"pointerup",ft=et?"MSPointerCancel":"pointercancel",_t={},vt=!1;function addPointerListener(n,i,o,s){return"touchstart"===i?_addPointerStart(n,o,s):"touchmove"===i?_addPointerMove(n,o,s):"touchend"===i&&_addPointerEnd(n,o,s),this}function removePointerListener(n,i,o){var s=n["_leaflet_"+i+o];return"touchstart"===i?n.removeEventListener(dt,s,!1):"touchmove"===i?n.removeEventListener(pt,s,!1):"touchend"===i&&(n.removeEventListener(mt,s,!1),n.removeEventListener(ft,s,!1)),this}function _addPointerStart(n,i,o){var s=bind((function(n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&preventDefault(n),_handlePointer(n,i)}));n["_leaflet_touchstart"+o]=s,n.addEventListener(dt,s,!1),vt||(document.addEventListener(dt,_globalPointerDown,!0),document.addEventListener(pt,_globalPointerMove,!0),document.addEventListener(mt,_globalPointerUp,!0),document.addEventListener(ft,_globalPointerUp,!0),vt=!0)}function _globalPointerDown(n){_t[n.pointerId]=n}function _globalPointerMove(n){_t[n.pointerId]&&(_t[n.pointerId]=n)}function _globalPointerUp(n){delete _t[n.pointerId]}function _handlePointer(n,i){for(var o in n.touches=[],_t)n.touches.push(_t[o]);n.changedTouches=[n],i(n)}function _addPointerMove(n,i,o){var onMove=function(n){n.pointerType===(n.MSPOINTER_TYPE_MOUSE||"mouse")&&0===n.buttons||_handlePointer(n,i)};n["_leaflet_touchmove"+o]=onMove,n.addEventListener(pt,onMove,!1)}function _addPointerEnd(n,i,o){var onUp=function(n){_handlePointer(n,i)};n["_leaflet_touchend"+o]=onUp,n.addEventListener(mt,onUp,!1),n.addEventListener(ft,onUp,!1)}var gt=et?"MSPointerDown":nt?"pointerdown":"touchstart",yt=et?"MSPointerUp":nt?"pointerup":"touchend",bt="_leaflet_";function addDoubleTapListener(n,i,o){var s,a,l=!1,c=250;function onTouchStart(n){if(nt){if(!n.isPrimary)return;if("mouse"===n.pointerType)return}else if(n.touches.length>1)return;var i=Date.now(),o=i-(s||i);a=n.touches?n.touches[0]:n,l=o>0&&o<=c,s=i}function onTouchEnd(n){if(l&&!a.cancelBubble){if(nt){if("mouse"===n.pointerType)return;var o,c,h={};for(c in a)o=a[c],h[c]=o&&o.bind?o.bind(a):o;a=h}a.type="dblclick",a.button=0,i(a),s=null}}return n[bt+gt+o]=onTouchStart,n[bt+yt+o]=onTouchEnd,n[bt+"dblclick"+o]=i,n.addEventListener(gt,onTouchStart,!!rt&&{passive:!1}),n.addEventListener(yt,onTouchEnd,!!rt&&{passive:!1}),n.addEventListener("dblclick",i,!1),this}function removeDoubleTapListener(n,i){var o=n[bt+gt+i],s=n[bt+yt+i],a=n[bt+"dblclick"+i];return n.removeEventListener(gt,o,!!rt&&{passive:!1}),n.removeEventListener(yt,s,!!rt&&{passive:!1}),n.removeEventListener("dblclick",a,!1),this}var xt,Lt,wt,Ct,Pt,Ot=testProp(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tt=testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),St="webkitTransition"===Tt||"OTransition"===Tt?Tt+"End":"transitionend";function get(n){return"string"===typeof n?document.getElementById(n):n}function getStyle(n,i){var o=n.style[i]||n.currentStyle&&n.currentStyle[i];if((!o||"auto"===o)&&document.defaultView){var s=document.defaultView.getComputedStyle(n,null);o=s?s[i]:null}return"auto"===o?null:o}function create$1(n,i,o){var s=document.createElement(n);return s.className=i||"",o&&o.appendChild(s),s}function remove(n){var i=n.parentNode;i&&i.removeChild(n)}function empty(n){while(n.firstChild)n.removeChild(n.firstChild)}function toFront(n){var i=n.parentNode;i&&i.lastChild!==n&&i.appendChild(n)}function toBack(n){var i=n.parentNode;i&&i.firstChild!==n&&i.insertBefore(n,i.firstChild)}function hasClass(n,i){if(void 0!==n.classList)return n.classList.contains(i);var o=getClass(n);return o.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(o)}function addClass(n,i){if(void 0!==n.classList)for(var o=splitWords(i),s=0,a=o.length;s<a;s++)n.classList.add(o[s]);else if(!hasClass(n,i)){var l=getClass(n);setClass(n,(l?l+" ":"")+i)}}function removeClass(n,i){void 0!==n.classList?n.classList.remove(i):setClass(n,trim((" "+getClass(n)+" ").replace(" "+i+" "," ")))}function setClass(n,i){void 0===n.className.baseVal?n.className=i:n.className.baseVal=i}function getClass(n){return n.correspondingElement&&(n=n.correspondingElement),void 0===n.className.baseVal?n.className:n.className.baseVal}function setOpacity(n,i){"opacity"in n.style?n.style.opacity=i:"filter"in n.style&&_setOpacityIE(n,i)}function _setOpacityIE(n,i){var o=!1,s="DXImageTransform.Microsoft.Alpha";try{o=n.filters.item(s)}catch(a){if(1===i)return}i=Math.round(100*i),o?(o.Enabled=100!==i,o.Opacity=i):n.style.filter+=" progid:"+s+"(opacity="+i+")"}function testProp(n){for(var i=document.documentElement.style,o=0;o<n.length;o++)if(n[o]in i)return n[o];return!1}function setTransform(n,i,o){var s=i||new Point(0,0);n.style[Ot]=(J?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(o?" scale("+o+")":"")}function setPosition(n,i){n._leaflet_pos=i,X?setTransform(n,i):(n.style.left=i.x+"px",n.style.top=i.y+"px")}function getPosition(n){return n._leaflet_pos||new Point(0,0)}if("onselectstart"in document)xt=function(){on(window,"selectstart",preventDefault)},Lt=function(){off(window,"selectstart",preventDefault)};else{var At=testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xt=function(){if(At){var n=document.documentElement.style;wt=n[At],n[At]="none"}},Lt=function(){At&&(document.documentElement.style[At]=wt,wt=void 0)}}function disableImageDrag(){on(window,"dragstart",preventDefault)}function enableImageDrag(){off(window,"dragstart",preventDefault)}function preventOutline(n){while(-1===n.tabIndex)n=n.parentNode;n.style&&(restoreOutline(),Ct=n,Pt=n.style.outline,n.style.outline="none",on(window,"keydown",restoreOutline))}function restoreOutline(){Ct&&(Ct.style.outline=Pt,Ct=void 0,Pt=void 0,off(window,"keydown",restoreOutline))}function getSizedParentNode(n){do{n=n.parentNode}while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function getScale(n){var i=n.getBoundingClientRect();return{x:i.width/n.offsetWidth||1,y:i.height/n.offsetHeight||1,boundingClientRect:i}}var kt={TRANSFORM:Ot,TRANSITION:Tt,TRANSITION_END:St,get:get,getStyle:getStyle,create:create$1,remove:remove,empty:empty,toFront:toFront,toBack:toBack,hasClass:hasClass,addClass:addClass,removeClass:removeClass,setClass:setClass,getClass:getClass,setOpacity:setOpacity,testProp:testProp,setTransform:setTransform,setPosition:setPosition,getPosition:getPosition,disableTextSelection:xt,enableTextSelection:Lt,disableImageDrag:disableImageDrag,enableImageDrag:enableImageDrag,preventOutline:preventOutline,restoreOutline:restoreOutline,getSizedParentNode:getSizedParentNode,getScale:getScale};function on(n,i,o,s){if("object"===typeof i)for(var a in i)addOne(n,a,i[a],o);else{i=splitWords(i);for(var l=0,c=i.length;l<c;l++)addOne(n,i[l],o,s)}return this}var Et="_leaflet_events";function off(n,i,o,s){if("object"===typeof i)for(var a in i)removeOne(n,a,i[a],o);else if(i){i=splitWords(i);for(var l=0,c=i.length;l<c;l++)removeOne(n,i[l],o,s)}else{for(var h in n[Et])removeOne(n,h,n[Et][h]);delete n[Et]}return this}function browserFiresNativeDblClick(){if(nt)return!(B||q)}var jt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function addOne(n,i,o,s){var a=i+stamp(o)+(s?"_"+stamp(s):"");if(n[Et]&&n[Et][a])return this;var handler=function(i){return o.call(s||n,i||window.event)},l=handler;nt&&0===i.indexOf("touch")?addPointerListener(n,i,handler,a):it&&"dblclick"===i&&!browserFiresNativeDblClick()?addDoubleTapListener(n,handler,a):"addEventListener"in n?"touchstart"===i||"touchmove"===i||"wheel"===i||"mousewheel"===i?n.addEventListener(jt[i]||i,handler,!!rt&&{passive:!1}):"mouseenter"===i||"mouseleave"===i?(handler=function(i){i=i||window.event,isExternalTarget(n,i)&&l(i)},n.addEventListener(jt[i],handler,!1)):n.addEventListener(i,l,!1):"attachEvent"in n&&n.attachEvent("on"+i,handler),n[Et]=n[Et]||{},n[Et][a]=handler}function removeOne(n,i,o,s){var a=i+stamp(o)+(s?"_"+stamp(s):""),l=n[Et]&&n[Et][a];if(!l)return this;nt&&0===i.indexOf("touch")?removePointerListener(n,i,a):it&&"dblclick"===i&&!browserFiresNativeDblClick()?removeDoubleTapListener(n,a):"removeEventListener"in n?n.removeEventListener(jt[i]||i,l,!1):"detachEvent"in n&&n.detachEvent("on"+i,l),n[Et][a]=null}function stopPropagation(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,skipped(n),this}function disableScrollPropagation(n){return addOne(n,"wheel",stopPropagation),this}function disableClickPropagation(n){return on(n,"mousedown touchstart dblclick",stopPropagation),addOne(n,"click",fakeStop),this}function preventDefault(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function stop(n){return preventDefault(n),stopPropagation(n),this}function getMousePosition(n,i){if(!i)return new Point(n.clientX,n.clientY);var o=getScale(i),s=o.boundingClientRect;return new Point((n.clientX-s.left)/o.x-i.clientLeft,(n.clientY-s.top)/o.y-i.clientTop)}var Mt=H&&$?2*window.devicePixelRatio:U?window.devicePixelRatio:1;function getWheelDelta(n){return B?n.wheelDeltaY/2:n.deltaY&&0===n.deltaMode?-n.deltaY/Mt:n.deltaY&&1===n.deltaMode?20*-n.deltaY:n.deltaY&&2===n.deltaMode?60*-n.deltaY:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?20*-n.detail:n.detail?n.detail/-32765*60:0}var Bt={};function fakeStop(n){Bt[n.type]=!0}function skipped(n){var i=Bt[n.type];return Bt[n.type]=!1,i}function isExternalTarget(n,i){var o=i.relatedTarget;if(!o)return!0;try{while(o&&o!==n)o=o.parentNode}catch(s){return!1}return o!==n}var zt={on:on,off:off,stopPropagation:stopPropagation,disableScrollPropagation:disableScrollPropagation,disableClickPropagation:disableClickPropagation,preventDefault:preventDefault,stop:stop,getMousePosition:getMousePosition,getWheelDelta:getWheelDelta,fakeStop:fakeStop,skipped:skipped,isExternalTarget:isExternalTarget,addListener:on,removeListener:off},Nt=x.extend({run:function(n,i,o,s){this.stop(),this._el=n,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=getPosition(n),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=requestAnimFrame(this._animate,this),this._step()},_step:function(n){var i=+new Date-this._startTime,o=1e3*this._duration;i<o?this._runFrame(this._easeOut(i/o),n):(this._runFrame(1),this._complete())},_runFrame:function(n,i){var o=this._startPos.add(this._offset.multiplyBy(n));i&&o._round(),setPosition(this._el,o),this.fire("step")},_complete:function(){cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),It=x.extend({options:{crs:A,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,i){i=setOptions(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=bind(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),void 0!==i.zoom&&(this._zoom=this._limitZoom(i.zoom)),i.center&&void 0!==i.zoom&&this.setView(toLatLng(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tt&&X&&!ot&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),on(this._proxy,St,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,i,o){if(i=void 0===i?this._zoom:this._limitZoom(i),n=this._limitCenter(toLatLng(n),i,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&!0!==o){void 0!==o.animate&&(o.zoom=extend({animate:o.animate},o.zoom),o.pan=extend({animate:o.animate,duration:o.duration},o.pan));var s=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,i,o.zoom):this._tryAnimatedPan(n,o.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(n,i),this},setZoom:function(n,i){return this._loaded?this.setView(this.getCenter(),n,{zoom:i}):(this._zoom=n,this)},zoomIn:function(n,i){return n=n||(X?this.options.zoomDelta:1),this.setZoom(this._zoom+n,i)},zoomOut:function(n,i){return n=n||(X?this.options.zoomDelta:1),this.setZoom(this._zoom-n,i)},setZoomAround:function(n,i,o){var s=this.getZoomScale(i),a=this.getSize().divideBy(2),l=n instanceof Point?n:this.latLngToContainerPoint(n),c=l.subtract(a).multiplyBy(1-1/s),h=this.containerPointToLatLng(a.add(c));return this.setView(h,i,{zoom:o})},_getBoundsCenterZoom:function(n,i){i=i||{},n=n.getBounds?n.getBounds():toLatLngBounds(n);var o=toPoint(i.paddingTopLeft||i.padding||[0,0]),s=toPoint(i.paddingBottomRight||i.padding||[0,0]),a=this.getBoundsZoom(n,!1,o.add(s));if(a="number"===typeof i.maxZoom?Math.min(i.maxZoom,a):a,a===1/0)return{center:n.getCenter(),zoom:a};var l=s.subtract(o).divideBy(2),c=this.project(n.getSouthWest(),a),h=this.project(n.getNorthEast(),a),p=this.unproject(c.add(h).divideBy(2).add(l),a);return{center:p,zoom:a}},fitBounds:function(n,i){if(n=toLatLngBounds(n),!n.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(n,i);return this.setView(o.center,o.zoom,i)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,i){return this.setView(n,this._zoom,{pan:i})},panBy:function(n,i){if(n=toPoint(n).round(),i=i||{},!n.x&&!n.y)return this.fire("moveend");if(!0!==i.animate&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Nt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),!1!==i.animate){addClass(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,o,i.duration||.25,i.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,i,o){if(o=o||{},!1===o.animate||!X)return this.setView(n,i,o);this._stop();var s=this.project(this.getCenter()),a=this.project(n),l=this.getSize(),c=this._zoom;n=toLatLng(n),i=void 0===i?c:i;var h=Math.max(l.x,l.y),p=h*this.getZoomScale(c,i),_=a.distanceTo(s)||1,g=1.42,b=g*g;function r(n){var i=n?-1:1,o=n?p:h,s=p*p-h*h+i*b*b*_*_,a=2*o*b*_,l=s/a,c=Math.sqrt(l*l+1)-l,g=c<1e-9?-18:Math.log(c);return g}function sinh(n){return(Math.exp(n)-Math.exp(-n))/2}function cosh(n){return(Math.exp(n)+Math.exp(-n))/2}function tanh(n){return sinh(n)/cosh(n)}var x=r(0);function w(n){return h*(cosh(x)/cosh(x+g*n))}function u(n){return h*(cosh(x)*tanh(x+g*n)-sinh(x))/b}function easeOut(n){return 1-Math.pow(1-n,1.5)}var L=Date.now(),C=(r(1)-x)/g,P=o.duration?1e3*o.duration:1e3*C*.8;function frame(){var o=(Date.now()-L)/P,l=easeOut(o)*C;o<=1?(this._flyToFrame=requestAnimFrame(frame,this),this._move(this.unproject(s.add(a.subtract(s).multiplyBy(u(l)/_)),c),this.getScaleZoom(h/w(l),c),{flyTo:!0})):this._move(n,i)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),frame.call(this),this},flyToBounds:function(n,i){var o=this._getBoundsCenterZoom(n,i);return this.flyTo(o.center,o.zoom,i)},setMaxBounds:function(n){return n=toLatLngBounds(n),n.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(n){var i=this.options.minZoom;return this.options.minZoom=n,this._loaded&&i!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var i=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&i!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,i){this._enforcingBounds=!0;var o=this.getCenter(),s=this._limitCenter(o,this._zoom,toLatLngBounds(n));return o.equals(s)||this.panTo(s,i),this._enforcingBounds=!1,this},panInside:function(n,i){i=i||{};var o=toPoint(i.paddingTopLeft||i.padding||[0,0]),s=toPoint(i.paddingBottomRight||i.padding||[0,0]),a=this.getCenter(),l=this.project(a),c=this.project(n),h=this.getPixelBounds(),p=h.getSize().divideBy(2),_=toBounds([h.min.add(o),h.max.subtract(s)]);if(!_.contains(c)){this._enforcingBounds=!0;var g=l.subtract(c),b=toPoint(c.x+g.x,c.y+g.y);(c.x<_.min.x||c.x>_.max.x)&&(b.x=l.x-g.x,g.x>0?b.x+=p.x-o.x:b.x-=p.x-s.x),(c.y<_.min.y||c.y>_.max.y)&&(b.y=l.y-g.y,g.y>0?b.y+=p.y-o.y:b.y-=p.y-s.y),this.panTo(this.unproject(b),i),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=extend({animate:!1,pan:!0},!0===n?{animate:!0}:n);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=i.divideBy(2).round(),a=o.divideBy(2).round(),l=s.subtract(a);return l.x||l.y?(n.animate&&n.pan?this.panBy(l):(n.pan&&this._rawPanBy(l),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=extend({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=bind(this._handleGeolocationResponse,this),o=bind(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,n):navigator.geolocation.getCurrentPosition(i,o,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){var i=n.code,o=n.message||(1===i?"permission denied":2===i?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+o+"."})},_handleGeolocationResponse:function(n){var i=n.coords.latitude,o=n.coords.longitude,s=new LatLng(i,o),a=s.toBounds(2*n.coords.accuracy),l=this._locateOptions;if(l.setView){var c=this.getBoundsZoom(a);this.setView(s,l.maxZoom?Math.min(c,l.maxZoom):c)}var h={latlng:s,bounds:a,timestamp:n.timestamp};for(var p in n.coords)"number"===typeof n.coords[p]&&(h[p]=n.coords[p]);this.fire("locationfound",h)},addHandler:function(n,i){if(!i)return this;var o=this[n]=new i(this);return this._handlers.push(o),this.options[n]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(i){this._container._leaflet_id=void 0,this._containerId=void 0}var n;for(n in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(cancelAnimFrame(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[n].remove();for(n in this._panes)remove(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,i){var o="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),s=create$1("div",o,i||this._mapPane);return n&&(this._panes[n]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),i=this.unproject(n.getBottomLeft()),o=this.unproject(n.getTopRight());return new LatLngBounds(i,o)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,i,o){n=toLatLngBounds(n),o=toPoint(o||[0,0]);var s=this.getZoom()||0,a=this.getMinZoom(),l=this.getMaxZoom(),c=n.getNorthWest(),h=n.getSouthEast(),p=this.getSize().subtract(o),_=toBounds(this.project(h,s),this.project(c,s)).getSize(),g=X?this.options.zoomSnap:1,b=p.x/_.x,x=p.y/_.y,L=i?Math.max(b,x):Math.min(b,x);return s=this.getScaleZoom(L,s),g&&(s=Math.round(s/(g/100))*(g/100),s=i?Math.ceil(s/g)*g:Math.floor(s/g)*g),Math.max(a,Math.min(l,s))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,i){var o=this._getTopLeftPoint(n,i);return new Bounds(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(void 0===n?this.getZoom():n)},getPane:function(n){return"string"===typeof n?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,i){var o=this.options.crs;return i=void 0===i?this._zoom:i,o.scale(n)/o.scale(i)},getScaleZoom:function(n,i){var o=this.options.crs;i=void 0===i?this._zoom:i;var s=o.zoom(n*o.scale(i));return isNaN(s)?1/0:s},project:function(n,i){return i=void 0===i?this._zoom:i,this.options.crs.latLngToPoint(toLatLng(n),i)},unproject:function(n,i){return i=void 0===i?this._zoom:i,this.options.crs.pointToLatLng(toPoint(n),i)},layerPointToLatLng:function(n){var i=toPoint(n).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(n){var i=this.project(toLatLng(n))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(toLatLng(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(toLatLngBounds(n))},distance:function(n,i){return this.options.crs.distance(toLatLng(n),toLatLng(i))},containerPointToLayerPoint:function(n){return toPoint(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return toPoint(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var i=this.containerPointToLayerPoint(toPoint(n));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(toLatLng(n)))},mouseEventToContainerPoint:function(n){return getMousePosition(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var i=this._container=get(n);if(!i)throw new Error("Map container not found.");if(i._leaflet_id)throw new Error("Map container is already initialized.");on(i,"scroll",this._onScroll,this),this._containerId=stamp(i)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&X,addClass(n,"leaflet-container"+(it?" leaflet-touch":"")+(at?" leaflet-retina":"")+(M?" leaflet-oldie":"")+(q?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=getStyle(n,"position");"absolute"!==i&&"relative"!==i&&"fixed"!==i&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),setPosition(this._mapPane,new Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(addClass(n.markerPane,"leaflet-zoom-hide"),addClass(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,i){setPosition(this._mapPane,new Point(0,0));var o=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var s=this._zoom!==i;this._moveStart(s,!1)._move(n,i)._moveEnd(s),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(n,i){return n&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(n,i,o){void 0===i&&(i=this._zoom);var s=this._zoom!==i;return this._zoom=i,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),(s||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){setPosition(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[stamp(this._container)]=this;var i=n?off:on;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),X&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){cancelAnimFrame(this._resizeRequest),this._resizeRequest=requestAnimFrame((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,i){var o,s=[],a="mouseout"===i||"mouseover"===i,l=n.target||n.srcElement,c=!1;while(l){if(o=this._targets[stamp(l)],o&&("click"===i||"preclick"===i)&&!n._simulated&&this._draggableMoved(o)){c=!0;break}if(o&&o.listens(i,!0)){if(a&&!isExternalTarget(l,n))break;if(s.push(o),a)break}if(l===this._container)break;l=l.parentNode}return s.length||c||a||!isExternalTarget(l,n)||(s=[this]),s},_handleDOMEvent:function(n){if(this._loaded&&!skipped(n)){var i=n.type;"mousedown"!==i&&"keypress"!==i&&"keyup"!==i&&"keydown"!==i||preventOutline(n.target||n.srcElement),this._fireDOMEvent(n,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,i,o){if("click"===n.type){var s=extend({},n);s.type="preclick",this._fireDOMEvent(s,s.type,o)}if(!n._stopped&&(o=(o||[]).concat(this._findEventTargets(n,i)),o.length)){var a=o[0];"contextmenu"===i&&a.listens(i,!0)&&preventDefault(n);var l={originalEvent:n};if("keypress"!==n.type&&"keydown"!==n.type&&"keyup"!==n.type){var c=a.getLatLng&&(!a._radius||a._radius<=10);l.containerPoint=c?this.latLngToContainerPoint(a.getLatLng()):this.mouseEventToContainerPoint(n),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=c?a.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(var h=0;h<o.length;h++)if(o[h].fire(i,l,!0),l.originalEvent._stopped||!1===o[h].options.bubblingMouseEvents&&-1!==indexOf(this._mouseEvents,i))return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,i=this._handlers.length;n<i;n++)this._handlers[n].disable()},whenReady:function(n,i){return this._loaded?n.call(i||this,{target:this}):this.on("load",n,i),this},_getMapPanePos:function(){return getPosition(this._mapPane)||new Point(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,i){var o=n&&void 0!==i?this._getNewPixelOrigin(n,i):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,i){var o=this.getSize()._divideBy(2);return this.project(n,i)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,i,o){var s=this._getNewPixelOrigin(o,i);return this.project(n,i)._subtract(s)},_latLngBoundsToNewLayerBounds:function(n,i,o){var s=this._getNewPixelOrigin(o,i);return toBounds([this.project(n.getSouthWest(),i)._subtract(s),this.project(n.getNorthWest(),i)._subtract(s),this.project(n.getSouthEast(),i)._subtract(s),this.project(n.getNorthEast(),i)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,i,o){if(!o)return n;var s=this.project(n,i),a=this.getSize().divideBy(2),l=new Bounds(s.subtract(a),s.add(a)),c=this._getBoundsOffset(l,o,i);return c.round().equals([0,0])?n:this.unproject(s.add(c),i)},_limitOffset:function(n,i){if(!i)return n;var o=this.getPixelBounds(),s=new Bounds(o.min.add(n),o.max.add(n));return n.add(this._getBoundsOffset(s,i))},_getBoundsOffset:function(n,i,o){var s=toBounds(this.project(i.getNorthEast(),o),this.project(i.getSouthWest(),o)),a=s.min.subtract(n.min),l=s.max.subtract(n.max),c=this._rebound(a.x,-l.x),h=this._rebound(a.y,-l.y);return new Point(c,h)},_rebound:function(n,i){return n+i>0?Math.round(n-i)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(i))},_limitZoom:function(n){var i=this.getMinZoom(),o=this.getMaxZoom(),s=X?this.options.zoomSnap:1;return s&&(n=Math.round(n/s)*s),Math.max(i,Math.min(o,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,i){var o=this._getCenterOffset(n)._trunc();return!(!0!==(i&&i.animate)&&!this.getSize().contains(o))&&(this.panBy(o,i),!0)},_createAnimProxy:function(){var n=this._proxy=create$1("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",(function(n){var i=Ot,o=this._proxy.style[i];setTransform(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),o===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){remove(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),i=this.getZoom();setTransform(this._proxy,this.project(n,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,i,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||!1===o.animate||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(i),a=this._getCenterOffset(n)._divideBy(1-1/s);return!(!0!==o.animate&&!this.getSize().contains(a))&&(requestAnimFrame((function(){this._moveStart(!0,!1)._animateZoom(n,i,!0)}),this),!0)},_animateZoom:function(n,i,o,s){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=i,addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:i,noUpdate:s}),setTimeout(bind(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),requestAnimFrame((function(){this._moveEnd(!0)}),this))}});function createMap(n,i){return new It(n,i)}var Dt=Class.extend({options:{position:"topright"},initialize:function(n){setOptions(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var i=this._map;return i&&i.removeControl(this),this.options.position=n,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var i=this._container=this.onAdd(n),o=this.getPosition(),s=n._controlCorners[o];return addClass(i,"leaflet-control"),-1!==o.indexOf("bottom")?s.insertBefore(i,s.firstChild):s.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(remove(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),control=function(n){return new Dt(n)};It.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},i="leaflet-",o=this._controlContainer=create$1("div",i+"control-container",this._container);function createCorner(s,a){var l=i+s+" "+i+a;n[s+a]=create$1("div",l,o)}createCorner("top","left"),createCorner("top","right"),createCorner("bottom","left"),createCorner("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)remove(this._controlCorners[n]);remove(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Rt=Dt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,i,o,s){return o<s?-1:s<o?1:0}},initialize:function(n,i,o){for(var s in setOptions(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,n)this._addLayer(n[s],s);for(s in i)this._addLayer(i[s],s,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Dt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,i){return this._addLayer(n,i),this._map?this._update():this},addOverlay:function(n,i){return this._addLayer(n,i,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var i=this._getLayer(stamp(n));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){addClass(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(addClass(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):removeClass(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",i=this._container=create$1("div",n),o=this.options.collapsed;i.setAttribute("aria-haspopup",!0),disableClickPropagation(i),disableScrollPropagation(i);var s=this._section=create$1("section",n+"-list");o&&(this._map.on("click",this.collapse,this),N||on(i,{mouseenter:this.expand,mouseleave:this.collapse},this));var a=this._layersLink=create$1("a",n+"-toggle",i);a.href="#",a.title="Layers",it?(on(a,"click",stop),on(a,"click",this.expand,this)):on(a,"focus",this.expand,this),o||this.expand(),this._baseLayersList=create$1("div",n+"-base",s),this._separator=create$1("div",n+"-separator",s),this._overlaysList=create$1("div",n+"-overlays",s),i.appendChild(s)},_getLayer:function(n){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&stamp(this._layers[i].layer)===n)return this._layers[i]},_addLayer:function(n,i,o){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:i,overlay:o}),this.options.sortLayers&&this._layers.sort(bind((function(n,i){return this.options.sortFunction(n.layer,i.layer,n.name,i.name)}),this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;empty(this._baseLayersList),empty(this._overlaysList),this._layerControlInputs=[];var n,i,o,s,a=0;for(o=0;o<this._layers.length;o++)s=this._layers[o],this._addItem(s),i=i||s.overlay,n=n||!s.overlay,a+=s.overlay?0:1;return this.options.hideSingleBase&&(n=n&&a>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=i&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var i=this._getLayer(stamp(n.target)),o=i.overlay?"add"===n.type?"overlayadd":"overlayremove":"add"===n.type?"baselayerchange":null;o&&this._map.fire(o,i)},_createRadioElement:function(n,i){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(i?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=o,s.firstChild},_addItem:function(n){var i,o=document.createElement("label"),s=this._map.hasLayer(n.layer);n.overlay?(i=document.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=s):i=this._createRadioElement("leaflet-base-layers_"+stamp(this),s),this._layerControlInputs.push(i),i.layerId=stamp(n.layer),on(i,"click",this._onInputClick,this);var a=document.createElement("span");a.innerHTML=" "+n.name;var l=document.createElement("div");o.appendChild(l),l.appendChild(i),l.appendChild(a);var c=n.overlay?this._overlaysList:this._baseLayersList;return c.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){var n,i,o=this._layerControlInputs,s=[],a=[];this._handlingClick=!0;for(var l=o.length-1;l>=0;l--)n=o[l],i=this._getLayer(n.layerId).layer,n.checked?s.push(i):n.checked||a.push(i);for(l=0;l<a.length;l++)this._map.hasLayer(a[l])&&this._map.removeLayer(a[l]);for(l=0;l<s.length;l++)this._map.hasLayer(s[l])||this._map.addLayer(s[l]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var n,i,o=this._layerControlInputs,s=this._map.getZoom(),a=o.length-1;a>=0;a--)n=o[a],i=this._getLayer(n.layerId).layer,n.disabled=void 0!==i.options.minZoom&&s<i.options.minZoom||void 0!==i.options.maxZoom&&s>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),layers=function(n,i,o){return new Rt(n,i,o)},Zt=Dt.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(n){var i="leaflet-control-zoom",o=create$1("div",i+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,i+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,i+"-out",o,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,i,o,s,a){var l=create$1("a",o,s);return l.innerHTML=n,l.href="#",l.title=i,l.setAttribute("role","button"),l.setAttribute("aria-label",i),disableClickPropagation(l),on(l,"click",stop),on(l,"click",a,this),on(l,"click",this._refocusOnMap,this),l},_updateDisabled:function(){var n=this._map,i="leaflet-disabled";removeClass(this._zoomInButton,i),removeClass(this._zoomOutButton,i),(this._disabled||n._zoom===n.getMinZoom())&&addClass(this._zoomOutButton,i),(this._disabled||n._zoom===n.getMaxZoom())&&addClass(this._zoomInButton,i)}});It.mergeOptions({zoomControl:!0}),It.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Zt,this.addControl(this.zoomControl))}));var zoom=function(n){return new Zt(n)},$t=Dt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var i="leaflet-control-scale",o=create$1("div",i),s=this.options;return this._addScales(s,i+"-line",o),n.on(s.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),o},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,i,o){n.metric&&(this._mScale=create$1("div",i,o)),n.imperial&&(this._iScale=create$1("div",i,o))},_update:function(){var n=this._map,i=n.getSize().y/2,o=n.distance(n.containerPointToLatLng([0,i]),n.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(o)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var i=this._getRoundNum(n),o=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,o,i/n)},_updateImperial:function(n){var i,o,s,a=3.2808399*n;a>5280?(i=a/5280,o=this._getRoundNum(i),this._updateScale(this._iScale,o+" mi",o/i)):(s=this._getRoundNum(a),this._updateScale(this._iScale,s+" ft",s/a))},_updateScale:function(n,i,o){n.style.width=Math.round(this.options.maxWidth*o)+"px",n.innerHTML=i},_getRoundNum:function(n){var i=Math.pow(10,(Math.floor(n)+"").length-1),o=n/i;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,i*o}}),scale=function(n){return new $t(n)},Ft=Dt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(n){setOptions(this,n),this._attributions={}},onAdd:function(n){for(var i in n.attributionControl=this,this._container=create$1("div","leaflet-control-attribution"),disableClickPropagation(this._container),n._layers)n._layers[i].getAttribution&&this.addAttribution(n._layers[i].getAttribution());return this._update(),this._container},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var i in this._attributions)this._attributions[i]&&n.push(i);var o=[];this.options.prefix&&o.push(this.options.prefix),n.length&&o.push(n.join(", ")),this._container.innerHTML=o.join(" | ")}}});It.mergeOptions({attributionControl:!0}),It.addInitHook((function(){this.options.attributionControl&&(new Ft).addTo(this)}));var attribution=function(n){return new Ft(n)};Dt.Layers=Rt,Dt.Zoom=Zt,Dt.Scale=$t,Dt.Attribution=Ft,control.layers=layers,control.zoom=zoom,control.scale=scale,control.attribution=attribution;var Ut=Class.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ut.addTo=function(n,i){return n.addHandler(i,this),this};var qt,Vt={Events:b},Wt=it?"touchstart mousedown":"mousedown",Ht={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Jt={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Kt=x.extend({options:{clickTolerance:3},initialize:function(n,i,o,s){setOptions(this,s),this._element=n,this._dragStartTarget=i||n,this._preventOutline=o},enable:function(){this._enabled||(on(this._dragStartTarget,Wt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Kt._dragging===this&&this.finishDrag(),off(this._dragStartTarget,Wt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(!n._simulated&&this._enabled&&(this._moved=!1,!hasClass(this._element,"leaflet-zoom-anim")&&!(Kt._dragging||n.shiftKey||1!==n.which&&1!==n.button&&!n.touches)&&(Kt._dragging=this,this._preventOutline&&preventOutline(this._element),disableImageDrag(),xt(),!this._moving))){this.fire("down");var i=n.touches?n.touches[0]:n,o=getSizedParentNode(this._element);this._startPoint=new Point(i.clientX,i.clientY),this._parentScale=getScale(o),on(document,Jt[n.type],this._onMove,this),on(document,Ht[n.type],this._onUp,this)}},_onMove:function(n){if(!n._simulated&&this._enabled)if(n.touches&&n.touches.length>1)this._moved=!0;else{var i=n.touches&&1===n.touches.length?n.touches[0]:n,o=new Point(i.clientX,i.clientY)._subtract(this._startPoint);(o.x||o.y)&&(Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,preventDefault(n),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=getPosition(this._element).subtract(o),addClass(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,cancelAnimFrame(this._animRequest),this._lastEvent=n,this._animRequest=requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),setPosition(this._element,this._newPos),this.fire("drag",n)},_onUp:function(n){!n._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var n in removeClass(document.body,"leaflet-dragging"),this._lastTarget&&(removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Jt)off(document,Jt[n],this._onMove,this),off(document,Ht[n],this._onUp,this);enableImageDrag(),Lt(),this._moved&&this._moving&&(cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Kt._dragging=!1}});function simplify(n,i){if(!i||!n.length)return n.slice();var o=i*i;return n=_reducePoints(n,o),n=_simplifyDP(n,o),n}function pointToSegmentDistance(n,i,o){return Math.sqrt(_sqClosestPointOnSegment(n,i,o,!0))}function closestPointOnSegment(n,i,o){return _sqClosestPointOnSegment(n,i,o)}function _simplifyDP(n,i){var o=n.length,s=typeof Uint8Array!==void 0+""?Uint8Array:Array,a=new s(o);a[0]=a[o-1]=1,_simplifyDPStep(n,a,i,0,o-1);var l,c=[];for(l=0;l<o;l++)a[l]&&c.push(n[l]);return c}function _simplifyDPStep(n,i,o,s,a){var l,c,h,p=0;for(c=s+1;c<=a-1;c++)h=_sqClosestPointOnSegment(n[c],n[s],n[a],!0),h>p&&(l=c,p=h);p>o&&(i[l]=1,_simplifyDPStep(n,i,o,s,l),_simplifyDPStep(n,i,o,l,a))}function _reducePoints(n,i){for(var o=[n[0]],s=1,a=0,l=n.length;s<l;s++)_sqDist(n[s],n[a])>i&&(o.push(n[s]),a=s);return a<l-1&&o.push(n[l-1]),o}function clipSegment(n,i,o,s,a){var l,c,h,p=s?qt:_getBitCode(n,o),_=_getBitCode(i,o);qt=_;while(1){if(!(p|_))return[n,i];if(p&_)return!1;l=p||_,c=_getEdgeIntersection(n,i,l,o,a),h=_getBitCode(c,o),l===p?(n=c,p=h):(i=c,_=h)}}function _getEdgeIntersection(n,i,o,s,a){var l,c,h=i.x-n.x,p=i.y-n.y,_=s.min,g=s.max;return 8&o?(l=n.x+h*(g.y-n.y)/p,c=g.y):4&o?(l=n.x+h*(_.y-n.y)/p,c=_.y):2&o?(l=g.x,c=n.y+p*(g.x-n.x)/h):1&o&&(l=_.x,c=n.y+p*(_.x-n.x)/h),new Point(l,c,a)}function _getBitCode(n,i){var o=0;return n.x<i.min.x?o|=1:n.x>i.max.x&&(o|=2),n.y<i.min.y?o|=4:n.y>i.max.y&&(o|=8),o}function _sqDist(n,i){var o=i.x-n.x,s=i.y-n.y;return o*o+s*s}function _sqClosestPointOnSegment(n,i,o,s){var a,l=i.x,c=i.y,h=o.x-l,p=o.y-c,_=h*h+p*p;return _>0&&(a=((n.x-l)*h+(n.y-c)*p)/_,a>1?(l=o.x,c=o.y):a>0&&(l+=h*a,c+=p*a)),h=n.x-l,p=n.y-c,s?h*h+p*p:new Point(l,c)}function isFlat(n){return!l(n[0])||"object"!==typeof n[0][0]&&"undefined"!==typeof n[0][0]}function _flat(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),isFlat(n)}var Gt={simplify:simplify,pointToSegmentDistance:pointToSegmentDistance,closestPointOnSegment:closestPointOnSegment,clipSegment:clipSegment,_getEdgeIntersection:_getEdgeIntersection,_getBitCode:_getBitCode,_sqClosestPointOnSegment:_sqClosestPointOnSegment,isFlat:isFlat,_flat:_flat};function clipPolygon(n,i,o){var s,a,l,c,h,p,_,g,b,x=[1,4,2,8];for(a=0,_=n.length;a<_;a++)n[a]._code=_getBitCode(n[a],i);for(c=0;c<4;c++){for(g=x[c],s=[],a=0,_=n.length,l=_-1;a<_;l=a++)h=n[a],p=n[l],h._code&g?p._code&g||(b=_getEdgeIntersection(p,h,g,i,o),b._code=_getBitCode(b,i),s.push(b)):(p._code&g&&(b=_getEdgeIntersection(p,h,g,i,o),b._code=_getBitCode(b,i),s.push(b)),s.push(h));n=s}return n}var Xt={clipPolygon:clipPolygon},Yt={project:function(n){return new Point(n.lng,n.lat)},unproject:function(n){return new LatLng(n.y,n.x)},bounds:new Bounds([-180,-90],[180,90])},Qt={R:6378137,R_MINOR:6356752.314245179,bounds:new Bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(n){var i=Math.PI/180,o=this.R,s=n.lat*i,a=this.R_MINOR/o,l=Math.sqrt(1-a*a),c=l*Math.sin(s),h=Math.tan(Math.PI/4-s/2)/Math.pow((1-c)/(1+c),l/2);return s=-o*Math.log(Math.max(h,1e-10)),new Point(n.lng*i*o,s)},unproject:function(n){for(var i,o=180/Math.PI,s=this.R,a=this.R_MINOR/s,l=Math.sqrt(1-a*a),c=Math.exp(-n.y/s),h=Math.PI/2-2*Math.atan(c),p=0,_=.1;p<15&&Math.abs(_)>1e-7;p++)i=l*Math.sin(h),i=Math.pow((1-i)/(1+i),l/2),_=Math.PI/2-2*Math.atan(c*i)-h,h+=_;return new LatLng(h*o,n.x*o/s)}},te={LonLat:Yt,Mercator:Qt,SphericalMercator:S},ee=extend({},O,{code:"EPSG:3395",projection:Qt,transformation:function(){var n=.5/(Math.PI*Qt.R);return toTransformation(n,.5,-n,.5)}()}),ne=extend({},O,{code:"EPSG:4326",projection:Yt,transformation:toTransformation(1/180,1,-1/180,.5)}),ie=extend({},P,{projection:Yt,transformation:toTransformation(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,i){var o=i.lng-n.lng,s=i.lat-n.lat;return Math.sqrt(o*o+s*s)},infinite:!0});P.Earth=O,P.EPSG3395=ee,P.EPSG3857=A,P.EPSG900913=k,P.EPSG4326=ne,P.Simple=ie;var oe=x.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[stamp(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[stamp(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var i=n.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var o=this.getEvents();i.on(o,this),this.once("remove",(function(){i.off(o,this)}),this)}this.onAdd(i),this.getAttribution&&i.attributionControl&&i.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),i.fire("layeradd",{layer:this})}}});It.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var i=stamp(n);return this._layers[i]||(this._layers[i]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n)),this},removeLayer:function(n){var i=stamp(n);return this._layers[i]?(this._loaded&&n.onRemove(this),n.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(n.getAttribution()),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return!!n&&stamp(n)in this._layers},eachLayer:function(n,i){for(var o in this._layers)n.call(i,this._layers[o]);return this},_addLayers:function(n){n=n?l(n)?n:[n]:[];for(var i=0,o=n.length;i<o;i++)this.addLayer(n[i])},_addZoomLimit:function(n){!isNaN(n.options.maxZoom)&&isNaN(n.options.minZoom)||(this._zoomBoundLayers[stamp(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var i=stamp(n);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,i=-1/0,o=this._getZoomSpan();for(var s in this._zoomBoundLayers){var a=this._zoomBoundLayers[s].options;n=void 0===a.minZoom?n:Math.min(n,a.minZoom),i=void 0===a.maxZoom?i:Math.max(i,a.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=n===1/0?void 0:n,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var se=oe.extend({initialize:function(n,i){var o,s;if(setOptions(this,i),this._layers={},n)for(o=0,s=n.length;o<s;o++)this.addLayer(n[o])},addLayer:function(n){var i=this.getLayerId(n);return this._layers[i]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var i=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(n){if(!n)return!1;var i="number"===typeof n?n:this.getLayerId(n);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var i,o,s=Array.prototype.slice.call(arguments,1);for(i in this._layers)o=this._layers[i],o[n]&&o[n].apply(o,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,i){for(var o in this._layers)n.call(i,this._layers[o]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return stamp(n)}}),layerGroup=function(n,i){return new se(n,i)},ae=se.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),se.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),se.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new LatLngBounds;for(var i in this._layers){var o=this._layers[i];n.extend(o.getBounds?o.getBounds():o.getLatLng())}return n}}),featureGroup=function(n,i){return new ae(n,i)},re=Class.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(n){setOptions(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,i){var o=this._getIconUrl(n);if(!o){if("icon"===n)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(o,i&&"IMG"===i.tagName?i:null);return this._setIconStyles(s,n),s},_setIconStyles:function(n,i){var o=this.options,s=o[i+"Size"];"number"===typeof s&&(s=[s,s]);var a=toPoint(s),l=toPoint("shadow"===i&&o.shadowAnchor||o.iconAnchor||a&&a.divideBy(2,!0));n.className="leaflet-marker-"+i+" "+(o.className||""),l&&(n.style.marginLeft=-l.x+"px",n.style.marginTop=-l.y+"px"),a&&(n.style.width=a.x+"px",n.style.height=a.y+"px")},_createImg:function(n,i){return i=i||document.createElement("img"),i.src=n,i},_getIconUrl:function(n){return at&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function icon(n){return new re(n)}var le=re.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return le.imagePath||(le.imagePath=this._detectIconPath()),(this.options.imagePath||le.imagePath)+re.prototype._getIconUrl.call(this,n)},_detectIconPath:function(){var n=create$1("div","leaflet-default-icon-path",document.body),i=getStyle(n,"background-image")||getStyle(n,"backgroundImage");return document.body.removeChild(n),i=null===i||0!==i.indexOf("url")?"":i.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,""),i}}),ce=Ut.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Kt(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),addClass(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var i=this._marker,o=i._map,s=this._marker.options.autoPanSpeed,a=this._marker.options.autoPanPadding,l=getPosition(i._icon),c=o.getPixelBounds(),h=o.getPixelOrigin(),p=toBounds(c.min._subtract(h).add(a),c.max._subtract(h).subtract(a));if(!p.contains(l)){var _=toPoint((Math.max(p.max.x,l.x)-p.max.x)/(c.max.x-p.max.x)-(Math.min(p.min.x,l.x)-p.min.x)/(c.min.x-p.min.x),(Math.max(p.max.y,l.y)-p.max.y)/(c.max.y-p.max.y)-(Math.min(p.min.y,l.y)-p.min.y)/(c.min.y-p.min.y)).multiplyBy(s);o.panBy(_,{animate:!1}),this._draggable._newPos._add(_),this._draggable._startPos._add(_),setPosition(i._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=requestAnimFrame(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(cancelAnimFrame(this._panRequest),this._panRequest=requestAnimFrame(this._adjustPan.bind(this,n)))},_onDrag:function(n){var i=this._marker,o=i._shadow,s=getPosition(i._icon),a=i._map.layerPointToLatLng(s);o&&setPosition(o,s),i._latlng=a,n.latlng=a,n.oldLatLng=this._oldLatLng,i.fire("move",n).fire("drag",n)},_onDragEnd:function(n){cancelAnimFrame(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ue=oe.extend({options:{icon:new le,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,i){setOptions(this,i),this._latlng=toLatLng(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var i=this._latlng;return this._latlng=toLatLng(n),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=n.icon.createIcon(this._icon),s=!1;o!==this._icon&&(this._icon&&this._removeIcon(),s=!0,n.title&&(o.title=n.title),"IMG"===o.tagName&&(o.alt=n.alt||"")),addClass(o,i),n.keyboard&&(o.tabIndex="0"),this._icon=o,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var a=n.icon.createShadow(this._shadow),l=!1;a!==this._shadow&&(this._removeShadow(),l=!0),a&&(addClass(a,i),a.alt=""),this._shadow=a,n.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&l&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&remove(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&setPosition(this._icon,n),this._shadow&&setPosition(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var i=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ce)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ce(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&setOpacity(this._icon,n),this._shadow&&setOpacity(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function marker(n,i){return new ue(n,i)}var he=oe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return setOptions(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),de=he.extend({options:{fill:!0,radius:10},initialize:function(n,i){setOptions(this,i),this._latlng=toLatLng(n),this._radius=this.options.radius},setLatLng:function(n){var i=this._latlng;return this._latlng=toLatLng(n),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var i=n&&n.radius||this._radius;return he.prototype.setStyle.call(this,n),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,i=this._radiusY||n,o=this._clickTolerance(),s=[n+o,i+o];this._pxBounds=new Bounds(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function circleMarker(n,i){return new de(n,i)}var pe=de.extend({initialize:function(n,i,o){if("number"===typeof i&&(i=extend({},o,{radius:i})),setOptions(this,i),this._latlng=toLatLng(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:he.prototype.setStyle,_project:function(){var n=this._latlng.lng,i=this._latlng.lat,o=this._map,s=o.options.crs;if(s.distance===O.distance){var a=Math.PI/180,l=this._mRadius/O.R/a,c=o.project([i+l,n]),h=o.project([i-l,n]),p=c.add(h).divideBy(2),_=o.unproject(p).lat,g=Math.acos((Math.cos(l*a)-Math.sin(i*a)*Math.sin(_*a))/(Math.cos(i*a)*Math.cos(_*a)))/a;(isNaN(g)||0===g)&&(g=l/Math.cos(Math.PI/180*i)),this._point=p.subtract(o.getPixelOrigin()),this._radius=isNaN(g)?0:p.x-o.project([_,n-g]).x,this._radiusY=p.y-c.y}else{var b=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(b).x}this._updateBounds()}});function circle(n,i,o){return new pe(n,i,o)}var me=he.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,i){setOptions(this,i),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var i,o,s=1/0,a=null,l=_sqClosestPointOnSegment,c=0,h=this._parts.length;c<h;c++)for(var p=this._parts[c],_=1,g=p.length;_<g;_++){i=p[_-1],o=p[_];var b=l(n,i,o,!0);b<s&&(s=b,a=l(n,i,o))}return a&&(a.distance=Math.sqrt(s)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var n,i,o,s,a,l,c,h=this._rings[0],p=h.length;if(!p)return null;for(n=0,i=0;n<p-1;n++)i+=h[n].distanceTo(h[n+1])/2;if(0===i)return this._map.layerPointToLatLng(h[0]);for(n=0,s=0;n<p-1;n++)if(a=h[n],l=h[n+1],o=a.distanceTo(l),s+=o,s>i)return c=(s-i)/o,this._map.layerPointToLatLng([l.x-c*(l.x-a.x),l.y-c*(l.y-a.y)])},getBounds:function(){return this._bounds},addLatLng:function(n,i){return i=i||this._defaultShape(),n=toLatLng(n),i.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new LatLngBounds,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return isFlat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var i=[],o=isFlat(n),s=0,a=n.length;s<a;s++)o?(i[s]=toLatLng(n[s]),this._bounds.extend(i[s])):i[s]=this._convertLatLngs(n[s]);return i},_project:function(){var n=new Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),i=new Point(n,n);this._pxBounds=new Bounds([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)])},_projectLatlngs:function(n,i,o){var s,a,l=n[0]instanceof LatLng,c=n.length;if(l){for(a=[],s=0;s<c;s++)a[s]=this._map.latLngToLayerPoint(n[s]),o.extend(a[s]);i.push(a)}else for(s=0;s<c;s++)this._projectLatlngs(n[s],i,o)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(n))if(this.options.noClip)this._parts=this._rings;else{var i,o,s,a,l,c,h,p=this._parts;for(i=0,s=0,a=this._rings.length;i<a;i++)for(h=this._rings[i],o=0,l=h.length;o<l-1;o++)c=clipSegment(h[o],h[o+1],n,o,!0),c&&(p[s]=p[s]||[],p[s].push(c[0]),c[1]===h[o+1]&&o!==l-2||(p[s].push(c[1]),s++))}},_simplifyPoints:function(){for(var n=this._parts,i=this.options.smoothFactor,o=0,s=n.length;o<s;o++)n[o]=simplify(n[o],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,i){var o,s,a,l,c,h,p=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(o=0,l=this._parts.length;o<l;o++)for(h=this._parts[o],s=0,c=h.length,a=c-1;s<c;a=s++)if((i||0!==s)&&pointToSegmentDistance(n,h[a],h[s])<=p)return!0;return!1}});function polyline(n,i){return new me(n,i)}me._flat=_flat;var fe=me.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var n,i,o,s,a,l,c,h,p,_=this._rings[0],g=_.length;if(!g)return null;for(l=c=h=0,n=0,i=g-1;n<g;i=n++)o=_[n],s=_[i],a=o.y*s.x-s.y*o.x,c+=(o.x+s.x)*a,h+=(o.y+s.y)*a,l+=3*a;return p=0===l?_[0]:[c/l,h/l],this._map.layerPointToLatLng(p)},_convertLatLngs:function(n){var i=me.prototype._convertLatLngs.call(this,n),o=i.length;return o>=2&&i[0]instanceof LatLng&&i[0].equals(i[o-1])&&i.pop(),i},_setLatLngs:function(n){me.prototype._setLatLngs.call(this,n),isFlat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return isFlat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,i=this.options.weight,o=new Point(i,i);if(n=new Bounds(n.min.subtract(o),n.max.add(o)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(n))if(this.options.noClip)this._parts=this._rings;else for(var s,a=0,l=this._rings.length;a<l;a++)s=clipPolygon(this._rings[a],n,!0),s.length&&this._parts.push(s)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var i,o,s,a,l,c,h,p,_=!1;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(a=0,h=this._parts.length;a<h;a++)for(i=this._parts[a],l=0,p=i.length,c=p-1;l<p;c=l++)o=i[l],s=i[c],o.y>n.y!==s.y>n.y&&n.x<(s.x-o.x)*(n.y-o.y)/(s.y-o.y)+o.x&&(_=!_);return _||me.prototype._containsPoint.call(this,n,!0)}});function polygon(n,i){return new fe(n,i)}var _e=ae.extend({initialize:function(n,i){setOptions(this,i),this._layers={},n&&this.addData(n)},addData:function(n){var i,o,s,a=l(n)?n:n.features;if(a){for(i=0,o=a.length;i<o;i++)s=a[i],(s.geometries||s.geometry||s.features||s.coordinates)&&this.addData(s);return this}var c=this.options;if(c.filter&&!c.filter(n))return this;var h=geometryToLayer(n,c);return h?(h.feature=asFeature(n),h.defaultOptions=h.options,this.resetStyle(h),c.onEachFeature&&c.onEachFeature(n,h),this.addLayer(h)):this},resetStyle:function(n){return void 0===n?this.eachLayer(this.resetStyle,this):(n.options=extend({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer((function(i){this._setLayerStyle(i,n)}),this)},_setLayerStyle:function(n,i){n.setStyle&&("function"===typeof i&&(i=i(n.feature)),n.setStyle(i))}});function geometryToLayer(n,i){var o,s,a,l,c="Feature"===n.type?n.geometry:n,h=c?c.coordinates:null,p=[],_=i&&i.pointToLayer,g=i&&i.coordsToLatLng||coordsToLatLng;if(!h&&!c)return null;switch(c.type){case"Point":return o=g(h),_pointToLayer(_,n,o,i);case"MultiPoint":for(a=0,l=h.length;a<l;a++)o=g(h[a]),p.push(_pointToLayer(_,n,o,i));return new ae(p);case"LineString":case"MultiLineString":return s=coordsToLatLngs(h,"LineString"===c.type?0:1,g),new me(s,i);case"Polygon":case"MultiPolygon":return s=coordsToLatLngs(h,"Polygon"===c.type?1:2,g),new fe(s,i);case"GeometryCollection":for(a=0,l=c.geometries.length;a<l;a++){var b=geometryToLayer({geometry:c.geometries[a],type:"Feature",properties:n.properties},i);b&&p.push(b)}return new ae(p);default:throw new Error("Invalid GeoJSON object.")}}function _pointToLayer(n,i,o,s){return n?n(i,o):new ue(o,s&&s.markersInheritOptions&&s)}function coordsToLatLng(n){return new LatLng(n[1],n[0],n[2])}function coordsToLatLngs(n,i,o){for(var s,a=[],l=0,c=n.length;l<c;l++)s=i?coordsToLatLngs(n[l],i-1,o):(o||coordsToLatLng)(n[l]),a.push(s);return a}function latLngToCoords(n,i){return i="number"===typeof i?i:6,void 0!==n.alt?[formatNum(n.lng,i),formatNum(n.lat,i),formatNum(n.alt,i)]:[formatNum(n.lng,i),formatNum(n.lat,i)]}function latLngsToCoords(n,i,o,s){for(var a=[],l=0,c=n.length;l<c;l++)a.push(i?latLngsToCoords(n[l],i-1,o,s):latLngToCoords(n[l],s));return!i&&o&&a.push(a[0]),a}function getFeature(n,i){return n.feature?extend({},n.feature,{geometry:i}):asFeature(i)}function asFeature(n){return"Feature"===n.type||"FeatureCollection"===n.type?n:{type:"Feature",properties:{},geometry:n}}var ve={toGeoJSON:function(n){return getFeature(this,{type:"Point",coordinates:latLngToCoords(this.getLatLng(),n)})}};function geoJSON(n,i){return new _e(n,i)}ue.include(ve),pe.include(ve),de.include(ve),me.include({toGeoJSON:function(n){var i=!isFlat(this._latlngs),o=latLngsToCoords(this._latlngs,i?1:0,!1,n);return getFeature(this,{type:(i?"Multi":"")+"LineString",coordinates:o})}}),fe.include({toGeoJSON:function(n){var i=!isFlat(this._latlngs),o=i&&!isFlat(this._latlngs[0]),s=latLngsToCoords(this._latlngs,o?2:i?1:0,!0,n);return i||(s=[s]),getFeature(this,{type:(o?"Multi":"")+"Polygon",coordinates:s})}}),se.include({toMultiPoint:function(n){var i=[];return this.eachLayer((function(o){i.push(o.toGeoJSON(n).geometry.coordinates)})),getFeature(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(n){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===i)return this.toMultiPoint(n);var o="GeometryCollection"===i,s=[];return this.eachLayer((function(i){if(i.toGeoJSON){var a=i.toGeoJSON(n);if(o)s.push(a.geometry);else{var l=asFeature(a);"FeatureCollection"===l.type?s.push.apply(s,l.features):s.push(l)}}})),o?getFeature(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});var ge=geoJSON,ye=oe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,i,o){this._url=n,this._bounds=toLatLngBounds(i),setOptions(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&toFront(this._image),this},bringToBack:function(){return this._map&&toBack(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=toLatLngBounds(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n="IMG"===this._url.tagName,i=this._image=n?this._url:create$1("img");addClass(i,"leaflet-image-layer"),this._zoomAnimated&&addClass(i,"leaflet-zoom-animated"),this.options.className&&addClass(i,this.options.className),i.onselectstart=falseFn,i.onmousemove=falseFn,i.onload=bind(this.fire,this,"load"),i.onerror=bind(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n?this._url=i.src:(i.src=this._url,i.alt=this.options.alt)},_animateZoom:function(n){var i=this._map.getZoomScale(n.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;setTransform(this._image,o,i)},_reset:function(){var n=this._image,i=new Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=i.getSize();setPosition(n,i.min),n.style.width=o.x+"px",n.style.height=o.y+"px"},_updateOpacity:function(){setOpacity(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)}}),imageOverlay=function(n,i,o){return new ye(n,i,o)},be=ye.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var n="VIDEO"===this._url.tagName,i=this._image=n?this._url:create$1("video");if(addClass(i,"leaflet-image-layer"),this._zoomAnimated&&addClass(i,"leaflet-zoom-animated"),this.options.className&&addClass(i,this.options.className),i.onselectstart=falseFn,i.onmousemove=falseFn,i.onloadeddata=bind(this.fire,this,"load"),n){for(var o=i.getElementsByTagName("source"),s=[],a=0;a<o.length;a++)s.push(o[a].src);this._url=o.length>0?s:[i.src]}else{l(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style["objectFit"]="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted;for(var c=0;c<this._url.length;c++){var h=create$1("source");h.src=this._url[c],i.appendChild(h)}}}});function videoOverlay(n,i,o){return new be(n,i,o)}var xe=ye.extend({_initImage:function(){var n=this._image=this._url;addClass(n,"leaflet-image-layer"),this._zoomAnimated&&addClass(n,"leaflet-zoom-animated"),this.options.className&&addClass(n,this.options.className),n.onselectstart=falseFn,n.onmousemove=falseFn}});function svgOverlay(n,i,o){return new xe(n,i,o)}var Le=oe.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(n,i){setOptions(this,n),this._source=i},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&setOpacity(this._container,1),this.bringToFront()},onRemove:function(n){n._fadeAnimated?(setOpacity(this._container,0),this._removeTimeout=setTimeout(bind(remove,void 0,this._container),200)):remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=toLatLng(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&toFront(this._container),this},bringToBack:function(){return this._map&&toBack(this._container),this},_prepareOpen:function(n,i,o){if(i instanceof oe||(o=i,i=n),i instanceof ae)for(var s in n._layers){i=n._layers[s];break}if(!o)if(i.getCenter)o=i.getCenter();else{if(!i.getLatLng)throw new Error("Unable to get source layer LatLng.");o=i.getLatLng()}return this._source=i,this.update(),o},_updateContent:function(){if(this._content){var n=this._contentNode,i="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof i)n.innerHTML=i;else{while(n.hasChildNodes())n.removeChild(n.firstChild);n.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),i=toPoint(this.options.offset),o=this._getAnchor();this._zoomAnimated?setPosition(this._container,n.add(o)):i=i.add(n).add(o);var s=this._containerBottom=-i.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=s+"px",this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}}),we=Le.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n.openPopup(this),this},onAdd:function(n){Le.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof he||this._source.on("preclick",stopPropagation))},onRemove:function(n){Le.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof he||this._source.off("preclick",stopPropagation))},getEvents:function(){var n=Le.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this._close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var n="leaflet-popup",i=this._container=create$1("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=create$1("div",n+"-content-wrapper",i);if(this._contentNode=create$1("div",n+"-content",o),disableClickPropagation(i),disableScrollPropagation(this._contentNode),on(i,"contextmenu",stopPropagation),this._tipContainer=create$1("div",n+"-tip-container",i),this._tip=create$1("div",n+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=create$1("a",n+"-close-button",i);s.href="#close",s.innerHTML="&#215;",on(s,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var n=this._contentNode,i=n.style;i.width="",i.whiteSpace="nowrap";var o=n.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),i.width=o+1+"px",i.whiteSpace="",i.height="";var s=n.offsetHeight,a=this.options.maxHeight,l="leaflet-popup-scrolled";a&&s>a?(i.height=a+"px",addClass(n,l)):removeClass(n,l),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var i=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),o=this._getAnchor();setPosition(this._container,i.add(o))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var n=this._map,i=parseInt(getStyle(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+i,s=this._containerWidth,a=new Point(this._containerLeft,-o-this._containerBottom);a._add(getPosition(this._container));var l=n.layerPointToContainerPoint(a),c=toPoint(this.options.autoPanPadding),h=toPoint(this.options.autoPanPaddingTopLeft||c),p=toPoint(this.options.autoPanPaddingBottomRight||c),_=n.getSize(),g=0,b=0;l.x+s+p.x>_.x&&(g=l.x+s-_.x+p.x),l.x-g-h.x<0&&(g=l.x-h.x),l.y+o+p.y>_.y&&(b=l.y+o-_.y+p.y),l.y-b-h.y<0&&(b=l.y-h.y),(g||b)&&n.fire("autopanstart").panBy([g,b])}},_onCloseButtonClick:function(n){this._close(),stop(n)},_getAnchor:function(){return toPoint(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),popup=function(n,i){return new we(n,i)};It.mergeOptions({closePopupOnClick:!0}),It.include({openPopup:function(n,i,o){return n instanceof we||(n=new we(o).setContent(n)),i&&n.setLatLng(i),this.hasLayer(n)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=n,this.addLayer(n))},closePopup:function(n){return n&&n!==this._popup||(n=this._popup,this._popup=null),n&&this.removeLayer(n),this}}),oe.include({bindPopup:function(n,i){return n instanceof we?(setOptions(n,i),this._popup=n,n._source=this):(this._popup&&!i||(this._popup=new we(i,this)),this._popup.setContent(n)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n,i){return this._popup&&this._map&&(i=this._popup._prepareOpen(this,n,i),this._map.openPopup(this._popup,i)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(n){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(n)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){var i=n.layer||n.target;this._popup&&this._map&&(stop(n),i instanceof he?this.openPopup(n.layer||n.target,n.latlng):this._map.hasLayer(this._popup)&&this._popup._source===i?this.closePopup():this.openPopup(i,n.latlng))},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){13===n.originalEvent.keyCode&&this._openPopup(n)}});var Ce=Le.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(n){Le.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(n){Le.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var n=Le.prototype.getEvents.call(this);return it&&!this.options.permanent&&(n.preclick=this._close),n},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var n="leaflet-tooltip",i=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=create$1("div",i)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var i,o,s=this._map,a=this._container,l=s.latLngToContainerPoint(s.getCenter()),c=s.layerPointToContainerPoint(n),h=this.options.direction,p=a.offsetWidth,_=a.offsetHeight,g=toPoint(this.options.offset),b=this._getAnchor();"top"===h?(i=p/2,o=_):"bottom"===h?(i=p/2,o=0):"center"===h?(i=p/2,o=_/2):"right"===h?(i=0,o=_/2):"left"===h?(i=p,o=_/2):c.x<l.x?(h="right",i=0,o=_/2):(h="left",i=p+2*(g.x+b.x),o=_/2),n=n.subtract(toPoint(i,o,!0)).add(g).add(b),removeClass(a,"leaflet-tooltip-right"),removeClass(a,"leaflet-tooltip-left"),removeClass(a,"leaflet-tooltip-top"),removeClass(a,"leaflet-tooltip-bottom"),addClass(a,"leaflet-tooltip-"+h),setPosition(a,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&setOpacity(this._container,n)},_animateZoom:function(n){var i=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(i)},_getAnchor:function(){return toPoint(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tooltip=function(n,i){return new Ce(n,i)};It.include({openTooltip:function(n,i,o){return n instanceof Ce||(n=new Ce(o).setContent(n)),i&&n.setLatLng(i),this.hasLayer(n)?this:this.addLayer(n)},closeTooltip:function(n){return n&&this.removeLayer(n),this}}),oe.include({bindTooltip:function(n,i){return n instanceof Ce?(setOptions(n,i),this._tooltip=n,n._source=this):(this._tooltip&&!i||(this._tooltip=new Ce(i,this)),this._tooltip.setContent(n)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(n||!this._tooltipHandlersAdded){var i=n?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),it&&(o.click=this._openTooltip)),this[i](o),this._tooltipHandlersAdded=!n}},openTooltip:function(n,i){return this._tooltip&&this._map&&(i=this._tooltip._prepareOpen(this,n,i),this._map.openTooltip(this._tooltip,i),this._tooltip.options.interactive&&this._tooltip._container&&(addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(n){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(n)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_openTooltip:function(n){var i=n.layer||n.target;this._tooltip&&this._map&&this.openTooltip(i,this._tooltip.options.sticky?n.latlng:void 0)},_moveTooltip:function(n){var i,o,s=n.latlng;this._tooltip.options.sticky&&n.originalEvent&&(i=this._map.mouseEventToContainerPoint(n.originalEvent),o=this._map.containerPointToLayerPoint(i),s=this._map.layerPointToLatLng(o)),this._tooltip.setLatLng(s)}});var Pe=re.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var i=n&&"DIV"===n.tagName?n:document.createElement("div"),o=this.options;if(o.html instanceof Element?(empty(i),i.appendChild(o.html)):i.innerHTML=!1!==o.html?o.html:"",o.bgPos){var s=toPoint(o.bgPos);i.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function divIcon(n){return new Pe(n)}re.Default=le;var Oe=oe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){setOptions(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),remove(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=throttle(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof Point?n:new Point(n,n)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var i,o=this.getPane().children,s=-n(-1/0,1/0),a=0,l=o.length;a<l;a++)i=o[a].style.zIndex,o[a]!==this._container&&i&&(s=n(s,+i));isFinite(s)&&(this.options.zIndex=s+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!M){setOpacity(this._container,this.options.opacity);var n=+new Date,i=!1,o=!1;for(var s in this._tiles){var a=this._tiles[s];if(a.current&&a.loaded){var l=Math.min(1,(n-a.loaded)/200);setOpacity(a.el,l),l<1?i=!0:(a.active?o=!0:this._onOpaqueTile(a),a.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),i&&(cancelAnimFrame(this._fadeFrame),this._fadeFrame=requestAnimFrame(this._updateOpacity,this))}},_onOpaqueTile:falseFn,_initContainer:function(){this._container||(this._container=create$1("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,i=this.options.maxZoom;if(void 0!==n){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===n?(this._levels[o].el.style.zIndex=i-Math.abs(n-o),this._onUpdateLevel(o)):(remove(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var s=this._levels[n],a=this._map;return s||(s=this._levels[n]={},s.el=create$1("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=i,s.origin=a.project(a.unproject(a.getPixelOrigin()),n).round(),s.zoom=n,this._setZoomTransform(s,a.getCenter(),a.getZoom()),falseFn(s.el.offsetWidth),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:falseFn,_onRemoveLevel:falseFn,_onCreateLevel:falseFn,_pruneTiles:function(){if(this._map){var n,i,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom)this._removeAllTiles();else{for(n in this._tiles)i=this._tiles[n],i.retain=i.current;for(n in this._tiles)if(i=this._tiles[n],i.current&&!i.active){var s=i.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}}},_removeTilesAtZoom:function(n){for(var i in this._tiles)this._tiles[i].coords.z===n&&this._removeTile(i)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)remove(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,i,o,s){var a=Math.floor(n/2),l=Math.floor(i/2),c=o-1,h=new Point(+a,+l);h.z=+c;var p=this._tileCoordsToKey(h),_=this._tiles[p];return _&&_.active?(_.retain=!0,!0):(_&&_.loaded&&(_.retain=!0),c>s&&this._retainParent(a,l,c,s))},_retainChildren:function(n,i,o,s){for(var a=2*n;a<2*n+2;a++)for(var l=2*i;l<2*i+2;l++){var c=new Point(a,l);c.z=o+1;var h=this._tileCoordsToKey(c),p=this._tiles[h];p&&p.active?p.retain=!0:(p&&p.loaded&&(p.retain=!0),o+1<s&&this._retainChildren(a,l,o+1,s))}},_resetView:function(n){var i=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var i=this.options;return void 0!==i.minNativeZoom&&n<i.minNativeZoom?i.minNativeZoom:void 0!==i.maxNativeZoom&&i.maxNativeZoom<n?i.maxNativeZoom:n},_setView:function(n,i,o,s){var a=Math.round(i);a=void 0!==this.options.maxZoom&&a>this.options.maxZoom||void 0!==this.options.minZoom&&a<this.options.minZoom?void 0:this._clampZoom(a);var l=this.options.updateWhenZooming&&a!==this._tileZoom;s&&!l||(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==a&&this._update(n),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(n,i)},_setZoomTransforms:function(n,i){for(var o in this._levels)this._setZoomTransform(this._levels[o],n,i)},_setZoomTransform:function(n,i,o){var s=this._map.getZoomScale(o,n.zoom),a=n.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(i,o)).round();X?setTransform(n.el,a,s):setPosition(n.el,a)},_resetGrid:function(){var n=this._map,i=n.options.crs,o=this._tileSize=this.getTileSize(),s=this._tileZoom,a=this._map.getPixelWorldBounds(this._tileZoom);a&&(this._globalTileRange=this._pxBoundsToTileRange(a)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,i.wrapLng[0]],s).x/o.x),Math.ceil(n.project([0,i.wrapLng[1]],s).x/o.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([i.wrapLat[0],0],s).y/o.x),Math.ceil(n.project([i.wrapLat[1],0],s).y/o.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(n){var i=this._map,o=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),s=i.getZoomScale(o,this._tileZoom),a=i.project(n,this._tileZoom).floor(),l=i.getSize().divideBy(2*s);return new Bounds(a.subtract(l),a.add(l))},_update:function(n){var i=this._map;if(i){var o=this._clampZoom(i.getZoom());if(void 0===n&&(n=i.getCenter()),void 0!==this._tileZoom){var s=this._getTiledPixelBounds(n),a=this._pxBoundsToTileRange(s),l=a.getCenter(),c=[],h=this.options.keepBuffer,p=new Bounds(a.getBottomLeft().subtract([h,-h]),a.getTopRight().add([h,-h]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _ in this._tiles){var g=this._tiles[_].coords;g.z===this._tileZoom&&p.contains(new Point(g.x,g.y))||(this._tiles[_].current=!1)}if(Math.abs(o-this._tileZoom)>1)this._setView(n,o);else{for(var b=a.min.y;b<=a.max.y;b++)for(var x=a.min.x;x<=a.max.x;x++){var L=new Point(x,b);if(L.z=this._tileZoom,this._isValidTile(L)){var C=this._tiles[this._tileCoordsToKey(L)];C?C.current=!0:c.push(L)}}if(c.sort((function(n,i){return n.distanceTo(l)-i.distanceTo(l)})),0!==c.length){this._loading||(this._loading=!0,this.fire("loading"));var P=document.createDocumentFragment();for(x=0;x<c.length;x++)this._addTile(c[x],P);this._level.el.appendChild(P)}}}}},_isValidTile:function(n){var i=this._map.options.crs;if(!i.infinite){var o=this._globalTileRange;if(!i.wrapLng&&(n.x<o.min.x||n.x>o.max.x)||!i.wrapLat&&(n.y<o.min.y||n.y>o.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(n);return toLatLngBounds(this.options.bounds).overlaps(s)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var i=this._map,o=this.getTileSize(),s=n.scaleBy(o),a=s.add(o),l=i.unproject(s,n.z),c=i.unproject(a,n.z);return[l,c]},_tileCoordsToBounds:function(n){var i=this._tileCoordsToNwSe(n),o=new LatLngBounds(i[0],i[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var i=n.split(":"),o=new Point(+i[0],+i[1]);return o.z=+i[2],o},_removeTile:function(n){var i=this._tiles[n];i&&(remove(i.el),delete this._tiles[n],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){addClass(n,"leaflet-tile");var i=this.getTileSize();n.style.width=i.x+"px",n.style.height=i.y+"px",n.onselectstart=falseFn,n.onmousemove=falseFn,M&&this.options.opacity<1&&setOpacity(n,this.options.opacity),N&&!I&&(n.style.WebkitBackfaceVisibility="hidden")},_addTile:function(n,i){var o=this._getTilePos(n),s=this._tileCoordsToKey(n),a=this.createTile(this._wrapCoords(n),bind(this._tileReady,this,n));this._initTile(a),this.createTile.length<2&&requestAnimFrame(bind(this._tileReady,this,n,null,a)),setPosition(a,o),this._tiles[s]={el:a,coords:n,current:!0},i.appendChild(a),this.fire("tileloadstart",{tile:a,coords:n})},_tileReady:function(n,i,o){i&&this.fire("tileerror",{error:i,tile:o,coords:n});var s=this._tileCoordsToKey(n);o=this._tiles[s],o&&(o.loaded=+new Date,this._map._fadeAnimated?(setOpacity(o.el,0),cancelAnimFrame(this._fadeFrame),this._fadeFrame=requestAnimFrame(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),i||(addClass(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),M||!this._map._fadeAnimated?requestAnimFrame(this._pruneTiles,this):setTimeout(bind(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var i=new Point(this._wrapX?wrapNum(n.x,this._wrapX):n.x,this._wrapY?wrapNum(n.y,this._wrapY):n.y);return i.z=n.z,i},_pxBoundsToTileRange:function(n){var i=this.getTileSize();return new Bounds(n.min.unscaleBy(i).floor(),n.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function gridLayer(n){return new Oe(n)}var Te=Oe.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(n,i){this._url=n,i=setOptions(this,i),i.detectRetina&&at&&i.maxZoom>0&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),"string"===typeof i.subdomains&&(i.subdomains=i.subdomains.split("")),N||this.on("tileunload",this._onTileRemove)},setUrl:function(n,i){return this._url===n&&void 0===i&&(i=!0),this._url=n,i||this.redraw(),this},createTile:function(n,i){var o=document.createElement("img");return on(o,"load",bind(this._tileOnLoad,this,i,o)),on(o,"error",bind(this._tileOnError,this,i,o)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),o.alt="",o.setAttribute("role","presentation"),o.src=this.getTileUrl(n),o},getTileUrl:function(n){var i={r:at?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-n.y;this.options.tms&&(i["y"]=o),i["-y"]=o}return template(this._url,extend(i,this.options))},_tileOnLoad:function(n,i){M?setTimeout(bind(n,this,null,i),0):n(null,i)},_tileOnError:function(n,i,o){var s=this.options.errorTileUrl;s&&i.getAttribute("src")!==s&&(i.src=s),n(o,i)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,i=this.options.maxZoom,o=this.options.zoomReverse,s=this.options.zoomOffset;return o&&(n=i-n),n+s},_getSubdomain:function(n){var i=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var n,i;for(n in this._tiles)this._tiles[n].coords.z!==this._tileZoom&&(i=this._tiles[n].el,i.onload=falseFn,i.onerror=falseFn,i.complete||(i.src=c,remove(i),delete this._tiles[n]))},_removeTile:function(n){var i=this._tiles[n];if(i)return R||i.el.setAttribute("src",c),Oe.prototype._removeTile.call(this,n)},_tileReady:function(n,i,o){if(this._map&&(!o||o.getAttribute("src")!==c))return Oe.prototype._tileReady.call(this,n,i,o)}});function tileLayer(n,i){return new Te(n,i)}var Se=Te.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,i){this._url=n;var o=extend({},this.defaultWmsParams);for(var s in i)s in this.options||(o[s]=i[s]);i=setOptions(this,i);var a=i.detectRetina&&at?2:1,l=this.getTileSize();o.width=l.x*a,o.height=l.y*a,this.wmsParams=o},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Te.prototype.onAdd.call(this,n)},getTileUrl:function(n){var i=this._tileCoordsToNwSe(n),o=this._crs,s=toBounds(o.project(i[0]),o.project(i[1])),a=s.min,l=s.max,c=(this._wmsVersion>=1.3&&this._crs===ne?[a.y,a.x,l.y,l.x]:[a.x,a.y,l.x,l.y]).join(","),h=Te.prototype.getTileUrl.call(this,n);return h+getParamString(this.wmsParams,h,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+c},setParams:function(n,i){return extend(this.wmsParams,n),i||this.redraw(),this}});function tileLayerWMS(n,i){return new Se(n,i)}Te.WMS=Se,tileLayer.wms=tileLayerWMS;var Ae=oe.extend({options:{padding:.1,tolerance:0},initialize:function(n){setOptions(this,n),stamp(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,i){var o=this._map.getZoomScale(i,this._zoom),s=getPosition(this._container),a=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,i),c=this._map.project(n,i),h=c.subtract(l),p=a.multiplyBy(-o).add(s).add(a).subtract(h);X?setTransform(this._container,p,o):setPosition(this._container,p)},_reset:function(){for(var n in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,i=this._map.getSize(),o=this._map.containerPointToLayerPoint(i.multiplyBy(-n)).round();this._bounds=new Bounds(o,o.add(i.multiplyBy(1+2*n)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ke=Ae.extend({getEvents:function(){var n=Ae.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ae.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");on(n,"mousemove",this._onMouseMove,this),on(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),on(n,"mouseout",this._handleMouseOut,this),this._ctx=n.getContext("2d")},_destroyContainer:function(){cancelAnimFrame(this._redrawRequest),delete this._ctx,remove(this._container),off(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;for(var i in this._redrawBounds=null,this._layers)n=this._layers[i],n._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ae.prototype._update.call(this);var n=this._bounds,i=this._container,o=n.getSize(),s=at?2:1;setPosition(i,n.min),i.width=s*o.x,i.height=s*o.y,i.style.width=o.x+"px",i.style.height=o.y+"px",at&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Ae.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[stamp(n)]=n;var i=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var i=n._order,o=i.next,s=i.prev;o?o.prev=s:this._drawLast=s,s?s.next=o:this._drawFirst=o,delete n._order,delete this._layers[stamp(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if("string"===typeof n.options.dashArray){var i,o,s=n.options.dashArray.split(/[, ]+/),a=[];for(o=0;o<s.length;o++){if(i=Number(s[o]),isNaN(i))return;a.push(i)}n.options._dashArray=a}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var i=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Bounds,this._redrawBounds.extend(n._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(n._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var i=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,i=this._redrawBounds;if(this._ctx.save(),i){var o=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)n=s.layer,(!i||n._pxBounds&&n._pxBounds.intersects(i))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,i){if(this._drawing){var o,s,a,l,c=n._parts,h=c.length,p=this._ctx;if(h){for(p.beginPath(),o=0;o<h;o++){for(s=0,a=c[o].length;s<a;s++)l=c[o][s],p[s?"lineTo":"moveTo"](l.x,l.y);i&&p.closePath()}this._fillStroke(p,n)}}},_updateCircle:function(n){if(this._drawing&&!n._empty()){var i=n._point,o=this._ctx,s=Math.max(Math.round(n._radius),1),a=(Math.max(Math.round(n._radiusY),1)||s)/s;1!==a&&(o.save(),o.scale(1,a)),o.beginPath(),o.arc(i.x,i.y/a,s,0,2*Math.PI,!1),1!==a&&o.restore(),this._fillStroke(o,n)}},_fillStroke:function(n,i){var o=i.options;o.fill&&(n.globalAlpha=o.fillOpacity,n.fillStyle=o.fillColor||o.color,n.fill(o.fillRule||"evenodd")),o.stroke&&0!==o.weight&&(n.setLineDash&&n.setLineDash(i.options&&i.options._dashArray||[]),n.globalAlpha=o.opacity,n.lineWidth=o.weight,n.strokeStyle=o.color,n.lineCap=o.lineCap,n.lineJoin=o.lineJoin,n.stroke())},_onClick:function(n){for(var i,o,s=this._map.mouseEventToLayerPoint(n),a=this._drawFirst;a;a=a.next)i=a.layer,i.options.interactive&&i._containsPoint(s)&&("click"!==n.type&&"preclick"===n.type||!this._map._draggableMoved(i))&&(o=i);o&&(fakeStop(n),this._fireEvent([o],n))},_onMouseMove:function(n){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var i=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,i)}},_handleMouseOut:function(n){var i=this._hoveredLayer;i&&(removeClass(this._container,"leaflet-interactive"),this._fireEvent([i],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,i){if(!this._mouseHoverThrottled){for(var o,s,a=this._drawFirst;a;a=a.next)o=a.layer,o.options.interactive&&o._containsPoint(i)&&(s=o);s!==this._hoveredLayer&&(this._handleMouseOut(n),s&&(addClass(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseover"),this._hoveredLayer=s)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],n),this._mouseHoverThrottled=!0,setTimeout(bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(n,i,o){this._map._fireDOMEvent(i,o||i.type,n)},_bringToFront:function(n){var i=n._order;if(i){var o=i.next,s=i.prev;o&&(o.prev=s,s?s.next=o:o&&(this._drawFirst=o),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(n))}},_bringToBack:function(n){var i=n._order;if(i){var o=i.next,s=i.prev;s&&(s.next=o,o?o.prev=s:s&&(this._drawLast=s),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(n))}}});function canvas$1(n){return lt?new ke(n):null}var Ee=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch(n){return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),je={_initContainer:function(){this._container=create$1("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ae.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var i=n._container=Ee("shape");addClass(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",n._path=Ee("path"),i.appendChild(n._path),this._updateStyle(n),this._layers[stamp(n)]=n},_addPath:function(n){var i=n._container;this._container.appendChild(i),n.options.interactive&&n.addInteractiveTarget(i)},_removePath:function(n){var i=n._container;remove(i),n.removeInteractiveTarget(i),delete this._layers[stamp(n)]},_updateStyle:function(n){var i=n._stroke,o=n._fill,s=n.options,a=n._container;a.stroked=!!s.stroke,a.filled=!!s.fill,s.stroke?(i||(i=n._stroke=Ee("stroke")),a.appendChild(i),i.weight=s.weight+"px",i.color=s.color,i.opacity=s.opacity,s.dashArray?i.dashStyle=l(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=s.lineCap.replace("butt","flat"),i.joinstyle=s.lineJoin):i&&(a.removeChild(i),n._stroke=null),s.fill?(o||(o=n._fill=Ee("fill")),a.appendChild(o),o.color=s.fillColor||s.color,o.opacity=s.fillOpacity):o&&(a.removeChild(o),n._fill=null)},_updateCircle:function(n){var i=n._point.round(),o=Math.round(n._radius),s=Math.round(n._radiusY||o);this._setPath(n,n._empty()?"M0 0":"AL "+i.x+","+i.y+" "+o+","+s+" 0,23592600")},_setPath:function(n,i){n._path.v=i},_bringToFront:function(n){toFront(n._container)},_bringToBack:function(n){toBack(n._container)}},Me=ut?Ee:svgCreate,Be=Ae.extend({getEvents:function(){var n=Ae.prototype.getEvents.call(this);return n.zoomstart=this._onZoomStart,n},_initContainer:function(){this._container=Me("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Me("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){remove(this._container),off(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ae.prototype._update.call(this);var n=this._bounds,i=n.getSize(),o=this._container;this._svgSize&&this._svgSize.equals(i)||(this._svgSize=i,o.setAttribute("width",i.x),o.setAttribute("height",i.y)),setPosition(o,n.min),o.setAttribute("viewBox",[n.min.x,n.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(n){var i=n._path=Me("path");n.options.className&&addClass(i,n.options.className),n.options.interactive&&addClass(i,"leaflet-interactive"),this._updateStyle(n),this._layers[stamp(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){remove(n._path),n.removeInteractiveTarget(n._path),delete this._layers[stamp(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var i=n._path,o=n.options;i&&(o.stroke?(i.setAttribute("stroke",o.color),i.setAttribute("stroke-opacity",o.opacity),i.setAttribute("stroke-width",o.weight),i.setAttribute("stroke-linecap",o.lineCap),i.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?i.setAttribute("stroke-dasharray",o.dashArray):i.removeAttribute("stroke-dasharray"),o.dashOffset?i.setAttribute("stroke-dashoffset",o.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),o.fill?(i.setAttribute("fill",o.fillColor||o.color),i.setAttribute("fill-opacity",o.fillOpacity),i.setAttribute("fill-rule",o.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(n,i){this._setPath(n,pointsToPath(n._parts,i))},_updateCircle:function(n){var i=n._point,o=Math.max(Math.round(n._radius),1),s=Math.max(Math.round(n._radiusY),1)||o,a="a"+o+","+s+" 0 1,0 ",l=n._empty()?"M0 0":"M"+(i.x-o)+","+i.y+a+2*o+",0 "+a+2*-o+",0 ";this._setPath(n,l)},_setPath:function(n,i){n._path.setAttribute("d",i)},_bringToFront:function(n){toFront(n._path)},_bringToBack:function(n){toBack(n._path)}});function svg$1(n){return ct||ut?new Be(n):null}ut&&Be.include(je),It.include({getRenderer:function(n){var i=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(n){if("overlayPane"===n||void 0===n)return!1;var i=this._paneRenderers[n];return void 0===i&&(i=this._createRenderer({pane:n}),this._paneRenderers[n]=i),i},_createRenderer:function(n){return this.options.preferCanvas&&canvas$1(n)||svg$1(n)}});var ze=fe.extend({initialize:function(n,i){fe.prototype.initialize.call(this,this._boundsToLatLngs(n),i)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=toLatLngBounds(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function rectangle(n,i){return new ze(n,i)}Be.create=Me,Be.pointsToPath=pointsToPath,_e.geometryToLayer=geometryToLayer,_e.coordsToLatLng=coordsToLatLng,_e.coordsToLatLngs=coordsToLatLngs,_e.latLngToCoords=latLngToCoords,_e.latLngsToCoords=latLngsToCoords,_e.getFeature=getFeature,_e.asFeature=asFeature,It.mergeOptions({boxZoom:!0});var Ne=Ut.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){remove(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||1!==n.which&&1!==n.button)return!1;this._clearDeferredResetState(),this._resetState(),xt(),disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(n),on(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=create$1("div","leaflet-zoom-box",this._container),addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var i=new Bounds(this._point,this._startPoint),o=i.getSize();setPosition(this._box,i.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(remove(this._box),removeClass(this._container,"leaflet-crosshair")),Lt(),enableImageDrag(),off(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if((1===n.which||1===n.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(bind(this._resetState,this),0);var i=new LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(n){27===n.keyCode&&this._finish()}});It.addInitHook("addHandler","boxZoom",Ne),It.mergeOptions({doubleClickZoom:!0});var Ie=Ut.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var i=this._map,o=i.getZoom(),s=i.options.zoomDelta,a=n.originalEvent.shiftKey?o-s:o+s;"center"===i.options.doubleClickZoom?i.setZoom(a):i.setZoomAround(n.containerPoint,a)}});It.addInitHook("addHandler","doubleClickZoom",Ie),It.mergeOptions({dragging:!0,inertia:!I,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var De=Ut.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Kt(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){removeClass(this._map._container,"leaflet-grab"),removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=toLatLngBounds(this._map.options.maxBounds);this._offsetLimit=toBounds(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var i=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(i),this._prunePositions(i)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){while(this._positions.length>1&&n-this._times[0]>50)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,i){return n-(n-i)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var n=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;n.x<i.min.x&&(n.x=this._viscousLimit(n.x,i.min.x)),n.y<i.min.y&&(n.y=this._viscousLimit(n.y,i.min.y)),n.x>i.max.x&&(n.x=this._viscousLimit(n.x,i.max.x)),n.y>i.max.y&&(n.y=this._viscousLimit(n.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,i=Math.round(n/2),o=this._initialWorldOffset,s=this._draggable._newPos.x,a=(s-i+o)%n+i-o,l=(s+i+o)%n-i-o,c=Math.abs(a+o)<Math.abs(l+o)?a:l;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=c},_onDragEnd:function(n){var i=this._map,o=i.options,s=!o.inertia||this._times.length<2;if(i.fire("dragend",n),s)i.fire("moveend");else{this._prunePositions(+new Date);var a=this._lastPos.subtract(this._positions[0]),l=(this._lastTime-this._times[0])/1e3,c=o.easeLinearity,h=a.multiplyBy(c/l),p=h.distanceTo([0,0]),_=Math.min(o.inertiaMaxSpeed,p),g=h.multiplyBy(_/p),b=_/(o.inertiaDeceleration*c),x=g.multiplyBy(-b/2).round();x.x||x.y?(x=i._limitOffset(x,i.options.maxBounds),requestAnimFrame((function(){i.panBy(x,{duration:b,easeLinearity:c,noMoveStart:!0,animate:!0})}))):i.fire("moveend")}}});It.addInitHook("addHandler","dragging",De),It.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Re=Ut.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),on(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,i=document.documentElement,o=n.scrollTop||i.scrollTop,s=n.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var i,o,s=this._panKeys={},a=this.keyCodes;for(i=0,o=a.left.length;i<o;i++)s[a.left[i]]=[-1*n,0];for(i=0,o=a.right.length;i<o;i++)s[a.right[i]]=[n,0];for(i=0,o=a.down.length;i<o;i++)s[a.down[i]]=[0,n];for(i=0,o=a.up.length;i<o;i++)s[a.up[i]]=[0,-1*n]},_setZoomDelta:function(n){var i,o,s=this._zoomKeys={},a=this.keyCodes;for(i=0,o=a.zoomIn.length;i<o;i++)s[a.zoomIn[i]]=n;for(i=0,o=a.zoomOut.length;i<o;i++)s[a.zoomOut[i]]=-n},_addHooks:function(){on(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){off(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var i,o=n.keyCode,s=this._map;if(o in this._panKeys)s._panAnim&&s._panAnim._inProgress||(i=this._panKeys[o],n.shiftKey&&(i=toPoint(i).multiplyBy(3)),s.panBy(i),s.options.maxBounds&&s.panInsideBounds(s.options.maxBounds));else if(o in this._zoomKeys)s.setZoom(s.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[o]);else{if(27!==o||!s._popup||!s._popup.options.closeOnEscapeKey)return;s.closePopup()}stop(n)}}});It.addInitHook("addHandler","keyboard",Re),It.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ze=Ut.extend({addHooks:function(){on(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){off(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var i=getWheelDelta(n),o=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var s=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(bind(this._performZoom,this),s),stop(n)},_performZoom:function(){var n=this._map,i=n.getZoom(),o=this._map.options.zoomSnap||0;n._stop();var s=this._delta/(4*this._map.options.wheelPxPerZoomLevel),a=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,l=o?Math.ceil(a/o)*o:a,c=n._limitZoom(i+(this._delta>0?l:-l))-i;this._delta=0,this._startTime=null,c&&("center"===n.options.scrollWheelZoom?n.setZoom(i+c):n.setZoomAround(this._lastMousePos,i+c))}});It.addInitHook("addHandler","scrollWheelZoom",Ze),It.mergeOptions({tap:!0,tapTolerance:15});var $e=Ut.extend({addHooks:function(){on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(n.touches){if(preventDefault(n),this._fireClick=!0,n.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=n.touches[0],o=i.target;this._startPos=this._newPos=new Point(i.clientX,i.clientY),o.tagName&&"a"===o.tagName.toLowerCase()&&addClass(o,"leaflet-active"),this._holdTimeout=setTimeout(bind((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))}),this),1e3),this._simulateEvent("mousedown",i),on(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(n){if(clearTimeout(this._holdTimeout),off(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&n&&n.changedTouches){var i=n.changedTouches[0],o=i.target;o&&o.tagName&&"a"===o.tagName.toLowerCase()&&removeClass(o,"leaflet-active"),this._simulateEvent("mouseup",i),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(n){var i=n.touches[0];this._newPos=new Point(i.clientX,i.clientY),this._simulateEvent("mousemove",i)},_simulateEvent:function(n,i){var o=document.createEvent("MouseEvents");o._simulated=!0,i.target._simulatedClick=!0,o.initMouseEvent(n,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(o)}});!it||nt&&!q||It.addInitHook("addHandler","tap",$e),It.mergeOptions({touchZoom:it&&!I,bounceAtZoomLimits:!0});var Fe=Ut.extend({addHooks:function(){addClass(this._map._container,"leaflet-touch-zoom"),on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){removeClass(this._map._container,"leaflet-touch-zoom"),off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var i=this._map;if(n.touches&&2===n.touches.length&&!i._animatingZoom&&!this._zooming){var o=i.mouseEventToContainerPoint(n.touches[0]),s=i.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),"center"!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(o.add(s)._divideBy(2))),this._startDist=o.distanceTo(s),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),on(document,"touchmove",this._onTouchMove,this),on(document,"touchend",this._onTouchEnd,this),preventDefault(n)}},_onTouchMove:function(n){if(n.touches&&2===n.touches.length&&this._zooming){var i=this._map,o=i.mouseEventToContainerPoint(n.touches[0]),s=i.mouseEventToContainerPoint(n.touches[1]),a=o.distanceTo(s)/this._startDist;if(this._zoom=i.getScaleZoom(a,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&a<1||this._zoom>i.getMaxZoom()&&a>1)&&(this._zoom=i._limitZoom(this._zoom)),"center"===i.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var l=o._add(s)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===l.x&&0===l.y)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(l),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),cancelAnimFrame(this._animRequest);var c=bind(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=requestAnimFrame(c,this,!0),preventDefault(n)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,cancelAnimFrame(this._animRequest),off(document,"touchmove",this._onTouchMove,this),off(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});It.addInitHook("addHandler","touchZoom",Fe),It.BoxZoom=Ne,It.DoubleClickZoom=Ie,It.Drag=De,It.Keyboard=Re,It.ScrollWheelZoom=Ze,It.Tap=$e,It.TouchZoom=Fe,n.version=i,n.Control=Dt,n.control=control,n.Browser=ht,n.Evented=x,n.Mixin=Vt,n.Util=g,n.Class=Class,n.Handler=Ut,n.extend=extend,n.bind=bind,n.stamp=stamp,n.setOptions=setOptions,n.DomEvent=zt,n.DomUtil=kt,n.PosAnimation=Nt,n.Draggable=Kt,n.LineUtil=Gt,n.PolyUtil=Xt,n.Point=Point,n.point=toPoint,n.Bounds=Bounds,n.bounds=toBounds,n.Transformation=Transformation,n.transformation=toTransformation,n.Projection=te,n.LatLng=LatLng,n.latLng=toLatLng,n.LatLngBounds=LatLngBounds,n.latLngBounds=toLatLngBounds,n.CRS=P,n.GeoJSON=_e,n.geoJSON=geoJSON,n.geoJson=ge,n.Layer=oe,n.LayerGroup=se,n.layerGroup=layerGroup,n.FeatureGroup=ae,n.featureGroup=featureGroup,n.ImageOverlay=ye,n.imageOverlay=imageOverlay,n.VideoOverlay=be,n.videoOverlay=videoOverlay,n.SVGOverlay=xe,n.svgOverlay=svgOverlay,n.DivOverlay=Le,n.Popup=we,n.popup=popup,n.Tooltip=Ce,n.tooltip=tooltip,n.Icon=re,n.icon=icon,n.DivIcon=Pe,n.divIcon=divIcon,n.Marker=ue,n.marker=marker,n.TileLayer=Te,n.tileLayer=tileLayer,n.GridLayer=Oe,n.gridLayer=gridLayer,n.SVG=Be,n.svg=svg$1,n.Renderer=Ae,n.Canvas=ke,n.canvas=canvas$1,n.Path=he,n.CircleMarker=de,n.circleMarker=circleMarker,n.Circle=pe,n.circle=circle,n.Polyline=me,n.polyline=polyline,n.Polygon=fe,n.polygon=polygon,n.Rectangle=ze,n.rectangle=rectangle,n.Map=It,n.map=createMap;var Ue=window.L;n.noConflict=function(){return window.L=Ue,this},window.L=n}))},e2b9:function(n,i){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},ef62:function(n,i,o){"use strict";o.d(i,"a",(function(){return capitalizeFirstLetter})),o.d(i,"b",(function(){return collectionCleaner})),o.d(i,"c",(function(){return debounce})),o.d(i,"d",(function(){return findRealParent})),o.d(i,"e",(function(){return optionsMerger})),o.d(i,"f",(function(){return propsBinder}));var s=o("e11e"),debounce=function(n,i){var o,debouncedFunction=function(){var s=[],a=arguments.length;while(a--)s[a]=arguments[a];var l=this;o&&clearTimeout(o),o=setTimeout((function(){n.apply(l,s),o=null}),i)};return debouncedFunction.cancel=function(){o&&clearTimeout(o)},debouncedFunction},capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n}},f60f:function(n,i,o){"use strict";var s=o("e11e"),capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n},a={props:{content:{type:String,default:null,custom:!0}},mounted:function mounted(){this.popperOptions={}},methods:{setContent:function setContent(n){this.mapObject&&null!==n&&void 0!==n&&this.mapObject.setContent(n)}},render:function render(n){return this.$slots.default?n("div",this.$slots.default):null}},l={props:{options:{type:Object,default:function(){return{}}}}},c={name:"LPopup",mixins:[a,l],props:{latLng:{type:[Object,Array],default:function(){return[]}}},mounted:function mounted(){var n=this,i=optionsMerger(this.popperOptions,this);this.mapObject=Object(s["popup"])(i),void 0!==this.latLng&&this.mapObject.setLatLng(this.latLng),s["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.mapObject.setContent(this.content||this.$el),this.parentContainer=findRealParent(this.$parent),this.parentContainer.mapObject.bindPopup(this.mapObject),this.$nextTick((function(){n.$emit("ready",n.mapObject)}))},beforeDestroy:function beforeDestroy(){this.parentContainer&&(this.parentContainer.unbindPopup?this.parentContainer.unbindPopup():this.parentContainer.mapObject&&this.parentContainer.mapObject.unbindPopup&&this.parentContainer.mapObject.unbindPopup())}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var h=c,p=void 0,_=void 0,g=void 0,b=void 0,x=normalizeComponent({},p,h,_,b,g,!1,void 0,void 0,void 0);i["a"]=x},fb37:function(n,i,o){"use strict";var render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("b-field",[n.navlog?o("b-radio-button",{attrs:{"native-value":"NavigationLog",disabled:!n.gotNavigation},model:{value:n.modalName,callback:function(i){n.modalName=i},expression:"modalName"}},[o("b-tooltip",n._b({attrs:{label:"Navigation Log"}},"b-tooltip",n.tooltip,!1),[o("b-icon",n._b({attrs:{icon:"clipboard-list-outline"}},"b-icon",n.icon,!1))],1)],1):n._e(),n.checklists?o("b-radio-button",{attrs:{"native-value":"Checklists",disabled:!n.gotAircraft},model:{value:n.modalName,callback:function(i){n.modalName=i},expression:"modalName"}},[o("b-tooltip",n._b({attrs:{label:"Checklists"}},"b-tooltip",n.tooltip,!1),[o("b-icon",n._b({attrs:{icon:"list-status"}},"b-icon",n.icon,!1))],1)],1):n._e(),n.vac?o("b-radio-button",{attrs:{"native-value":"Charts"},model:{value:n.modalName,callback:function(i){n.modalName=i},expression:"modalName"}},[o("b-tooltip",n._b({attrs:{label:"VAC"}},"b-tooltip",n.tooltip,!1),[o("b-icon",n._b({attrs:{icon:"airport"}},"b-icon",n.icon,!1))],1)],1):n._e(),n.weather?o("b-radio-button",{attrs:{"native-value":"Weather"},model:{value:n.modalName,callback:function(i){n.modalName=i},expression:"modalName"}},[o("b-tooltip",n._b({attrs:{label:"Weather"}},"b-tooltip",n.tooltip,!1),[o("b-icon",n._b({attrs:{icon:"windsock"}},"b-icon",n.icon,!1))],1)],1):n._e(),n.aip?o("b-radio-button",{attrs:{"native-value":"AeronauticalInformations"},model:{value:n.modalName,callback:function(i){n.modalName=i},expression:"modalName"}},[o("b-tooltip",n._b({attrs:{label:"AIP & Notams"}},"b-tooltip",n.tooltip,!1),[o("b-icon",n._b({attrs:{icon:"message-flash"}},"b-icon",n.icon,!1))],1)],1):n._e(),n.balance?o("b-radio-button",{attrs:{"native-value":"Balance",disabled:!n.gotAircraft},model:{value:n.modalName,callback:function(i){n.modalName=i},expression:"modalName"}},[o("b-tooltip",n._b({attrs:{label:"Balance"}},"b-tooltip",n.tooltip,!1),[o("b-icon",n._b({attrs:{icon:"weight"}},"b-icon",n.icon,!1))],1)],1):n._e()],1)},s=[],NavigationLogvue_type_template_id_311e76c0_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("section",{staticClass:"box"},[o("b-tabs",{staticClass:"box",attrs:{multiline:""},model:{value:n.selectedRoute,callback:function(i){n.selectedRoute=i},expression:"selectedRoute"}},[o("b-tab-item",{attrs:{label:"Summary",icon:"file-replace-outline"}},[o("b-field",{attrs:{label:"Average Speed",horizontal:"",addons:""}},[o("b-speed",{attrs:{controls:!1},model:{value:n.selectedPace,callback:function(i){n.selectedPace=i},expression:"selectedPace"}}),n.aircraftPaces||n.currentSpeed?o("b-select",{attrs:{placeholder:"aircraft pace"},model:{value:n.selectedPace,callback:function(i){n.selectedPace=i},expression:"selectedPace"}},[n.currentSpeed?o("option",{domProps:{value:n.currentSpeed}},[n._v(" Current speed ("+n._s(n.currentSpeed)+") ")]):n._e(),n._l(n.aircraftPaces,(function(i){return o("option",{key:i.name,domProps:{value:i}},[n._v(" "+n._s(i.name)+" ("+n._s(i)+") ")])}))],2):n._e()],1),o("nav",{staticClass:"level"},[o("div",{staticClass:"level-item has-text-centered"},[o("div",[o("p",{staticClass:"heading"},[n._v(" Total Distance ")]),o("p",{staticClass:"title"},[n._v(" "+n._s(n._f("as")(n.navigationDistance(n.navigation),"NM",2))+" ")])])]),o("div",{staticClass:"level-item has-text-centered"},[o("div",[o("p",{staticClass:"heading"},[n._v(" Estimated Time ")]),o("p",{staticClass:"title"},[n._v(" "+n._s(n._f("asDuration")(n.navigationETE(n.navigation),1e3))+" ")])])]),o("div",{staticClass:"level-item has-text-centered"},[o("div",[o("p",{staticClass:"heading"},[n._v(" Fuel to be consumed ")]),o("p",{staticClass:"title"},[n._v(" - L ")])])])]),o("div",{staticClass:"content"},[o("blockquote",{staticStyle:{"white-space":"pre-line"}},[n._v(" "+n._s(n.navigation.notes)+" ")])]),o("b-field",{attrs:{label:"Notes"}},[o("b-notepad",{model:{value:n.flight.notes,callback:function(i){n.$set(n.flight,"notes",i)},expression:"flight.notes"}})],1)],1),n._l(n.navigation.routes,(function(i,s){return o("b-tab-item",{key:s,attrs:{label:""+(s+1),icon:"chevron-triple-right"}},[o("table",{staticClass:"table is-narrow is-hoverable is-fullwidth"},[o("colgroup",[o("col",{attrs:{span:"3"}}),o("col",{attrs:{span:"3"}})]),o("thead",[o("tr",[o("th",[n._v("Waypoint")]),o("th",[n._v("Alt.")]),o("th",[n._v("Notes")]),o("th",[n._v("Bearing")]),o("th",[n._v("Distance")]),o("th",[n._v("ETE")])])]),o("tfoot",[o("tr",[o("th"),o("th",[n._v("min Alt.")]),o("th"),o("th"),o("th",{staticClass:"has-text-right is-size-4"},[n._v(" "+n._s(n._f("as")(n.routeDistance(i),"NM",3))+" ")]),o("th",{staticClass:"has-text-right is-size-4"},[n._v(" "+n._s(n._f("asDuration")(n.routeETE(i),1e3))+" ")])])]),o("tbody",[n._l(i,(function(s,a){return[o("tr",{key:"wp_"+a},[o("td",{attrs:{rowspan:"2"}},[o("b-icon",{attrs:{icon:"numeric-"+a+"-circle-outline"}}),n._v(" "+n._s(s.name)+" ")],1),o("td",{attrs:{rowspan:"2"}},[n._v(" "+n._s(s.altitude)+" ")]),o("td",{attrs:{rowspan:"2"}},[n._v(" "+n._s(s.notes)+" ")]),0==a?o("td",{attrs:{colspan:"3",height:"1em"}}):n._e()]),a+1<i.length?o("tr",{key:"leg_"+a},[o("td",{staticClass:"has-text-right is-size-4",attrs:{rowspan:"2"}},[n._v(" "+n._s(n._f("as")(n.legBearing(i,a),"°",3))+" ")]),o("td",{staticClass:"has-text-right is-size-4",attrs:{rowspan:"2"}},[n._v(" "+n._s(n._f("as")(n.legDistance(i,a),"NM",3))+" ")]),o("td",{staticClass:"has-text-right is-size-4",attrs:{rowspan:"2"}},[n._v(" "+n._s(n._f("asDuration")(n.legETE(i,a),1e3))+" ")])]):o("tr",{key:"fill_"+a},[o("td",{attrs:{colspan:"2",height:"1em"}})])]}))],2)])])}))],2)],1)},a=[],l=o("3634"),c=o("2e0e"),h=o("7d8a"),p=o("5a64"),_={name:"NavigationLog",mixins:[c["a"]],components:{BSpeed:h["a"],BNotepad:p["a"]},data(){return{selectedRoute:void 0,selectedPace:void 0}},computed:{navigation(){return this.$store.state.currentNavigation},flight(){return this.$store.state.currentFlight},aircraftPaces(){return this.$store.state.currentAircraft&&this.$store.state.currentAircraft.paces},currentSpeed(){return this.$store.state.currentLocation&&this.$store.state.currentLocation.speed&&this.$store.state.currentLocation.speed.as("kt")}},methods:{navigationDistance(n){return new l["d"](n.routes.items.reduce((n,i)=>n+this.routeDistance(i),0))},navigationETE(n){return this.navigationDistance(n)/this.selectedPace},routeDistance(n){let i=0;return n.items.reduce((n,o)=>(n&&(i+=n.distanceTo(o)),o),null),new l["d"](i)},routeETE(n){return this.routeDistance(n)/this.selectedPace},waypointPair(n,i){if(!(i+1>=n.length))return[n.items[i],n.items[i+1]]},legDistance(n,i){const[o,s]=this.waypointPair(n,i);return o.distanceTo(s)},legBearing(n,i){const[o,s]=this.waypointPair(n,i);return o.bearingTo(s)},legETE(n,i){return this.legDistance(n,i)/this.selectedPace}}},g=_,b=o("2877"),x=Object(b["a"])(g,NavigationLogvue_type_template_id_311e76c0_render,a,!1,null,null,null),L=x.exports,Checklistsvue_type_template_id_dcad6fb4_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("section",{staticClass:"section"},[o("b-tabs",{staticClass:"box",attrs:{multiline:""},model:{value:n.currentCL,callback:function(i){n.currentCL=i},expression:"currentCL"}},[n.paces?o("b-tab-item",{attrs:{label:"Paces"}},[o("div",{staticClass:"grid"},n._l(n.paces,(function(i){return o("div",{key:i.name,staticClass:"notification is-primary"},[o("h1",{staticClass:"title"},[o("b",[n._v(n._s(i))])]),o("h2",{staticClass:"subtitle"},[n._v(" "+n._s(i.name)+" ")])])})),0)]):n._e(),n._l(n.checklists,(function(i){return o("b-tab-item",{key:i.name,attrs:{label:i.name}},[o("b-table",{attrs:{data:i.items,checkable:"","is-row-checkable":function(n){return!!n.expect},"checkbox-position":"right","checked-rows":n.checked,"header-checkable":!1,"mobile-cards":!1,"row-class":function(n){return n.action&&"is-selected"}},on:{"update:checkedRows":function(i){n.checked=i},"update:checked-rows":function(i){n.checked=i}},scopedSlots:n._u([{key:"empty",fn:function(){return[o("section",{staticClass:"section"},[o("div",{staticClass:"content has-text-grey has-text-centered"},[o("p",[n._v("Nothing here. Configure the aircraft first.")])])])]},proxy:!0},{key:"bottom-left",fn:function(){return[o("b-button",{attrs:{type:"is-primary"},on:{click:function(i){n.currentCL=(n.currentCL+1)%(n.checklists.length+1)}}},[n._v("Next C/L")])]},proxy:!0}],null,!0)},[o("b-table-column",{attrs:{field:"name",label:"Name","td-attrs":function(n){return n.expect?{colspan:1}:{colspan:2,class:"has-text-centered"}}},scopedSlots:n._u([{key:"default",fn:function(i){return[n._v(n._s(i.row.name))]}}],null,!0)}),o("b-table-column",{attrs:{field:"expect",label:"Expectation","td-attrs":function(n){return n.expect?{}:{class:"is-hidden"}}},scopedSlots:n._u([{key:"default",fn:function(i){return[n._v(n._s(i.row.expect))]}}],null,!0)})],1)],1)}))],2)],1)},C=[],P={name:"Checklists",data(){return{currentCL:0}},computed:{checklists(){return this.$store.state.currentAircraft.checklists},paces(){return this.$store.state.currentAircraft.paces},checked:{get(){return this.$store.state.currentFlight.checked},set(n){this.$store.state.currentFlight.checked=n}}}},O=P,T=Object(b["a"])(O,Checklistsvue_type_template_id_dcad6fb4_render,C,!1,null,null,null),S=T.exports,Chartsvue_type_template_id_7516b46b_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("section",{staticClass:"box"},[o("b-tabs",{attrs:{position:"is-centered","destroy-on-hide":""}},[o("b-tab-item",{attrs:{label:"VAC"}},[o("SiaVac")],1),o("b-tab-item",{attrs:{label:"BasULM",disabled:""}}),o("b-tab-item",{attrs:{label:"Instrument approach",disabled:""}})],1)],1)},A=[],k=o("1b49"),E={name:"Charts",components:{SiaVac:k["a"]}},j=E,M=Object(b["a"])(j,Chartsvue_type_template_id_7516b46b_render,A,!1,null,null,null),B=M.exports,Weathervue_type_template_id_72f90fd0_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("section",{staticClass:"box"},[o("b-loading",{attrs:{"is-full-page":!1,active:void 0===n.validated&&!n.error}},[o("b-notification",{attrs:{"has-icon":"",icon:"alert-circle-outline",closable:!1,"aria-close-label":"Close notification"}},[o("h4",{staticClass:"title"},[n._v("Aeroweb Server Unavailable")]),o("p",{staticClass:"heading"},[n._v(" Check your connection or use Meteo France server directly ")]),o("a",{attrs:{href:"https://aviation.meteo.fr",target:"_blank"}},[n._v("https://aviation.meteo.fr")])])],1),o("b-tabs",{attrs:{position:"is-centered","destroy-on-hide":""}},[o("b-tab-item",{attrs:{label:"Bulletin"}},[o("AerowebBulletin")],1),o("b-tab-item",{attrs:{label:"Charts"}},[o("AerowebCharts")],1),o("b-tab-item",{attrs:{label:"Radar",disabled:""}})],1)],1)},z=[],N=o("5026"),I=o("1a7a"),D=o("10ca"),R={name:"Weather",components:{AerowebBulletin:N["a"],AerowebCharts:I["a"]},mixins:[D["a"]],data(){return{validated:void 0,error:!1}},async mounted(){this.validated=await this.validateUser("navue")},methods:{async validateUser(n){try{return clearTimeout(this.error),this.error=!1,await this.aerowebInstance.VALIDATION(n)}catch(i){console.error(i),this.error=setTimeout(this.validateUser,3e3,n)}}}},Z=R,$=Object(b["a"])(Z,Weathervue_type_template_id_72f90fd0_render,z,!1,null,null,null),U=$.exports,AeronauticalInformationsvue_type_template_id_87b43acc_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("section",{staticClass:"box"},[o("b-tabs",{attrs:{position:"is-centered","destroy-on-hide":""}},[o("b-tab-item",{attrs:{label:"Notam"}},[o("SiaNotam")],1),o("b-tab-item",{attrs:{label:"AZBA"}},[o("SiaAzba")],1),o("b-tab-item",{attrs:{label:"Sup AIP",disabled:""}})],1)],1)},q=[],V=o("c7ad"),W=o("dd70"),H={name:"AeronauticalInformations",components:{SiaNotam:V["a"],SiaAzba:W["a"]}},J=H,K=Object(b["a"])(J,AeronauticalInformationsvue_type_template_id_87b43acc_render,q,!1,null,null,null),G=K.exports,Balancevue_type_template_id_3fe094b6_render=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("section",{staticClass:"box"},[o("div",{staticClass:"columns"},[o("div",{staticClass:"column"},[0==n.balance.length?o("div",{staticClass:"notification is-primary",attrs:{"has-icon":""}},[n._v(" At least one weight should be configured prior to use this tool. "),o("router-link",{attrs:{to:{name:"Aircraft",hash:"#moments"}}},[n._v("Set them before")])],1):n._e(),n._l(n.moments,(function(i,s){var a=i.name,l=i.mass;return o("b-field",{key:s,attrs:{label:a,grouped:"",horizontal:""}},[o("b-slider",{attrs:{min:l.min,max:l.max,"custom-formatter":function(){return l.toString()},tooltip:!1},model:{value:l.value,callback:function(i){n.$set(l,"value",i)},expression:"mass.value"}}),o("p",{staticClass:"control"},[o("b-tag",[n._v(n._s(l))])],1)],1)})),o("nav",{staticClass:"level"},[o("div",{staticClass:"level-item has-text-centered"},[o("div",[o("p",{staticClass:"heading"},[n._v("Total weight")]),o("p",{staticClass:"title"},[n._v(n._s(n.cgFullTank.mass))])])]),o("div",{staticClass:"level-item has-text-centered"},[o("div",[o("p",{staticClass:"heading"},[n._v("Mean Arm")]),o("p",{staticClass:"title"},[n._v(n._s(n.cgFullTank.lever))])])])])],2),o("div",{staticClass:"column"},[0==n.envelopes.length?o("div",{staticClass:"notification is-primary",attrs:{"has-icon":""}},[n._v(" At least one envelope should be configured prior to use this tool. "),o("router-link",{attrs:{to:{name:"Aircraft",hash:"#envelops"}}},[n._v("Go, and set some")])],1):o("BalanceChart",{attrs:{"chart-data":n.datasets}})],1)])])},X=[],Y=o("548d"),Q=o("08df"),tt=o("bd67"),et=o("0c9a"),nt={name:"Balance",components:{BalanceChart:Y["a"]},mixins:[Q["a"]],data(){return{moments:new tt["b"]}},computed:{balance(){return this.$store.state.currentAircraft.balance},envelopes(){return this.$store.state.currentAircraft.envelopes},cgFullTank(){return et["a"].linearCoG(this.moments.items)},cgEmptyTank(){return et["a"].linearCoG(this.moments.items.filter(n=>!n.tank))},datasets(){return{datasets:[...this.envelopes.items.map(n=>({...this.envelopesDataset,label:n.name,data:n.items.map(n=>this.toCoords(n))})),{...this.cgDataset,data:[this.toCoords(this.cgFullTank)],label:"Full tank"},{...this.cgDataset,data:[this.toCoords(this.cgEmptyTank)],label:"Empty tank"}]}}},methods:{toCoords({mass:n,lever:i}){return{x:Number(i),y:Number(n)}}},watch:{balance:{immediate:!0,handler(n){this.moments=tt["b"].from(JSON.parse(JSON.stringify(n)),et["a"])}}}},it=nt,ot=Object(b["a"])(it,Balancevue_type_template_id_3fe094b6_render,X,!1,null,null,null),st=ot.exports,at={name:"ReportToolbox",components:{NavigationLog:L,Checklists:S,Charts:B,Weather:U,AeronauticalInformations:G,Balance:st},props:{tooltip:Object,icon:Object,edit:Boolean,navlog:Boolean,checklists:Boolean,vac:Boolean,weather:Boolean,aip:Boolean,balance:Boolean},data(){return{modalName:null}},computed:{gotNavigation(){return!!this.$store.state.currentNavigation},gotAircraft(){return!!this.$store.state.currentAircraft}},watch:{modalName(n){n&&(this.modal=this.$buefy.modal.open({parent:this,component:this.$options.components[n],hasModalCard:!1,trapFocus:!0,appendToBody:!0,onCancel:()=>this.modalName=void 0}))}}},rt=at,lt=Object(b["a"])(rt,render,s,!1,null,null,null);i["a"]=lt.exports},fbba:function(n,i,o){"use strict";var s=o("e11e"),capitalizeFirstLetter=function(n){return n&&"function"===typeof n.charAt?n.charAt(0).toUpperCase()+n.slice(1):n},propsBinder=function(n,i,o,a){var loop=function(a){var l="set"+capitalizeFirstLetter(a),c=o[a].type===Object||o[a].type===Array||Array.isArray(o[a].type);o[a].custom&&n[l]?n.$watch(a,(function(i,o){n[l](i,o)}),{deep:c}):"setOptions"===l?n.$watch(a,(function(n,o){Object(s["setOptions"])(i,n)}),{deep:c}):i[l]&&n.$watch(a,(function(n,o){i[l](n)}),{deep:c})};for(var l in o)loop(l)},collectionCleaner=function(n){var i={};for(var o in n){var s=n[o];null!==s&&void 0!==s&&(i[o]=s)}return i},optionsMerger=function(n,i){var o=i.options&&i.options.constructor===Object?i.options:{};n=n&&n.constructor===Object?n:{};var s=collectionCleaner(o);n=collectionCleaner(n);var a=i.$options.props;for(var l in n){var c=a[l]?a[l].default&&"function"===typeof a[l].default?a[l].default.call():a[l].default:Symbol("unique"),h=!1;h=Array.isArray(c)?JSON.stringify(c)===JSON.stringify(n[l]):c===n[l],s[l]&&!h?(console.warn(l+" props is overriding the value passed in the options props"),s[l]=n[l]):s[l]||(s[l]=n[l])}return s},findRealParent=function(n){var i=!1;while(n&&!i)void 0===n.mapObject?n=n.$parent:i=!0;return n},a={name:"LIcon",props:{iconUrl:{type:String,custom:!0,default:null},iconRetinaUrl:{type:String,custom:!0,default:null},iconSize:{type:[Object,Array],custom:!0,default:null},iconAnchor:{type:[Object,Array],custom:!0,default:null},popupAnchor:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},tooltipAnchor:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},shadowUrl:{type:String,custom:!0,default:null},shadowRetinaUrl:{type:String,custom:!0,default:null},shadowSize:{type:[Object,Array],custom:!0,default:null},shadowAnchor:{type:[Object,Array],custom:!0,default:null},bgPos:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},className:{type:String,custom:!0,default:""},options:{type:Object,custom:!0,default:function(){return{}}}},data:function data(){return{parentContainer:null,observer:null,recreationNeeded:!1,swapHtmlNeeded:!1}},mounted:function mounted(){var n=this;if(this.parentContainer=findRealParent(this.$parent),!this.parentContainer)throw new Error("No parent container with mapObject found for LIcon");propsBinder(this,this.parentContainer.mapObject,this.$options.props),this.observer=new MutationObserver((function(){n.scheduleHtmlSwap()})),this.observer.observe(this.$el,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),this.scheduleCreateIcon()},beforeDestroy:function beforeDestroy(){this.parentContainer.mapObject&&this.parentContainer.mapObject.setIcon(this.parentContainer.$props.icon),this.observer.disconnect()},methods:{scheduleCreateIcon:function scheduleCreateIcon(){this.recreationNeeded=!0,this.$nextTick(this.createIcon)},scheduleHtmlSwap:function scheduleHtmlSwap(){this.htmlSwapNeeded=!0,this.$nextTick(this.createIcon)},createIcon:function createIcon(){if(this.htmlSwapNeeded&&!this.recreationNeeded&&this.iconObject&&this.parentContainer.mapObject.getElement())return this.parentContainer.mapObject.getElement().innerHTML=this.$el.innerHTML,void(this.htmlSwapNeeded=!1);if(this.recreationNeeded){this.iconObject&&s["DomEvent"].off(this.iconObject,this.$listeners);var n=optionsMerger({iconUrl:this.iconUrl,iconRetinaUrl:this.iconRetinaUrl,iconSize:this.iconSize,iconAnchor:this.iconAnchor,popupAnchor:this.popupAnchor,tooltipAnchor:this.tooltipAnchor,shadowUrl:this.shadowUrl,shadowRetinaUrl:this.shadowRetinaUrl,shadowSize:this.shadowSize,shadowAnchor:this.shadowAnchor,bgPos:this.bgPos,className:this.className,html:this.$el.innerHTML||this.html},this);n.html?this.iconObject=Object(s["divIcon"])(n):this.iconObject=Object(s["icon"])(n),s["DomEvent"].on(this.iconObject,this.$listeners),this.parentContainer.mapObject.setIcon(this.iconObject),this.recreationNeeded=!1,this.htmlSwapNeeded=!1}},setIconUrl:function setIconUrl(){this.scheduleCreateIcon()},setIconRetinaUrl:function setIconRetinaUrl(){this.scheduleCreateIcon()},setIconSize:function setIconSize(){this.scheduleCreateIcon()},setIconAnchor:function setIconAnchor(){this.scheduleCreateIcon()},setPopupAnchor:function setPopupAnchor(){this.scheduleCreateIcon()},setTooltipAnchor:function setTooltipAnchor(){this.scheduleCreateIcon()},setShadowUrl:function setShadowUrl(){this.scheduleCreateIcon()},setShadowRetinaUrl:function setShadowRetinaUrl(){this.scheduleCreateIcon()},setShadowAnchor:function setShadowAnchor(){this.scheduleCreateIcon()},setBgPos:function setBgPos(){this.scheduleCreateIcon()},setClassName:function setClassName(){this.scheduleCreateIcon()},setHtml:function setHtml(){this.scheduleCreateIcon()}},render:function render(){return null}};function normalizeComponent(n,i,o,s,a,l,c,h,p,_){"boolean"!==typeof c&&(p=h,h=c,c=!1);var g,b="function"===typeof o?o.options:o;if(n&&n.render&&(b.render=n.render,b.staticRenderFns=n.staticRenderFns,b._compiled=!0,a&&(b.functional=!0)),s&&(b._scopeId=s),l?(g=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,p(n)),n&&n._registeredComponents&&n._registeredComponents.add(l)},b._ssrRegister=g):i&&(g=c?function(n){i.call(this,_(n,this.$root.$options.shadowRoot))}:function(n){i.call(this,h(n))}),g)if(b.functional){var x=b.render;b.render=function renderWithStyleInjection(n,i){return g.call(i),x(n,i)}}else{var L=b.beforeCreate;b.beforeCreate=L?[].concat(L,g):[g]}return o}var l=a,__vue_render__=function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",[n._t("default")],2)},c=[],h=void 0,p=void 0,_=void 0,g=!1,b=normalizeComponent({render:__vue_render__,staticRenderFns:c},h,l,p,g,_,!1,void 0,void 0,void 0);i["a"]=b}}]);