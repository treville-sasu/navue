(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6b35876"],{"0dbd":function(i,o,s){"use strict";var a=s("e11e"),capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i},l={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(i,o){var s=this.$parent.mapObject.attributionControl;s.removeAttribution(o).addAttribution(i)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(i){this.mapObject&&(i?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var i=this.mapObject?this.mapObject.getTooltip():null;i&&i.unbindTooltip()},unbindPopup:function unbindPopup(){var i=this.mapObject?this.mapObject.getPopup():null;i&&i.unbindPopup()},updateVisibleProp:function updateVisibleProp(i){this.$emit("update:visible",i)}}},h={props:{interactive:{type:Boolean,default:!0},bubblingMouseEvents:{type:Boolean,default:!0}},mounted:function mounted(){this.interactiveLayerOptions={interactive:this.interactive,bubblingMouseEvents:this.bubblingMouseEvents}}},d={mixins:[l,h],props:{lStyle:{type:Object,custom:!0,default:null},stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!1},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}},mounted:function mounted(){if(this.pathOptions=Object.assign({},this.layerOptions,this.interactiveLayerOptions,{stroke:this.stroke,color:this.color,weight:this.weight,opacity:this.opacity,lineCap:this.lineCap,lineJoin:this.lineJoin,dashArray:this.dashArray,dashOffset:this.dashOffset,fill:this.fill,fillColor:this.fillColor,fillOpacity:this.fillOpacity,fillRule:this.fillRule,className:this.className}),this.lStyle)for(var i in console.warn("lStyle is deprecated and is going to be removed in the next major version"),this.lStyle)this.pathOptions[i]=this.lStyle[i]},beforeDestroy:function beforeDestroy(){this.parentContainer?this.parentContainer.removeLayer(this):console.error("Missing parent container")},methods:{setLStyle:function setLStyle(i){this.mapObject.setStyle(i)},setStroke:function setStroke(i){this.mapObject.setStyle({stroke:i})},setColor:function setColor(i){this.mapObject.setStyle({color:i})},setWeight:function setWeight(i){this.mapObject.setStyle({weight:i})},setOpacity:function setOpacity(i){this.mapObject.setStyle({opacity:i})},setLineCap:function setLineCap(i){this.mapObject.setStyle({lineCap:i})},setLineJoin:function setLineJoin(i){this.mapObject.setStyle({lineJoin:i})},setDashArray:function setDashArray(i){this.mapObject.setStyle({dashArray:i})},setDashOffset:function setDashOffset(i){this.mapObject.setStyle({dashOffset:i})},setFill:function setFill(i){this.mapObject.setStyle({fill:i})},setFillColor:function setFillColor(i){this.mapObject.setStyle({fillColor:i})},setFillOpacity:function setFillOpacity(i){this.mapObject.setStyle({fillOpacity:i})},setFillRule:function setFillRule(i){this.mapObject.setStyle({fillRule:i})},setClassName:function setClassName(i){this.mapObject.setStyle({className:i})}}},p={mixins:[d],props:{fill:{type:Boolean,custom:!0,default:!0},radius:{type:Number,default:null}},mounted:function mounted(){this.circleOptions=Object.assign({},this.pathOptions,{radius:this.radius})}},m={props:{options:{type:Object,default:function(){return{}}}}},f={name:"LCircle",mixins:[p,m],props:{latLng:{type:[Object,Array],default:function(){return[0,0]}}},data:function data(){return{ready:!1}},mounted:function mounted(){var i=this,o=optionsMerger(this.circleOptions,this);this.mapObject=Object(a["circle"])(this.latLng,o),a["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.ready=!0,this.parentContainer=findRealParent(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){i.$emit("ready",i.mapObject)}))},methods:{}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var _=f,__vue_render__=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div",{staticStyle:{display:"none"}},[i.ready?i._t("default"):i._e()],2)},v=[],g=void 0,y=void 0,b=void 0,x=!1,L=normalizeComponent({render:__vue_render__,staticRenderFns:v},g,_,y,x,b,!1,void 0,void 0,void 0);o["a"]=L},"1ebb":function(i,o,s){"use strict";var a=s("e11e"),capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i},l={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(i,o){var s=this.$parent.mapObject.attributionControl;s.removeAttribution(o).addAttribution(i)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(i){this.mapObject&&(i?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var i=this.mapObject?this.mapObject.getTooltip():null;i&&i.unbindTooltip()},unbindPopup:function unbindPopup(){var i=this.mapObject?this.mapObject.getPopup():null;i&&i.unbindPopup()},updateVisibleProp:function updateVisibleProp(i){this.$emit("update:visible",i)}}},h={mixins:[l],mounted:function mounted(){this.layerGroupOptions=this.layerOptions},methods:{addLayer:function addLayer(i,o){o||this.mapObject.addLayer(i.mapObject),this.parentContainer.addLayer(i,!0)},removeLayer:function removeLayer(i,o){o||this.mapObject.removeLayer(i.mapObject),this.parentContainer.removeLayer(i,!0)}}},d={props:{options:{type:Object,default:function(){return{}}}}},p={name:"LLayerGroup",mixins:[h,d],data:function data(){return{ready:!1}},mounted:function mounted(){var i=this;this.mapObject=Object(a["layerGroup"])(),propsBinder(this,this.mapObject,this.$options.props),a["DomEvent"].on(this.mapObject,this.$listeners),this.ready=!0,this.parentContainer=findRealParent(this.$parent),this.visible&&this.parentContainer.addLayer(this),this.$nextTick((function(){i.$emit("ready",i.mapObject)}))}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var m=p,__vue_render__=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div",{staticStyle:{display:"none"}},[i.ready?i._t("default"):i._e()],2)},f=[],_=void 0,v=void 0,g=void 0,y=!1,b=normalizeComponent({render:__vue_render__,staticRenderFns:f},_,m,v,y,g,!1,void 0,void 0,void 0);o["a"]=b},2102:function(i,o,s){},2253:function(i,o,s){"use strict";var a=s("e11e"),capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i},l={props:{position:{type:String,default:"topright"}},mounted:function mounted(){this.controlOptions={position:this.position}},beforeDestroy:function beforeDestroy(){this.mapObject&&this.mapObject.remove()}},h={props:{options:{type:Object,default:function(){return{}}}}},d={name:"LControl",mixins:[l,h],props:{disableClickPropagation:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){var i=this,o=a["Control"].extend({element:void 0,onAdd:function onAdd(){return this.element},setElement:function setElement(i){this.element=i}}),s=optionsMerger(this.controlOptions,this);this.mapObject=new o(s),propsBinder(this,this.mapObject,this.$options.props),this.parentContainer=findRealParent(this.$parent),this.mapObject.setElement(this.$el),this.disableClickPropagation&&a["DomEvent"].disableClickPropagation(this.$el),this.mapObject.addTo(this.parentContainer.mapObject),this.$nextTick((function(){i.$emit("ready",i.mapObject)}))}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var p=d,__vue_render__=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div",[i._t("default")],2)},m=[],f=void 0,_=void 0,v=void 0,g=!1,y=normalizeComponent({render:__vue_render__,staticRenderFns:m},f,p,_,g,v,!1,void 0,void 0,void 0);o["a"]=y},2699:function(i,o,s){"use strict";var a=s("e11e"),debounce=function(i,o){var s;return function(){var a=[],l=arguments.length;while(l--)a[l]=arguments[l];var h=this;s&&clearTimeout(s),s=setTimeout((function(){i.apply(h,a),s=null}),o)}},capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},l={props:{options:{type:Object,default:function(){return{}}}}},h={name:"LMap",mixins:[l],props:{center:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},bounds:{type:[Array,Object],custom:!0,default:null},maxBounds:{type:[Array,Object],default:null},zoom:{type:Number,custom:!0,default:0},minZoom:{type:Number,default:null},maxZoom:{type:Number,default:null},paddingBottomRight:{type:Array,custom:!0,default:null},paddingTopLeft:{type:Array,custom:!0,default:null},padding:{type:Array,custom:!0,default:null},worldCopyJump:{type:Boolean,default:!1},crs:{type:Object,custom:!0,default:function(){return a["CRS"].EPSG3857}},maxBoundsViscosity:{type:Number,default:null},inertia:{type:Boolean,default:null},inertiaDeceleration:{type:Number,default:null},inertiaMaxSpeed:{type:Number,default:null},easeLinearity:{type:Number,default:null},zoomAnimation:{type:Boolean,default:null},zoomAnimationThreshold:{type:Number,default:null},fadeAnimation:{type:Boolean,default:null},markerZoomAnimation:{type:Boolean,default:null},noBlockingAnimations:{type:Boolean,default:!1}},data:function data(){return{ready:!1,lastSetCenter:null,lastSetBounds:null,lastSetZoom:null,layerControl:void 0,layersToAdd:[],layersInControl:[]}},computed:{fitBoundsOptions:function fitBoundsOptions(){var i={animate:!this.noBlockingAnimations&&null};return this.padding?i.padding=this.padding:(this.paddingBottomRight&&(i.paddingBottomRight=this.paddingBottomRight),this.paddingTopLeft&&(i.paddingTopLeft=this.paddingTopLeft)),i}},beforeDestroy:function beforeDestroy(){this.mapObject&&this.mapObject.remove()},mounted:function mounted(){var i=this,o=optionsMerger({minZoom:this.minZoom,maxZoom:this.maxZoom,maxBounds:this.maxBounds,maxBoundsViscosity:this.maxBoundsViscosity,worldCopyJump:this.worldCopyJump,crs:this.crs,center:this.center,zoom:this.zoom,inertia:this.inertia,inertiaDeceleration:this.inertiaDeceleration,inertiaMaxSpeed:this.inertiaMaxSpeed,easeLinearity:this.easeLinearity,zoomAnimation:this.zoomAnimation,zoomAnimationThreshold:this.zoomAnimationThreshold,fadeAnimation:this.fadeAnimation,markerZoomAnimation:this.markerZoomAnimation},this);this.mapObject=Object(a["map"])(this.$el,o),this.setBounds(this.bounds),this.mapObject.on("moveend",debounce(this.moveEndHandler,100)),this.mapObject.on("overlayadd",this.overlayAddHandler),this.mapObject.on("overlayremove",this.overlayRemoveHandler),a["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.ready=!0,this.$emit("leaflet:load"),this.$nextTick((function(){i.$emit("ready",i.mapObject)}))},methods:{registerLayerControl:function registerLayerControl(i){var o=this;this.layerControl=i,this.mapObject.addControl(i.mapObject),this.layersToAdd.forEach((function(i){o.layerControl.addLayer(i)})),this.layersToAdd=[]},addLayer:function addLayer(i,o){if(void 0!==i.layerType)if(void 0===this.layerControl)this.layersToAdd.push(i);else{var s=this.layersInControl.find((function(o){return o.mapObject._leaflet_id===i.mapObject._leaflet_id}));s||(this.layerControl.addLayer(i),this.layersInControl.push(i))}o||!1===i.visible||this.mapObject.addLayer(i.mapObject)},hideLayer:function hideLayer(i){this.mapObject.removeLayer(i.mapObject)},removeLayer:function removeLayer(i,o){void 0!==i.layerType&&(void 0===this.layerControl?this.layersToAdd=this.layersToAdd.filter((function(o){return o.name!==i.name})):(this.layerControl.removeLayer(i),this.layersInControl=this.layersInControl.filter((function(o){return o.mapObject._leaflet_id!==i.mapObject._leaflet_id})))),o||this.mapObject.removeLayer(i.mapObject)},setZoom:function setZoom(i,o){this.mapObject.setZoom(i,{animate:!this.noBlockingAnimations&&null})},setCenter:function setCenter(i,o){if(null!=i){var s=Object(a["latLng"])(i),l=this.lastSetCenter||this.mapObject.getCenter();l.lat===s.lat&&l.lng===s.lng||(this.lastSetCenter=s,this.mapObject.panTo(s,{animate:!this.noBlockingAnimations&&null}))}},setBounds:function setBounds(i,o){if(i){var s=Object(a["latLngBounds"])(i);if(s.isValid()){var l=this.lastSetBounds||this.mapObject.getBounds(),h=!l.equals(s,0);h&&(this.lastSetBounds=s,this.mapObject.fitBounds(s,this.fitBoundsOptions))}}},setPaddingBottomRight:function setPaddingBottomRight(i,o){this.paddingBottomRight=i},setPaddingTopLeft:function setPaddingTopLeft(i,o){this.paddingTopLeft=i},setPadding:function setPadding(i,o){this.padding=i},setCrs:function setCrs(i,o){console.log("Changing CRS is not yet supported by Leaflet")},fitBounds:function fitBounds(i){this.mapObject.fitBounds(i,{animate:!this.noBlockingAnimations&&null})},moveEndHandler:function moveEndHandler(){this.$emit("update:zoom",this.mapObject.getZoom());var i=this.mapObject.getCenter();this.$emit("update:center",i);var o=this.mapObject.getBounds();this.$emit("update:bounds",o)},overlayAddHandler:function overlayAddHandler(i){var o=this.layersInControl.find((function(o){return o.name===i.name}));o&&o.updateVisibleProp(!0)},overlayRemoveHandler:function overlayRemoveHandler(i){var o=this.layersInControl.find((function(o){return o.name===i.name}));o&&o.updateVisibleProp(!1)}}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}var d,p="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(i){return function(i,o){return addStyle(i,o)}}var m={};function addStyle(i,o){var s=p?o.media||"default":i,a=m[s]||(m[s]={ids:new Set,styles:[]});if(!a.ids.has(i)){a.ids.add(i);var l=o.source;if(o.map&&(l+="\n/*# sourceURL="+o.map.sources[0]+" */",l+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",o.media&&a.element.setAttribute("media",o.media),void 0===d&&(d=document.head||document.getElementsByTagName("head")[0]),d.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(l),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var h=a.ids.size-1,f=document.createTextNode(l),_=a.element.childNodes;_[h]&&a.element.removeChild(_[h]),_.length?a.element.insertBefore(f,_[h]):a.element.appendChild(f)}}}var f=h,__vue_render__=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div",{staticClass:"vue2leaflet-map"},[i.ready?i._t("default"):i._e()],2)},_=[],__vue_inject_styles__=function(i){i&&i("data-v-49b28618_0",{source:".vue2leaflet-map{height:100%;width:100%}",map:void 0,media:void 0})},v=void 0,g=void 0,y=!1,b=normalizeComponent({render:__vue_render__,staticRenderFns:_},__vue_inject_styles__,f,v,y,g,!1,createInjector,void 0,void 0);o["a"]=b},"29ae":function(i,o,s){"use strict";var a=s("e11e"),l=s.n(a);delete l.a.Icon.Default.prototype._getIconUrl,l.a.Icon.Default.mergeOptions({iconRetinaUrl:s("584d"),iconUrl:s("6397"),shadowUrl:s("e2b9")})},"2cec":function(i,o,s){"use strict";var render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("l-layer-group",[i._l(i.value,(function(o,a){return s("LWaypointMarker",{key:a,attrs:{draggable:i.active},on:{click:function(o){return i.$emit("click-waypoint",a)},contextmenu:function(o){return i.$emit("contextmenu-waypoint",a)}},model:{value:i.value[a],callback:function(o){i.$set(i.value,a,o)},expression:"value[wp_id]"}})})),i._l(i.legs,(function(o,a){return s("LTracePolyline",{key:"leg"+a,attrs:{active:i.active,origin:o.previous,destination:o.current,className:i.active?"routeTrace":"inactiveRoute"},on:{contextmenu:function(o){return i.$emit("contextmenu-trace")},click:function(s){return i.$emit("click-trace",{latlng:s.latlng,insertBefore:o.insertBefore})}}})}))],2)},a=[],l=s("1ebb"),h=s("ef62"),LWaypointMarkervue_type_template_id_14d8c1b2_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("l-marker",i._g(i._b({attrs:{"lat-lng":i.value.latlng},on:{"update:latLng":function(o){return i.$set(i.value,"latlng",o)},"update:lat-lng":function(o){return i.$set(i.value,"latlng",o)}}},"l-marker",i.$attrs,!1),i.$listeners),[s("l-icon",{attrs:{"icon-anchor":[20,16],"icon-size":[40,40],className:"route-icon"}},[s("div",{staticClass:"leaflet-waypoint-point"})]),i.$attrs.draggable?s("l-popup",{attrs:{options:{closeButton:!0,className:"leaflet-waypoint-popup",maxWidth:"60vw"}}},[s("WaypointContent",{model:{value:i.value,callback:function(o){i.value=o},expression:"value"}})],1):i.value.name||i.value.altitude?s("l-tooltip",{attrs:{options:{className:"waypointLabel",permanent:!0,sticky:!0}}},[i._v(" "+i._s(i.value.name)+" "+i._s(i.value.name&&i.value.altitude?"|":"")+" "+i._s(i.value.altitude&&i.value.altitude.toString())+" ")]):i._e()],1)},d=[],p=s("4e2b"),m=s("fbba"),f=s("f60f"),_=s("31dc"),v=s("a22c"),g={name:"LWaypointMarker",components:{LMarker:p["a"],LIcon:m["a"],LPopup:f["a"],LTooltip:_["a"],WaypointContent:v["a"]},props:["value"]},y=g,b=(s("cbbb"),s("2877")),x=Object(b["a"])(y,LWaypointMarkervue_type_template_id_14d8c1b2_render,d,!1,null,null,null),L=x.exports,LTracePolylinevue_type_template_id_52bd156b_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("l-polyline",i._g(i._b({attrs:{"lat-lngs":[i.origin.latlng,i.destination.latlng]}},"l-polyline",i.$attrs,!1),i.$listeners),[i.active?i._e():s("l-tooltip",{attrs:{options:{className:"routeLabel",direction:"center",permanent:!0,sticky:!0}}},[i._v(" "+i._s(i._f("as")(i.bearing,"°",3))+" | "+i._s(i._f("as")(i.distance,"NM",3))+" ")])],1)},C=[],P=s("635f"),O=s("2e0e"),T={name:"LTracePolyline",mixins:[O["a"]],components:{LPolyline:P["a"],LTooltip:_["a"]},props:{active:Boolean,origin:Object,destination:Object},computed:{bearing(){return this.origin.bearingTo(this.destination)},distance(){return this.origin.distanceTo(this.destination)}}},S=T,A=(s("b68c"),Object(b["a"])(S,LTracePolylinevue_type_template_id_52bd156b_render,C,!1,null,null,null)),k=A.exports,E={name:"LRouteLayerGroup",components:{LLayerGroup:l["a"],LWaypointMarker:L,LTracePolyline:k},props:{value:Array,active:Boolean},mounted(){this.map=Object(h["d"])(this.$parent,!0).mapObject},computed:{traceCoord(){return this.value.map(i=>i.latlng)},legs(){let i=[];return this.value.reduce((o,s,a)=>(o&&i.push({previous:o,current:s,insertBefore:a}),s),null),i}}},j=E,M=Object(b["a"])(j,render,a,!1,null,null,null);o["a"]=M.exports},"2e0e":function(i,o,s){"use strict";o["a"]={filters:{as(i,o,s){if(i)return i.as(o,s)},asDuration(i,o=1){return i?(i instanceof Date?i:new Date(i*o)).toLocaleTimeString([],{timeZone:"UTC",hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-"}}}},"31dc":function(i,o,s){"use strict";var a=s("e11e"),capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i},l={props:{content:{type:String,default:null,custom:!0}},mounted:function mounted(){this.popperOptions={}},methods:{setContent:function setContent(i){this.mapObject&&null!==i&&void 0!==i&&this.mapObject.setContent(i)}},render:function render(i){return this.$slots.default?i("div",this.$slots.default):null}},h={props:{options:{type:Object,default:function(){return{}}}}},d={name:"LTooltip",mixins:[l,h],mounted:function mounted(){var i=this,o=optionsMerger(this.popperOptions,this);this.mapObject=Object(a["tooltip"])(o),a["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.mapObject.setContent(this.content||this.$el),this.parentContainer=findRealParent(this.$parent),this.parentContainer.mapObject.bindTooltip(this.mapObject),this.$nextTick((function(){i.$emit("ready",i.mapObject)}))},beforeDestroy:function beforeDestroy(){this.parentContainer&&(this.parentContainer.unbindTooltip?this.parentContainer.unbindTooltip():this.parentContainer.mapObject&&this.parentContainer.mapObject.unbindTooltip&&this.parentContainer.mapObject.unbindTooltip())}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var p=d,m=void 0,f=void 0,_=void 0,v=void 0,g=normalizeComponent({},m,p,f,v,_,!1,void 0,void 0,void 0);o["a"]=g},"37f7":function(i,o,s){"use strict";var render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("b-field",[i.navigation?s("p",{staticClass:"control"},[s("NavigationManager",i._b({scopedSlots:i._u([{key:"header",fn:function(o){var a=o.selected;return[i.navigation.edit?s("b-input",{attrs:{placeholder:"from > to"},model:{value:a.name,callback:function(o){i.$set(a,"name",o)},expression:"selected.name"}}):s("span",[i._v(" "+i._s(a.name)+" ")])]}}],null,!1,804264395)},"NavigationManager",Object.assign({},i.navigation,i.dropdown),!1))],1):i._e(),i.aircraft?s("p",{staticClass:"control"},[s("AircraftManager",i._b({scopedSlots:i._u([{key:"header",fn:function(o){var s=o.selected;return[i._v(" "+i._s(s.registration)+" ")]}}],null,!1,4016708378)},"AircraftManager",Object.assign({},i.aircraft,i.dropdown),!1))],1):i._e(),i.flight?s("p",{staticClass:"control"},[s("FlightManager",i._b({scopedSlots:i._u([{key:"header",fn:function(o){var a=o.selected;return[s("b-input",{attrs:{placeholder:"Flight n°"},model:{value:a.name,callback:function(o){i.$set(a,"name",o)},expression:"selected.name"}})]}}],null,!1,2423560444)},"FlightManager",Object.assign({},i.flight,i.dropdown),!1))],1):i._e(),i.location?s("p",{staticClass:"control"},[s("ViewManager",i._b({scopedSlots:i._u([{key:"header",fn:function(o){var a=o.selected;return[s("b-input",{attrs:{placeholder:"search location"},model:{value:a.name,callback:function(o){i.$set(a,"name",o)},expression:"selected.name"}})]}}],null,!1,4174007241)},"ViewManager",Object.assign({},i.dropdown),!1))],1):i._e()])},a=[],NavigationManagervue_type_template_id_640f36df_render=function(){var i=this,o=this,s=o.$createElement,a=o._self._c||s;return a("b-dropdown",o._b({scopedSlots:o._u([{key:"trigger",fn:function(){return[o._t("default",[a("b-button",[a("b-tooltip",{attrs:{position:"is-bottom",label:o.selectedData?o.selectedData.name:"Navigation"}},[a("b-icon",{attrs:{icon:"map-marker-path",type:o.selectedData?"is-success":""}})],1)],1)],{selected:o.selectedData})]},proxy:!0}],null,!0)},"b-dropdown",o.$attrs,!1),[o.selectedData?[o.$slots.header||o.$scopedSlots.header?a("b-dropdown-item",{attrs:{custom:""}},[o._t("header",null,{selected:o.selectedData})],2):o._e(),o.$slots.header||o.$scopedSlots.header?a("b-dropdown-item",{attrs:{separator:""}}):o._e(),o.edit?[a("b-dropdown-item",{on:{click:o.saveData}},[a("b-icon",{attrs:{icon:"cloud-upload-outline",type:"is-warning"}}),o._v(" Save ")],1),a("b-dropdown-item",{on:{click:o.exportData}},[a("b-icon",{attrs:{icon:"download-outline"}}),o._v(" Export ")],1),o.create?a("b-dropdown-item",{attrs:{disabled:!o.fromDB},on:{click:function(i){o.selectedData=o.cloneData(o.selectedData)}}},[a("b-icon",{attrs:{icon:"plus-circle-multiple-outline"}}),o._v(" Clone ")],1):o._e(),a("b-dropdown-item",{attrs:{disabled:!o.fromDB},on:{click:o.deleteData}},[a("b-icon",{attrs:{icon:"delete-outline",type:"is-danger"}}),o._v(" Delete ")],1)]:o._e(),a("b-dropdown-item",o._g({},o.persistent?{click:o.createData}:{click:o.discardData}),[a("b-icon",{attrs:{icon:"selection-off"}}),o._v(" Discard ")],1)]:[a("b-dropdown-item",{attrs:{custom:""}},[a("b-autocomplete",{attrs:{placeholder:"Choose an navigation",data:o.availableData||[],field:o.searchedProperty,"open-on-focus":"","keep-first":"","clear-on-select":"",clearable:""},on:{select:function(o,s){s.stopPropagation(),i.selectedData=o}},scopedSlots:o._u([o.search?{key:"empty",fn:function(){return[a("i",[o._v(o._s(o.search))]),o._v(" not found ")]},proxy:!0}:{key:"empty",fn:function(){return[o._v(" No navigation prepared ")]},proxy:!0}],null,!0),model:{value:o.search,callback:function(i){o.search=i},expression:"search"}})],1),o.create?a("b-dropdown-item",{on:{click:o.createData}},[a("b-icon",{attrs:{icon:"plus-circle-outline"}}),o._v(" New Navigation ")],1):o._e(),o.create?a("b-dropdown-item",[a("b-upload",{attrs:{accept:"application/json"},on:{input:o.importData},model:{value:o.upload,callback:function(i){o.upload=i},expression:"upload"}},[a("b-icon",{attrs:{icon:"upload"}}),o._v(" Import ")],1)],1):o._e()],"Briefing"!=o.$route.name?a("b-dropdown-item",{attrs:{"has-link":""}},[a("router-link",{attrs:{to:{name:"Briefing"}}},[o._v(" Edit Navigation ")])],1):o._e()],2)},l=[],h=s("1db5"),d=s("1caf"),p={name:"NavigationManager",mixins:[h["a"]],data(){return{constructor:d["a"],storeKey:"currentNavigation",searchedProperty:"name"}}},m=p,f=s("2877"),_=Object(f["a"])(m,NavigationManagervue_type_template_id_640f36df_render,l,!1,null,null,null),v=_.exports,g=s("7226"),FlightManagervue_type_template_id_7837eb0e_render=function(){var i=this,o=this,s=o.$createElement,a=o._self._c||s;return a("b-dropdown",o._b({scopedSlots:o._u([{key:"trigger",fn:function(){return[o._t("default",[a("b-button",[a("b-tooltip",{attrs:{position:"is-bottom",label:o.selectedData?o.selectedData.name||"new":"Flight"}},[a("b-icon",{attrs:{icon:"go-kart-track",type:o.selectedData?"is-success":""}})],1)],1)],{selected:o.selectedData})]},proxy:!0}],null,!0)},"b-dropdown",o.$attrs,!1),[o.selectedData?[o.$slots.header||o.$scopedSlots.header?a("b-dropdown-item",{attrs:{custom:""}},[o._t("header",null,{selected:o.selectedData})],2):o._e(),o.$slots.header||o.$scopedSlots.header?a("b-dropdown-item",{attrs:{separator:""}}):o._e(),o.persistent?[a("b-dropdown-item",{on:{click:o.buildFromLocal}},[a("b-icon",{attrs:{icon:"cloud-upload-outline",type:"is-warning"}}),o._v(" Save ")],1),o.trace?a("b-dropdown-item",{on:{click:o.deleteLocations}},[a("b-icon",{attrs:{icon:"map-marker-remove-outline",type:"is-danger"}}),o._v("Delete trace ")],1):o._e()]:o.edit?[a("b-dropdown-item",{on:{click:o.exportData}},[a("b-icon",{attrs:{icon:"download-outline"}}),o._v(" Export ")],1),a("b-dropdown-item",{attrs:{disabled:!o.fromDB},on:{click:o.deleteData}},[a("b-icon",{attrs:{icon:"delete-outline",type:"is-danger"}}),o._v(" Delete ")],1)]:o._e(),a("b-dropdown-item",o._g({},o.persistent?{click:o.createData}:{click:o.discardData}),[a("b-icon",{attrs:{icon:"selection-off"}}),o._v(" Discard ")],1)]:[a("b-autocomplete",{attrs:{placeholder:"Open Flight",data:o.availableData||[],field:o.searchedProperty,"open-on-focus":"","keep-first":"","clear-on-select":"",clearable:""},on:{select:function(o,s){s.stopPropagation(),i.selectedData=o}},scopedSlots:o._u([o.edit?{key:"header",fn:function(){return[a("a",{on:{click:function(i){o.selectedData=new o.constructor({name:o.search})}}},[a("span",[o._v(" Create "+o._s(o.search))])])]},proxy:!0}:null,o.edit?{key:"footer",fn:function(){return[a("b-field",{staticClass:"file is-primary"},[a("b-upload",{staticClass:"file-label",attrs:{accept:"application/json"},on:{input:o.importData},model:{value:o.upload,callback:function(i){o.upload=i},expression:"upload"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{attrs:{icon:"upload"}}),a("span",[o._v("Import from file")])],1)])],1)]},proxy:!0}:null,!o.edit&&o.search?{key:"empty",fn:function(){return[a("i",[o._v(o._s(o.search))]),o._v(" not found ")]},proxy:!0}:{key:"empty",fn:function(){return[o._v(" No Flight recorded ")]},proxy:!0}],null,!0),model:{value:o.search,callback:function(i){o.search=i},expression:"search"}})]],2)},y=[],b=s("00b4"),x={name:"FlightManager",mixins:[h["a"]],props:{trace:String},data(){return{constructor:b["a"],storeKey:"currentFlight",searchedProperty:"name"}},methods:{async buildFromLocal(){return await this.importLocations().then(this.saveData).then(this.deleteLocations)},async importLocations(){let i=await this.$pouch[this.trace].query({map:({_id:i,_rev:o,...s},a)=>{"Location"==s.type&&a(i.split("-")[0],s)},reduce:(i,o)=>o},{group:!0}).then(({rows:i})=>i.map(i=>{this.selectedData.addTrace(i.value)}));return i.length>0},async deleteLocations(){return await this.$pouch[this.trace].viewCleanup(),await this.$pouch[this.trace].destroy()}}},L=x,C=Object(f["a"])(L,FlightManagervue_type_template_id_7837eb0e_render,y,!1,null,null,null),P=C.exports,ViewManagervue_type_template_id_5cab37c4_render=function(){var i=this,o=this,s=o.$createElement,a=o._self._c||s;return a("b-dropdown",o._b({scopedSlots:o._u([{key:"trigger",fn:function(){return[o._t("default",[a("b-button",[a("b-tooltip",{attrs:{position:"is-bottom",label:"Locations"}},[a("b-icon",{attrs:{icon:"map-marker"}})],1)],1)])]},proxy:!0}],null,!0)},"b-dropdown",o.$attrs,!1),[a("b-dropdown-item",{attrs:{custom:""}},[a("b-autocomplete",{attrs:{placeholder:"location",data:o.results,field:"label",loading:o.isFetching,"keep-first":"","clear-on-select":"",icon:"map-search"},on:{typing:o.searchLocation,select:function(o,s){var a=o.x,l=o.y;s.stopPropagation(),i.onLocationFound({latitude:l,longitude:a})}}})],1),a("b-dropdown-item",{attrs:{disabled:!o.canLocate},on:{click:o.locate}},[a("b-icon",{attrs:{icon:"crosshairs-gps"}}),o._v(" Locate with GNSS ")],1),a("b-dropdown-item",[a("b-icon",{attrs:{icon:"crosshairs"}}),o._v(" Center view ")],1),a("b-dropdown-item",[a("b-icon",{attrs:{icon:"compass"}}),o._v(" Put north on top ")],1)],1)},O=[],T=s("e11e"),S=s.n(T);function geosearch_module_e(){return(geosearch_module_e=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i}).apply(this,arguments)}function geosearch_module_r(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.__proto__=o}function geosearch_module_i(i,o,s,a){void 0===o&&(o=""),void 0===a&&(a={});var l=document.createElement(i);return o&&(l.className=o),Object.keys(a).forEach((function(i){if("function"==typeof a[i]){var o=0===i.indexOf("on")?i.substr(2).toLowerCase():i;l.addEventListener(o,a[i])}else"html"===i?l.innerHTML=a[i]:"text"===i?l.innerText=a[i]:l.setAttribute(i,a[i])})),s&&s.appendChild(l),l}function geosearch_module_a(i){i.preventDefault(),i.stopPropagation()}var geosearch_module_u=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.filter(Boolean).join(" ").trim()};function geosearch_module_l(i,o){i&&i.classList&&(Array.isArray(o)?o:[o]).forEach((function(o){i.classList.contains(o)||i.classList.add(o)}))}function c(i,o){i&&i.classList&&(Array.isArray(o)?o:[o]).forEach((function(o){i.classList.contains(o)&&i.classList.remove(o)}))}var A,k=13,E=40,j=38,M=[k,27,E,j,37,39],z=function(){function t(i){var o=this,s=i.handleSubmit,a=i.searchLabel,l=i.classNames,h=void 0===l?{}:l;this.hasError=!1,this.container=geosearch_module_i("div",geosearch_module_u("geosearch",h.container)),this.form=geosearch_module_i("form",["",h.form].join(" "),this.container,{autocomplete:"none",onClick:geosearch_module_a,onDblClick:geosearch_module_a,touchStart:geosearch_module_a,touchEnd:geosearch_module_a}),this.input=geosearch_module_i("input",["glass",h.input].join(" "),this.form,{type:"text",placeholder:a||"search",onInput:this.onInput,onKeyUp:function(i){return o.onKeyUp(i)},onKeyPress:function(i){return o.onKeyPress(i)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){o.input.focus(),o.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=s}var i=t.prototype;return i.onFocus=function(){geosearch_module_l(this.form,"active")},i.onBlur=function(){c(this.form,"active")},i.onSubmit=function(i){try{var o=this;return geosearch_module_a(i),c(s=o.container,"error"),geosearch_module_l(s,"pending"),Promise.resolve(o.handleSubmit({query:o.input.value})).then((function(){c(o.container,"pending")}))}catch(i){return Promise.reject(i)}var s},i.onInput=function(){this.hasError&&(c(this.container,"error"),this.hasError=!1)},i.onKeyUp=function(i){27===i.keyCode&&(c(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},i.onKeyPress=function(i){i.keyCode===k&&this.onSubmit(i)},i.setQuery=function(i){this.input.value=i},t}(),B=function(){function t(i){var o=this,s=i.handleClick,a=i.classNames,l=void 0===a?{}:a,h=i.notFoundMessage;this.selected=-1,this.results=[],this.onClick=function(i){if("function"==typeof o.handleClick){var s=i.target;if(s&&o.container.contains(s)&&s.hasAttribute("data-key")){var a=Number(s.getAttribute("data-key"));o.clear(),o.handleClick({result:o.results[a]})}}},this.handleClick=s,this.notFoundMessage=h?geosearch_module_i("div",geosearch_module_u(l.notfound),void 0,{html:h}):void 0,this.container=geosearch_module_i("div",geosearch_module_u("results",l.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=geosearch_module_i("div",geosearch_module_u(l.item))}var i=t.prototype;return i.render=function(i,o){var s=this;void 0===i&&(i=[]),this.clear(),i.forEach((function(i,a){var l=s.resultItem.cloneNode(!0);l.setAttribute("data-key",""+a),l.innerHTML=o({result:i}),s.container.appendChild(l)})),i.length>0?(geosearch_module_l(this.container.parentElement,"open"),geosearch_module_l(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),geosearch_module_l(this.container.parentElement,"open")),this.results=i},i.select=function(i){return Array.from(this.container.children).forEach((function(o,s){return s===i?geosearch_module_l(o,"active"):c(o,"active")})),this.selected=i,this.results[i]},i.count=function(){return this.results?this.results.length:0},i.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);c(this.container.parentElement,"open"),c(this.container,"active")},t}(),N={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(i){return""+i.result.label},resultFormat:function(i){return""+i.result.label},marker:{icon:S.a&&S.a.Icon?new S.a.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},I="Leaflet must be loaded before instantiating the GeoSearch control";geosearch_module_e({},N),geosearch_module_e({},N.classNames);!function(i){i[i.SEARCH=0]="SEARCH",i[i.REVERSE=1]="REVERSE"}(A||(A={}));var D=function(){function t(i){void 0===i&&(i={}),this.options=i}var i=t.prototype;return i.getParamString=function(i){void 0===i&&(i={});var o=geosearch_module_e({},this.options.params,{},i);return Object.keys(o).map((function(i){return encodeURIComponent(i)+"="+encodeURIComponent(o[i])})).join("&")},i.getUrl=function(i,o){return i+"?"+this.getParamString(o)},i.search=function(i){try{var o=this,s=o.endpoint({query:i.query,type:A.SEARCH});return Promise.resolve(fetch(s)).then((function(i){return Promise.resolve(i.json()).then((function(i){return o.parse({data:i})}))}))}catch(i){return Promise.reject(i)}},t}(),R=(function(i){function n(){return i.apply(this,arguments)||this}geosearch_module_r(n,i);var o=n.prototype;o.endpoint=function(){return"https://places-dsn.algolia.net/1/places/query"},o.findBestMatchLevelIndex=function(i){var o=i.find((function(i){return"full"===i.matchLevel}))||i.find((function(i){return"partial"===i.matchLevel}));return o?i.indexOf(o):0},o.getLabel=function(i){var o,s,a,l;return[null==(o=i.locale_names)?void 0:o.default[this.findBestMatchLevelIndex(i._highlightResult.locale_names.default)],null==(s=i.city)?void 0:s.default[this.findBestMatchLevelIndex(i._highlightResult.city.default)],i.administrative[this.findBestMatchLevelIndex(i._highlightResult.administrative)],null==(a=i.postcode)?void 0:a[this.findBestMatchLevelIndex(i._highlightResult.postcode)],null==(l=i.country)?void 0:l.default].filter(Boolean).join(", ")},o.parse=function(i){var o=this;return i.data.hits.map((function(i){return{x:i._geoloc.lng,y:i._geoloc.lat,label:o.getLabel(i),bounds:null,raw:i}}))},o.search=function(i){var o=i.query;try{var s=this,a="string"==typeof o?{query:o}:o;return Promise.resolve(fetch(s.endpoint(),{method:"POST",body:JSON.stringify(geosearch_module_e({},s.options.params,{},a))})).then((function(i){return Promise.resolve(i.json()).then((function(i){return s.parse({data:i})}))}))}catch(i){return Promise.reject(i)}}}(D),function(i){function e(){var o;return(o=i.apply(this,arguments)||this).searchUrl="https://dev.virtualearth.net/REST/v1/Locations",o}geosearch_module_r(e,i);var o=e.prototype;o.endpoint=function(i){var o=i.query,s="string"==typeof o?{q:o}:o;return s.jsonp=i.jsonp,this.getUrl(this.searchUrl,s)},o.parse=function(i){return 0===i.data.resourceSets.length?[]:i.data.resourceSets[0].resources.map((function(i){return{x:i.point.coordinates[1],y:i.point.coordinates[0],label:i.address.formattedAddress,bounds:[[i.bbox[0],i.bbox[1]],[i.bbox[2],i.bbox[3]]],raw:i}}))},o.search=function(i){var o,s,a,l=i.query;try{var h=this,d="BING_JSONP_CB_"+Date.now();return Promise.resolve((o=h.endpoint({query:l,jsonp:d}),s=d,a=geosearch_module_i("script",null,document.body),a.setAttribute("type","text/javascript"),new Promise((function(i){window[s]=function(o){a.remove(),delete window[s],i(o)},a.setAttribute("src",o)})))).then((function(i){return h.parse({data:i})}))}catch(i){return Promise.reject(i)}}}(D),function(i){function e(){var o;return(o=i.apply(this,arguments)||this).searchUrl="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find",o}geosearch_module_r(e,i);var o=e.prototype;o.endpoint=function(i){var o=i.query,s="string"==typeof o?{text:o}:o;return s.f="json",this.getUrl(this.searchUrl,s)},o.parse=function(i){return i.data.locations.map((function(i){return{x:i.feature.geometry.x,y:i.feature.geometry.y,label:i.name,bounds:[[i.extent.ymin,i.extent.xmin],[i.extent.ymax,i.extent.xmax]],raw:i}}))}}(D),function(i){function e(){var o;return(o=i.apply(this,arguments)||this).searchUrl="https://maps.googleapis.com/maps/api/geocode/json",o}geosearch_module_r(e,i);var o=e.prototype;o.endpoint=function(i){var o=i.query;return this.getUrl(this.searchUrl,"string"==typeof o?{address:o}:o)},o.parse=function(i){return i.data.results.map((function(i){return{x:i.geometry.location.lng,y:i.geometry.location.lat,label:i.formatted_address,bounds:[[i.geometry.viewport.southwest.lat,i.geometry.viewport.southwest.lng],[i.geometry.viewport.northeast.lat,i.geometry.viewport.northeast.lng]],raw:i}}))}}(D),function(i){function e(){var o;return(o=i.apply(this,arguments)||this).searchUrl="https://geocode.search.hereapi.com/v1/geocode",o}geosearch_module_r(e,i);var o=e.prototype;o.endpoint=function(i){var o=i.query;return this.getUrl(this.searchUrl,"string"==typeof o?{q:o}:o)},o.parse=function(i){return i.data.items.map((function(i){return{x:i.position.lng,y:i.position.lat,label:i.address.label,bounds:null,raw:i}}))}}(D),function(i){function e(o){var s;void 0===o&&(o={});var a="https://nominatim.openstreetmap.org";return(s=i.call(this,o)||this).searchUrl=o.searchUrl||a+"/search",s.reverseUrl=o.reverseUrl||a+"/reverse",s}geosearch_module_r(e,i);var o=e.prototype;return o.endpoint=function(i){var o=i.query,s=i.type,a="string"==typeof o?{q:o}:o;switch(a.format="json",s){case A.REVERSE:return this.getUrl(this.reverseUrl,a);default:return this.getUrl(this.searchUrl,a)}},o.parse=function(i){return(Array.isArray(i.data)?i.data:[i.data]).map((function(i){return{x:Number(i.lon),y:Number(i.lat),label:i.display_name,bounds:[[parseFloat(i.boundingbox[0]),parseFloat(i.boundingbox[2])],[parseFloat(i.boundingbox[1]),parseFloat(i.boundingbox[3])]],raw:i}}))},e}(D)),Z=(function(i){function n(o){return i.call(this,geosearch_module_e({},o,{searchUrl:"https://locationiq.org/v1/search.php",reverseUrl:"https://locationiq.org/v1/reverse.php"}))||this}geosearch_module_r(n,i)}(R),function(i){function e(){var o;return(o=i.apply(this,arguments)||this).searchUrl="https://api.opencagedata.com/geocode/v1/json",o}geosearch_module_r(e,i);var o=e.prototype;o.endpoint=function(i){var o=i.query,s="string"==typeof o?{q:o}:o;return s.format="json",this.getUrl(this.searchUrl,s)},o.parse=function(i){return i.data.results.map((function(i){return{x:i.geometry.lng,y:i.geometry.lat,label:i.formatted,bounds:[[i.bounds.southwest.lat,i.bounds.southwest.lng],[i.bounds.northeast.lat,i.bounds.northeast.lng]],raw:i}}))},o.search=function(o){try{return Promise.resolve(o.query.length<2?[]:i.prototype.search.call(this,o))}catch(i){return Promise.reject(i)}}}(D),function(i){function e(o){var s;return void 0===o&&(o={}),(s=i.call(this,o)||this).searchUrl=o.searchUrl||"https://a.tiles.mapbox.com/v4/geocode/mapbox.places/",s}geosearch_module_r(e,i);var o=e.prototype;o.endpoint=function(i){return this.getUrl(""+this.searchUrl+i.query+".json")},o.parse=function(i){return(Array.isArray(i.data.features)?i.data.features:[]).map((function(i){var o=null;return i.bbox&&(o=[[parseFloat(i.bbox[1]),parseFloat(i.bbox[0])],[parseFloat(i.bbox[3]),parseFloat(i.bbox[2])]]),{x:Number(i.center[0]),y:Number(i.center[1]),label:i.place_name?i.place_name:i.text,bounds:o,raw:i}}))}}(D),function(i){function e(o){var s;void 0===o&&(o={});var a="https://api-adresse.data.gouv.fr";return(s=i.call(this,o)||this).searchUrl=o.searchUrl||a+"/search",s.reverseUrl=o.reverseUrl||a+"/reverse",s}geosearch_module_r(e,i);var o=e.prototype;o.endpoint=function(i){var o=i.query,s="string"==typeof o?{q:o}:o;switch(i.type){case A.REVERSE:return this.getUrl(this.reverseUrl,s);default:return this.getUrl(this.searchUrl,s)}},o.parse=function(i){return i.data.features.map((function(i){return{x:i.geometry.coordinates[0],y:i.geometry.coordinates[1],label:i.properties.label,bounds:null,raw:i}}))}}(D),{name:"ViewManager",data(){return{canLocate:"geolocation"in navigator,isFetching:!1,results:[],geosearch:new R,parentContainer:void 0}},inject:["getMap"],methods:{locate(){navigator.geolocation.getCurrentPosition(({coords:i})=>this.onLocationFound(i),console.error,{enableHighAccuracy:!0,maximumAge:0})},async searchLocation(i){i.length>=3&&(this.isFetching=!0,this.results=await this.geosearch.search({query:i}),this.isFetching=!1)},onLocationFound({latitude:i,longitude:o}){console.debug([i,o]),this.$emit("update:center",[i,o]),this.getMap().flyTo([i,o])}}}),$=Z,U=Object(f["a"])($,ViewManagervue_type_template_id_5cab37c4_render,O,!1,null,null,null),q=U.exports,W={name:"DataToolbox",components:{NavigationManager:v,AircraftManager:g["a"],FlightManager:P,ViewManager:q},props:{navigation:[Boolean,Object],aircraft:[Boolean,Object],flight:[Boolean,Object],location:[Boolean,Object],dropdown:Object}},V=W,H=Object(f["a"])(V,render,a,!1,null,null,null);o["a"]=H.exports},"3b14":function(i,o,s){},"4e2b":function(i,o,s){"use strict";var a=s("e11e"),debounce=function(i,o){var s;return function(){var a=[],l=arguments.length;while(l--)a[l]=arguments[l];var h=this;s&&clearTimeout(s),s=setTimeout((function(){i.apply(h,a),s=null}),o)}},capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i},l={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(i,o){var s=this.$parent.mapObject.attributionControl;s.removeAttribution(o).addAttribution(i)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(i){this.mapObject&&(i?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var i=this.mapObject?this.mapObject.getTooltip():null;i&&i.unbindTooltip()},unbindPopup:function unbindPopup(){var i=this.mapObject?this.mapObject.getPopup():null;i&&i.unbindPopup()},updateVisibleProp:function updateVisibleProp(i){this.$emit("update:visible",i)}}},h={props:{options:{type:Object,default:function(){return{}}}}},d={name:"LMarker",mixins:[l,h],props:{pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],custom:!1,default:function(){return new a["Icon"].Default}},zIndexOffset:{type:Number,custom:!1,default:null}},data:function data(){return{ready:!1}},mounted:function mounted(){var i=this,o=optionsMerger(Object.assign({},this.layerOptions,{icon:this.icon,zIndexOffset:this.zIndexOffset,draggable:this.draggable}),this);this.mapObject=Object(a["marker"])(this.latLng,o),a["DomEvent"].on(this.mapObject,this.$listeners),this.mapObject.on("move",debounce(this.latLngSync,100)),propsBinder(this,this.mapObject,this.$options.props),this.parentContainer=findRealParent(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.ready=!0,this.$nextTick((function(){i.$emit("ready",i.mapObject)}))},methods:{setDraggable:function setDraggable(i,o){this.mapObject.dragging&&(i?this.mapObject.dragging.enable():this.mapObject.dragging.disable())},setLatLng:function setLatLng(i){if(null!=i&&this.mapObject){var o=this.mapObject.getLatLng(),s=Object(a["latLng"])(i);s.lat===o.lat&&s.lng===o.lng||this.mapObject.setLatLng(s)}},latLngSync:function latLngSync(i){this.$emit("update:latLng",i.latlng),this.$emit("update:lat-lng",i.latlng)}},render:function(i){return this.ready&&this.$slots.default?i("div",{style:{display:"none"}},this.$slots.default):null}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var p=d,m=void 0,f=void 0,_=void 0,v=void 0,g=normalizeComponent({},m,p,f,v,_,!1,void 0,void 0,void 0);o["a"]=g},"584d":function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},"5a64":function(i,o,s){"use strict";var render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("b-input",i._b({attrs:{maxlength:"1000",type:"textarea","custom-class":"has-fixed-size",icon:"radio-tower","icon-clickable":"","icon-right":"windsock","icon-right-clickable":""},on:{"icon-click":function(o){return i.modalWidget("BRadio")},"icon-right-click":function(o){return i.modalWidget("BAtis")}},model:{value:i.computedValue,callback:function(o){i.computedValue=o},expression:"computedValue"}},"b-input",i.$attrs,!1))},a=[],MAtisvue_type_template_id_47fdf453_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[i._v(" ATIS ")]),s("b-button",{attrs:{label:"Add",type:"is-primary"},on:{click:function(o){i.$emit("append",i.asText),i.$emit("close")}}})],1),s("section",{staticClass:"modal-card-body"},[s("b-field",{attrs:{grouped:"",horizontal:"",label:"QNH"}},[s("b-slider",{attrs:{value:i.qnh.value,min:i.qnh.min.value,max:i.qnh.max.value,step:i.qnh.step,expanded:"",tooltip:!1},on:{input:function(o){i.qnh.value.value=o}}},[s("b-slider-tick",{attrs:{value:i.qnh.min.value}},[i._v(i._s(i.qnh.min))]),s("b-slider-tick",{attrs:{value:i.qnh.standart.value}},[i._v("Sdt")]),s("b-slider-tick",{attrs:{value:i.qnh.max.value}},[i._v(i._s(i.qnh.max))])],1),s("p",{staticClass:"control"},[s("b-tag",[i._v(i._s(i.qnh.value))])],1)],1),s("b-field",{attrs:{horizontal:"",label:"Wind Direction"}},[s("b-slider",{attrs:{value:i.windDirection.value,min:i.windDirection.N.value,max:i.windDirection.max.value,step:i.windDirection.step,expanded:"",tooltip:!1},on:{input:function(o){i.windDirection.value.value=o}}},[s("b-slider-tick",{attrs:{value:i.windDirection.N.value}},[i._v("N")]),s("b-slider-tick",{attrs:{value:i.windDirection.E.value}},[i._v("E")]),s("b-slider-tick",{attrs:{value:i.windDirection.S.value}},[i._v("S")]),s("b-slider-tick",{attrs:{value:i.windDirection.W.value}},[i._v("W")])],1),s("p",{staticClass:"control"},[s("b-tag",[i._v(i._s(i.windDirection.value))])],1)],1),s("b-field",{attrs:{horizontal:"",label:"Wind Speed"}},[s("b-slider",{attrs:{value:i.windSpeed.value,max:i.windSpeed.max.value,step:i.windSpeed.step,expanded:"",tooltip:!1},on:{input:function(o){i.windSpeed.value.value=o}}}),s("p",{staticClass:"control"},[s("b-tag",[i._v(i._s(i.windSpeed.value))])],1)],1),s("b-field",{attrs:{horizontal:"",grouped:"",label:"Visibility"}},[s("b-slider",{attrs:{value:i.visibility.value,max:i.visibility.max.value,step:i.visibility.step,expanded:"",tooltip:!1},on:{input:function(o){i.visibility.value.value=o}}},[s("b-slider-tick",{attrs:{value:0}},[i._v(i._s(i._f("D")(0,"Km")))]),s("b-slider-tick",{attrs:{value:i.visibility.VFRS.value}},[i._v("> "+i._s(i.visibility.VFRS))]),s("b-slider-tick",{attrs:{value:i.visibility.VFR.value}},[i._v("> "+i._s(i.visibility.VFR))]),s("b-slider-tick",{attrs:{value:i.visibility.max.value}},[i._v("> "+i._s(i.visibility.max))])],1),s("p",{staticClass:"control"},[s("b-tag",[i._v(i._s(i.visibility.value))])],1)],1),s("b-field",{attrs:{horizontal:"",label:"Temperature"}},[s("b-slider",{attrs:{value:i.temperature.value,min:i.temperature.min.value,max:i.temperature.max.value,step:i.temperature.step,expanded:"",tooltip:!1},on:{input:function(o){i.temperature.value=o}}},[s("b-slider-tick",{attrs:{value:0}},[i._v(i._s(0))]),s("b-slider-tick",{attrs:{value:15}},[i._v(i._s(15))])],1),s("p",{staticClass:"control"},[s("b-tag",[i._v(i._s(Math.min.apply(Math,i.temperature.value))+" / "+i._s(Math.max.apply(Math,i.temperature.value)))])],1)],1),s("div",{staticClass:"content"},[s("pre",[i._v(i._s(i.asText))])])],1)])},l=[],h=s("3634"),d={name:"BAtis",data(){return{qnh:{min:new h["f"](950,"hPa"),max:new h["f"](1040,"hPa"),standart:new h["f"](1013.25,"hPa"),step:1,value:new h["f"](1013,"hPa")},windDirection:{N:new h["b"](0,"°"),E:new h["b"](90,"°"),S:new h["b"](180,"°"),W:new h["b"](270,"°"),max:{value:360},step:10,value:new h["b"](0,"°")},windSpeed:{max:new h["g"](60,"kt"),step:5,value:new h["g"](0,"kt")},visibility:{VFR:new h["d"](1.5,"Km"),VFRS:new h["d"](5,"Km"),max:new h["d"](10,"Km"),step:.5,value:new h["d"](10,"Km")},temperature:{min:new h["h"](-40,"°C"),max:new h["h"](40,"°C"),zero:new h["h"](0,"°C"),standart:new h["h"](15,"°C"),step:1,value:[new h["h"](10,"°C"),new h["h"](15,"°C")]},clouds:[{height:void 0,cover:void 0},{height:void 0,cover:void 0},{height:void 0,cover:void 0}]}},computed:{asText(){return`Q${this.qnh.value} | W${this.windDirection.value}/${this.windSpeed.value} | V${this.visibility.value} | T${Math.max(...this.temperature.value)}/${Math.min(...this.temperature.value)}`}}},p=d,m=(s("7538"),s("2877")),f=Object(m["a"])(p,MAtisvue_type_template_id_47fdf453_render,l,!1,null,null,null),_=f.exports,MRadiovue_type_template_id_c41d86d0_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[i._v(" Frequency ")]),s("b-button",{attrs:{label:"Add",type:"is-primary"},on:{click:function(o){i.$emit("append",i.asText),i.$emit("close")}}})],1),s("section",{staticClass:"modal-card-body"},[s("b-field",{attrs:{grouped:"","group-multiline":""}},[s("b-input",{attrs:{"aria-placeholder":"name"},model:{value:i.freq.name,callback:function(o){i.$set(i.freq,"name",o)},expression:"freq.name"}}),s("b-numberinput",{attrs:{"controls-position":"compact",min:"0"},model:{value:i.freq.value,callback:function(o){i.$set(i.freq,"value",o)},expression:"freq.value"}}),s("b-field",i._l(i.freq.constructor.units,(function(o,a){return s("b-radio-button",{key:a,attrs:{"native-value":a},model:{value:i.freq.unit,callback:function(o){i.$set(i.freq,"unit",o)},expression:"freq.unit"}},[i._v(" "+i._s(a)+" ")])})),1)],1),s("b-field",{attrs:{label:"Presets"}},i._l(i.presets,(function(o,a){return s("b-radio-button",{key:a,attrs:{"native-value":o},model:{value:i.freq,callback:function(o){i.freq=o},expression:"freq"}},[i._v(" "+i._s(o.name)+" ")])})),1)],1)])},v=[],g={name:"BRadio",data(){return{freq:new h["e"](0,"MHz"),presets:[new h["e"](121.5,"MHz",{name:"Emergency"}),new h["e"](123.45,"MHz",{name:"Air/Air"}),new h["e"](123.5,"MHz",{name:"A/A"}),new h["e"](130,"MHz",{name:"Montagne"})]}},computed:{asText(){return`${this.freq.name||"-"}: ${this.freq}`}}},y=g,b=Object(m["a"])(y,MRadiovue_type_template_id_c41d86d0_render,v,!1,null,null,null),x=b.exports,L={name:"BNotepad",props:{value:{type:String,default(){return new String}}},components:{BAtis:_,BRadio:x},computed:{computedValue:{get(){return this.value},set(i){this.$emit("input",i)}}},methods:{appendLine(i){i&&this.$emit("input",this.value.replace(/(?<=.+)\n*$/,"\n")+i)},modalWidget(i){this.$buefy.modal.open({parent:this,component:this.$options.components[i],events:{append:this.appendLine},hasModalCard:!1})}},watch:{value(i){this.newValue=i}}},C=L,P=(s("bc24"),Object(m["a"])(C,render,a,!1,null,null,null));o["a"]=P.exports},"635f":function(i,o,s){"use strict";var a=s("e11e"),capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i},l={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(i,o){var s=this.$parent.mapObject.attributionControl;s.removeAttribution(o).addAttribution(i)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(i){this.mapObject&&(i?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var i=this.mapObject?this.mapObject.getTooltip():null;i&&i.unbindTooltip()},unbindPopup:function unbindPopup(){var i=this.mapObject?this.mapObject.getPopup():null;i&&i.unbindPopup()},updateVisibleProp:function updateVisibleProp(i){this.$emit("update:visible",i)}}},h={props:{interactive:{type:Boolean,default:!0},bubblingMouseEvents:{type:Boolean,default:!0}},mounted:function mounted(){this.interactiveLayerOptions={interactive:this.interactive,bubblingMouseEvents:this.bubblingMouseEvents}}},d={mixins:[l,h],props:{lStyle:{type:Object,custom:!0,default:null},stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!1},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}},mounted:function mounted(){if(this.pathOptions=Object.assign({},this.layerOptions,this.interactiveLayerOptions,{stroke:this.stroke,color:this.color,weight:this.weight,opacity:this.opacity,lineCap:this.lineCap,lineJoin:this.lineJoin,dashArray:this.dashArray,dashOffset:this.dashOffset,fill:this.fill,fillColor:this.fillColor,fillOpacity:this.fillOpacity,fillRule:this.fillRule,className:this.className}),this.lStyle)for(var i in console.warn("lStyle is deprecated and is going to be removed in the next major version"),this.lStyle)this.pathOptions[i]=this.lStyle[i]},beforeDestroy:function beforeDestroy(){this.parentContainer?this.parentContainer.removeLayer(this):console.error("Missing parent container")},methods:{setLStyle:function setLStyle(i){this.mapObject.setStyle(i)},setStroke:function setStroke(i){this.mapObject.setStyle({stroke:i})},setColor:function setColor(i){this.mapObject.setStyle({color:i})},setWeight:function setWeight(i){this.mapObject.setStyle({weight:i})},setOpacity:function setOpacity(i){this.mapObject.setStyle({opacity:i})},setLineCap:function setLineCap(i){this.mapObject.setStyle({lineCap:i})},setLineJoin:function setLineJoin(i){this.mapObject.setStyle({lineJoin:i})},setDashArray:function setDashArray(i){this.mapObject.setStyle({dashArray:i})},setDashOffset:function setDashOffset(i){this.mapObject.setStyle({dashOffset:i})},setFill:function setFill(i){this.mapObject.setStyle({fill:i})},setFillColor:function setFillColor(i){this.mapObject.setStyle({fillColor:i})},setFillOpacity:function setFillOpacity(i){this.mapObject.setStyle({fillOpacity:i})},setFillRule:function setFillRule(i){this.mapObject.setStyle({fillRule:i})},setClassName:function setClassName(i){this.mapObject.setStyle({className:i})}}},p={mixins:[d],props:{smoothFactor:{type:Number,custom:!0,default:1},noClip:{type:Boolean,custom:!0,default:!1}},data:function data(){return{ready:!1}},mounted:function mounted(){this.polyLineOptions=Object.assign({},this.pathOptions,{smoothFactor:this.smoothFactor,noClip:this.noClip})},methods:{setSmoothFactor:function setSmoothFactor(i){this.mapObject.setStyle({smoothFactor:i})},setNoClip:function setNoClip(i){this.mapObject.setStyle({noClip:i})},addLatLng:function addLatLng(i){this.mapObject.addLatLng(i)}}},m={props:{options:{type:Object,default:function(){return{}}}}},f={name:"LPolyline",mixins:[p,m],props:{latLngs:{type:Array,default:function(){return[]}}},data:function data(){return{ready:!1}},mounted:function mounted(){var i=this,o=optionsMerger(this.polyLineOptions,this);this.mapObject=Object(a["polyline"])(this.latLngs,o),a["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.ready=!0,this.parentContainer=findRealParent(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){i.$emit("ready",i.mapObject)}))}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var _=f,__vue_render__=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div",{staticStyle:{display:"none"}},[i.ready?i._t("default"):i._e()],2)},v=[],g=void 0,y=void 0,b=void 0,x=!1,L=normalizeComponent({render:__vue_render__,staticRenderFns:v},g,_,y,x,b,!1,void 0,void 0,void 0);o["a"]=L},6397:function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},"6cc5":function(i,o,s){},7538:function(i,o,s){"use strict";var a=s("3b14"),l=s.n(a);l.a},a22c:function(i,o,s){"use strict";var render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div",{staticClass:"card"},[s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[s("b-field",{attrs:{grouped:""}},[s("b-input",{attrs:{placeholder:"echo",expanded:""},model:{value:i.value.name,callback:function(o){i.$set(i.value,"name",o)},expression:"value.name"}}),s("b-altitude",{attrs:{placeholder:"alt.",controls:!1},model:{value:i.value.altitude,callback:function(o){i.$set(i.value,"altitude",o)},expression:"value.altitude"}})],1)],1)]),s("div",{staticClass:"card-content"},[s("b-notepad",{attrs:{rows:2},model:{value:i.value.notes,callback:function(o){i.$set(i.value,"notes",o)},expression:"value.notes"}})],1),s("footer",{staticClass:"card-footer"},[s("b-field",{attrs:{position:"is-centered"}},[s("b-input",{attrs:{value:i.value.point.toString(),icon:"crosshairs-gps",readonly:""}}),s("p",{staticClass:"control"},[s("span",{staticClass:"button is-static"},[i._v("WGS84")])])],1)],1)])},a=[],BAltitudevue_type_template_id_35ff50c3_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("b-field",[s("b-numberinput",i._b({attrs:{editable:!i.$attrs.readonly,lazy:""},model:{value:i.value.value,callback:function(o){i.$set(i.value,"value",o)},expression:"value.value"}},"b-numberinput",i.$attrs,!1)),i.$attrs.readonly?s("b-input",i._b({attrs:{readonly:""},model:{value:i.value.unit,callback:function(o){i.$set(i.value,"unit",o)},expression:"value.unit"}},"b-input",i.$attrs,!1)):s("b-select",i._b({attrs:{required:""},model:{value:i.value.unit,callback:function(o){i.$set(i.value,"unit",o)},expression:"value.unit"}},"b-select",i.$attrs,!1),i._l(i.units,(function(o,a){return s("option",{key:a,domProps:{value:a}},[i._v(" "+i._s(a)+" ")])})),0),i.$attrs.readonly?s("b-input",i._b({attrs:{readonly:""},model:{value:i.value.reference,callback:function(o){i.$set(i.value,"reference",o)},expression:"value.reference"}},"b-input",i.$attrs,!1)):s("b-select",i._b({attrs:{required:""},model:{value:i.value.reference,callback:function(o){i.$set(i.value,"reference",o)},expression:"value.reference"}},"b-select",i.$attrs,!1),i._l(i.references,(function(o){return s("option",{key:o,domProps:{value:o}},[i._v(" "+i._s(o)+" ")])})),0)],1)},l=[],h=s("3634"),d={name:"BAltitude",props:{value:{type:h["a"],default(){return new h["a"]}}},data(){return{references:h["a"].references,units:h["a"].units}},watch:{value:{deep:!0,handler(i){"FL"==i.unit?i.reference="QNE":i.reference||(i.reference="MSL"),i.unit||(i.unit="ft"),this.$emit("input",i)}}}},p=d,m=s("2877"),f=Object(m["a"])(p,BAltitudevue_type_template_id_35ff50c3_render,l,!1,null,null,null),_=f.exports,v=s("5a64"),g={components:{BAltitude:_,BNotepad:v["a"]},name:"WaypointContent",props:{value:Object}},y=g,b=Object(m["a"])(y,render,a,!1,null,null,null);o["a"]=b.exports},a40a:function(i,o,s){"use strict";var a=s("e11e"),capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i},l={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function mounted(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function beforeDestroy(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function setAttribution(i,o){var s=this.$parent.mapObject.attributionControl;s.removeAttribution(o).addAttribution(i)},setName:function setName(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function setLayerType(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function setVisible(i){this.mapObject&&(i?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function unbindTooltip(){var i=this.mapObject?this.mapObject.getTooltip():null;i&&i.unbindTooltip()},unbindPopup:function unbindPopup(){var i=this.mapObject?this.mapObject.getPopup():null;i&&i.unbindPopup()},updateVisibleProp:function updateVisibleProp(i){this.$emit("update:visible",i)}}},h={mixins:[l],props:{pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1}},mounted:function mounted(){this.gridLayerOptions=Object.assign({},this.layerOptions,{pane:this.pane,opacity:this.opacity,zIndex:this.zIndex,tileSize:this.tileSize,noWrap:this.noWrap})}},d={mixins:[h],props:{tms:{type:Boolean,default:!1},subdomains:{type:String,default:"abc"},detectRetina:{type:Boolean,default:!1}},mounted:function mounted(){this.tileLayerOptions=Object.assign({},this.gridLayerOptions,{tms:this.tms,subdomains:this.subdomains,detectRetina:this.detectRetina})},render:function render(){return null}},p={props:{options:{type:Object,default:function(){return{}}}}},m={name:"LTileLayer",mixins:[d,p],props:{url:{type:String,default:null},tileLayerClass:{type:Function,default:a["tileLayer"]}},mounted:function mounted(){var i=this,o=optionsMerger(this.tileLayerOptions,this);this.mapObject=this.tileLayerClass(this.url,o),a["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.parentContainer=findRealParent(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){i.$emit("ready",i.mapObject)}))}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var f=m,__vue_render__=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div")},_=[],v=void 0,g=void 0,y=void 0,b=!1,x=normalizeComponent({render:__vue_render__,staticRenderFns:_},v,f,g,b,y,!1,void 0,void 0,void 0);o["a"]=x},a75e:function(i,o,s){"use strict";var render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("l-layer-group",i._g(i._b({},"l-layer-group",i.$attrs,!1),i.$listeners),i._l(i.tileLayers,(function(i){return s("l-tile-layer",{key:i.name,attrs:{url:i.url,name:i.name,attribution:i.attribution,options:i.options}})})),1)},a=[],l=s("1ebb"),h=s("a40a"),d={name:"LBaseLayerGroup",components:{LLayerGroup:l["a"],LTileLayer:h["a"]},data(){return{tileLayers:[{name:"Fond de carte naVue",attribution:"© <a href='https://apps.mapbox.com/feedback/'>Mapbox</a>",url:"https://api.mapbox.com/styles/v1/{username}/{style_id}/tiles/{z}/{x}/{y}?access_token={token}",options:{username:"mabrenac",style_id:"ckoleyexd2sem18pf9gmhzmgu",token:"pk.eyJ1IjoibWFicmVuYWMiLCJhIjoiY2tvOGlzajlmMjY4OTJ3bHBmM2k3ZDliZCJ9.a41x99O73YjqMW83Ks58vQ",tileSize:512,zoomOffset:-1,format:"image/jpeg",style:"normal",crossOrigin:!0}},{name:"Carte IGN OACI",attribution:"<a target='_blank' href='https://www.geoportail.gouv.fr/'>Geoportail France</a>",url:"https://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET=PM&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}",options:{variant:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-OACI",apikey:"7d4hl8l320bxpi56m3hosljf",maxZoom:11,minZoom:8,bounds:[[41.32,-5.15],[51.1,9.57]],format:"image/jpeg",style:"normal",crossOrigin:!0}},{name:"Carte Swisstopo OACI",attribution:"© <a href='https://www.swisstopo.ch/' target='_blank'>Swisstopo</a>",url:"https://wmts20.geo.admin.ch/1.0.0/{layer}/default/current/3857/{z}/{x}/{y}.{format}",options:{layer:"ch.bazl.luftfahrtkarten-icao",maxZoom:11,minZoom:9,bounds:[[45.7769477403,6.02260949059],[47.8308275417,10.4427014502]],format:"png",crossOrigin:!0}}]}}},p=d,m=s("2877"),f=Object(m["a"])(p,render,a,!1,null,null,null);o["a"]=f.exports},b68c:function(i,o,s){"use strict";var a=s("cb5d"),l=s.n(a);l.a},bc24:function(i,o,s){"use strict";var a=s("2102"),l=s.n(a);l.a},bfbb:function(i,o,s){},c8b6:function(i,o,s){"use strict";var a=s("e11e"),capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},l={props:{position:{type:String,default:"topright"}},mounted:function mounted(){this.controlOptions={position:this.position}},beforeDestroy:function beforeDestroy(){this.mapObject&&this.mapObject.remove()}},h={props:{options:{type:Object,default:function(){return{}}}}},d={name:"LControlZoom",mixins:[l,h],props:{zoomInText:{type:String,default:"+"},zoomInTitle:{type:String,default:"Zoom in"},zoomOutText:{type:String,default:"-"},zoomOutTitle:{type:String,default:"Zoom out"}},mounted:function mounted(){var i=this,o=optionsMerger(Object.assign({},this.controlOptions,{zoomInText:this.zoomInText,zoomInTitle:this.zoomInTitle,zoomOutText:this.zoomOutText,zoomOutTitle:this.zoomOutTitle}),this);this.mapObject=a["control"].zoom(o),propsBinder(this,this.mapObject,this.$options.props),this.mapObject.addTo(this.$parent.mapObject),this.$nextTick((function(){i.$emit("ready",i.mapObject)}))},render:function render(){return null}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var p=d,m=void 0,f=void 0,_=void 0,v=void 0,g=normalizeComponent({},m,p,f,v,_,!1,void 0,void 0,void 0);o["a"]=g},cb5d:function(i,o,s){},cbbb:function(i,o,s){"use strict";var a=s("bfbb"),l=s.n(a);l.a},e11e:function(i,o,s){
/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
(function(i,s){s(o)})(0,(function(i){"use strict";var o="1.7.1";function extend(i){var o,s,a,l;for(s=1,a=arguments.length;s<a;s++)for(o in l=arguments[s],l)i[o]=l[o];return i}var s=Object.create||function(){function F(){}return function(i){return F.prototype=i,new F}}();function bind(i,o){var s=Array.prototype.slice;if(i.bind)return i.bind.apply(i,s.call(arguments,1));var a=s.call(arguments,2);return function(){return i.apply(o,a.length?a.concat(s.call(arguments)):arguments)}}var a=0;function stamp(i){return i._leaflet_id=i._leaflet_id||++a,i._leaflet_id}function throttle(i,o,s){var a,l,h,d;return d=function(){a=!1,l&&(h.apply(s,l),l=!1)},h=function(){a?l=arguments:(i.apply(s,arguments),setTimeout(d,o),a=!0)},h}function wrapNum(i,o,s){var a=o[1],l=o[0],h=a-l;return i===a&&s?i:((i-l)%h+h)%h+l}function falseFn(){return!1}function formatNum(i,o){var s=Math.pow(10,void 0===o?6:o);return Math.round(i*s)/s}function trim(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function splitWords(i){return trim(i).split(/\s+/)}function setOptions(i,o){for(var a in Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?s(i.options):{}),o)i.options[a]=o[a];return i.options}function getParamString(i,o,s){var a=[];for(var l in i)a.push(encodeURIComponent(s?l.toUpperCase():l)+"="+encodeURIComponent(i[l]));return(o&&-1!==o.indexOf("?")?"&":"?")+a.join("&")}var l=/\{ *([\w_-]+) *\}/g;function template(i,o){return i.replace(l,(function(i,s){var a=o[s];if(void 0===a)throw new Error("No value provided for variable "+i);return"function"===typeof a&&(a=a(o)),a}))}var h=Array.isArray||function(i){return"[object Array]"===Object.prototype.toString.call(i)};function indexOf(i,o){for(var s=0;s<i.length;s++)if(i[s]===o)return s;return-1}var d="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function getPrefixed(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var p=0;function timeoutDefer(i){var o=+new Date,s=Math.max(0,16-(o-p));return p=o+s,window.setTimeout(i,s)}var m=window.requestAnimationFrame||getPrefixed("RequestAnimationFrame")||timeoutDefer,f=window.cancelAnimationFrame||getPrefixed("CancelAnimationFrame")||getPrefixed("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function requestAnimFrame(i,o,s){if(!s||m!==timeoutDefer)return m.call(window,bind(i,o));i.call(o)}function cancelAnimFrame(i){i&&f.call(window,i)}var _={extend:extend,create:s,bind:bind,lastId:a,stamp:stamp,throttle:throttle,wrapNum:wrapNum,falseFn:falseFn,formatNum:formatNum,trim:trim,splitWords:splitWords,setOptions:setOptions,getParamString:getParamString,template:template,isArray:h,indexOf:indexOf,emptyImageUrl:d,requestFn:m,cancelFn:f,requestAnimFrame:requestAnimFrame,cancelAnimFrame:cancelAnimFrame};function Class(){}function checkDeprecatedMixinEvents(i){if("undefined"!==typeof L&&L&&L.Mixin){i=h(i)?i:[i];for(var o=0;o<i.length;o++)i[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}Class.extend=function(i){var NewClass=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=NewClass.__super__=this.prototype,a=s(o);for(var l in a.constructor=NewClass,NewClass.prototype=a,this)Object.prototype.hasOwnProperty.call(this,l)&&"prototype"!==l&&"__super__"!==l&&(NewClass[l]=this[l]);return i.statics&&(extend(NewClass,i.statics),delete i.statics),i.includes&&(checkDeprecatedMixinEvents(i.includes),extend.apply(null,[a].concat(i.includes)),delete i.includes),a.options&&(i.options=extend(s(a.options),i.options)),extend(a,i),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var i=0,s=a._initHooks.length;i<s;i++)a._initHooks[i].call(this)}},NewClass},Class.include=function(i){return extend(this.prototype,i),this},Class.mergeOptions=function(i){return extend(this.prototype.options,i),this},Class.addInitHook=function(i){var o=Array.prototype.slice.call(arguments,1),s="function"===typeof i?i:function(){this[i].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};var v={on:function(i,o,s){if("object"===typeof i)for(var a in i)this._on(a,i[a],o);else{i=splitWords(i);for(var l=0,h=i.length;l<h;l++)this._on(i[l],o,s)}return this},off:function(i,o,s){if(i)if("object"===typeof i)for(var a in i)this._off(a,i[a],o);else{i=splitWords(i);for(var l=0,h=i.length;l<h;l++)this._off(i[l],o,s)}else delete this._events;return this},_on:function(i,o,s){this._events=this._events||{};var a=this._events[i];a||(a=[],this._events[i]=a),s===this&&(s=void 0);for(var l={fn:o,ctx:s},h=a,d=0,p=h.length;d<p;d++)if(h[d].fn===o&&h[d].ctx===s)return;h.push(l)},_off:function(i,o,s){var a,l,h;if(this._events&&(a=this._events[i],a))if(o){if(s===this&&(s=void 0),a)for(l=0,h=a.length;l<h;l++){var d=a[l];if(d.ctx===s&&d.fn===o)return d.fn=falseFn,this._firingCount&&(this._events[i]=a=a.slice()),void a.splice(l,1)}}else{for(l=0,h=a.length;l<h;l++)a[l].fn=falseFn;delete this._events[i]}},fire:function(i,o,s){if(!this.listens(i,s))return this;var a=extend({},o,{type:i,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var l=this._events[i];if(l){this._firingCount=this._firingCount+1||1;for(var h=0,d=l.length;h<d;h++){var p=l[h];p.fn.call(p.ctx||this,a)}this._firingCount--}}return s&&this._propagateEvent(a),this},listens:function(i,o){var s=this._events&&this._events[i];if(s&&s.length)return!0;if(o)for(var a in this._eventParents)if(this._eventParents[a].listens(i,o))return!0;return!1},once:function(i,o,s){if("object"===typeof i){for(var a in i)this.once(a,i[a],o);return this}var l=bind((function(){this.off(i,o,s).off(i,l,s)}),this);return this.on(i,o,s).on(i,l,s)},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[stamp(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[stamp(i)],this},_propagateEvent:function(i){for(var o in this._eventParents)this._eventParents[o].fire(i.type,extend({layer:i.target,propagatedFrom:i.target},i),!0)}};v.addEventListener=v.on,v.removeEventListener=v.clearAllEventListeners=v.off,v.addOneTimeEventListener=v.once,v.fireEvent=v.fire,v.hasEventListeners=v.listens;var g=Class.extend(v);function Point(i,o,s){this.x=s?Math.round(i):i,this.y=s?Math.round(o):o}var y=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};function toPoint(i,o,s){return i instanceof Point?i:h(i)?new Point(i[0],i[1]):void 0===i||null===i?i:"object"===typeof i&&"x"in i&&"y"in i?new Point(i.x,i.y):new Point(i,o,s)}function Bounds(i,o){if(i)for(var s=o?[i,o]:i,a=0,l=s.length;a<l;a++)this.extend(s[a])}function toBounds(i,o){return!i||i instanceof Bounds?i:new Bounds(i,o)}function LatLngBounds(i,o){if(i)for(var s=o?[i,o]:i,a=0,l=s.length;a<l;a++)this.extend(s[a])}function toLatLngBounds(i,o){return i instanceof LatLngBounds?i:new LatLngBounds(i,o)}function LatLng(i,o,s){if(isNaN(i)||isNaN(o))throw new Error("Invalid LatLng object: ("+i+", "+o+")");this.lat=+i,this.lng=+o,void 0!==s&&(this.alt=+s)}function toLatLng(i,o,s){return i instanceof LatLng?i:h(i)&&"object"!==typeof i[0]?3===i.length?new LatLng(i[0],i[1],i[2]):2===i.length?new LatLng(i[0],i[1]):null:void 0===i||null===i?i:"object"===typeof i&&"lat"in i?new LatLng(i.lat,"lng"in i?i.lng:i.lon,i.alt):void 0===o?null:new LatLng(i,o,s)}Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(i){return this.clone()._add(toPoint(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(toPoint(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new Point(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new Point(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=y(this.x),this.y=y(this.y),this},distanceTo:function(i){i=toPoint(i);var o=i.x-this.x,s=i.y-this.y;return Math.sqrt(o*o+s*s)},equals:function(i){return i=toPoint(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=toPoint(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+formatNum(this.x)+", "+formatNum(this.y)+")"}},Bounds.prototype={extend:function(i){return i=toPoint(i),this.min||this.max?(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=i.clone(),this.max=i.clone()),this},getCenter:function(i){return new Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return new Point(this.min.x,this.max.y)},getTopRight:function(){return new Point(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var o,s;return i="number"===typeof i[0]||i instanceof Point?toPoint(i):toBounds(i),i instanceof Bounds?(o=i.min,s=i.max):o=s=i,o.x>=this.min.x&&s.x<=this.max.x&&o.y>=this.min.y&&s.y<=this.max.y},intersects:function(i){i=toBounds(i);var o=this.min,s=this.max,a=i.min,l=i.max,h=l.x>=o.x&&a.x<=s.x,d=l.y>=o.y&&a.y<=s.y;return h&&d},overlaps:function(i){i=toBounds(i);var o=this.min,s=this.max,a=i.min,l=i.max,h=l.x>o.x&&a.x<s.x,d=l.y>o.y&&a.y<s.y;return h&&d},isValid:function(){return!(!this.min||!this.max)}},LatLngBounds.prototype={extend:function(i){var o,s,a=this._southWest,l=this._northEast;if(i instanceof LatLng)o=i,s=i;else{if(!(i instanceof LatLngBounds))return i?this.extend(toLatLng(i)||toLatLngBounds(i)):this;if(o=i._southWest,s=i._northEast,!o||!s)return this}return a||l?(a.lat=Math.min(o.lat,a.lat),a.lng=Math.min(o.lng,a.lng),l.lat=Math.max(s.lat,l.lat),l.lng=Math.max(s.lng,l.lng)):(this._southWest=new LatLng(o.lat,o.lng),this._northEast=new LatLng(s.lat,s.lng)),this},pad:function(i){var o=this._southWest,s=this._northEast,a=Math.abs(o.lat-s.lat)*i,l=Math.abs(o.lng-s.lng)*i;return new LatLngBounds(new LatLng(o.lat-a,o.lng-l),new LatLng(s.lat+a,s.lng+l))},getCenter:function(){return new LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){i="number"===typeof i[0]||i instanceof LatLng||"lat"in i?toLatLng(i):toLatLngBounds(i);var o,s,a=this._southWest,l=this._northEast;return i instanceof LatLngBounds?(o=i.getSouthWest(),s=i.getNorthEast()):o=s=i,o.lat>=a.lat&&s.lat<=l.lat&&o.lng>=a.lng&&s.lng<=l.lng},intersects:function(i){i=toLatLngBounds(i);var o=this._southWest,s=this._northEast,a=i.getSouthWest(),l=i.getNorthEast(),h=l.lat>=o.lat&&a.lat<=s.lat,d=l.lng>=o.lng&&a.lng<=s.lng;return h&&d},overlaps:function(i){i=toLatLngBounds(i);var o=this._southWest,s=this._northEast,a=i.getSouthWest(),l=i.getNorthEast(),h=l.lat>o.lat&&a.lat<s.lat,d=l.lng>o.lng&&a.lng<s.lng;return h&&d},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,o){return!!i&&(i=toLatLngBounds(i),this._southWest.equals(i.getSouthWest(),o)&&this._northEast.equals(i.getNorthEast(),o))},isValid:function(){return!(!this._southWest||!this._northEast)}},LatLng.prototype={equals:function(i,o){if(!i)return!1;i=toLatLng(i);var s=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return s<=(void 0===o?1e-9:o)},toString:function(i){return"LatLng("+formatNum(this.lat,i)+", "+formatNum(this.lng,i)+")"},distanceTo:function(i){return x.distance(this,toLatLng(i))},wrap:function(){return x.wrapLatLng(this)},toBounds:function(i){var o=180*i/40075017,s=o/Math.cos(Math.PI/180*this.lat);return toLatLngBounds([this.lat-o,this.lng-s],[this.lat+o,this.lng+s])},clone:function(){return new LatLng(this.lat,this.lng,this.alt)}};var b={latLngToPoint:function(i,o){var s=this.projection.project(i),a=this.scale(o);return this.transformation._transform(s,a)},pointToLatLng:function(i,o){var s=this.scale(o),a=this.transformation.untransform(i,s);return this.projection.unproject(a)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var o=this.projection.bounds,s=this.scale(i),a=this.transformation.transform(o.min,s),l=this.transformation.transform(o.max,s);return new Bounds(a,l)},infinite:!1,wrapLatLng:function(i){var o=this.wrapLng?wrapNum(i.lng,this.wrapLng,!0):i.lng,s=this.wrapLat?wrapNum(i.lat,this.wrapLat,!0):i.lat,a=i.alt;return new LatLng(s,o,a)},wrapLatLngBounds:function(i){var o=i.getCenter(),s=this.wrapLatLng(o),a=o.lat-s.lat,l=o.lng-s.lng;if(0===a&&0===l)return i;var h=i.getSouthWest(),d=i.getNorthEast(),p=new LatLng(h.lat-a,h.lng-l),m=new LatLng(d.lat-a,d.lng-l);return new LatLngBounds(p,m)}},x=extend({},b,{wrapLng:[-180,180],R:6371e3,distance:function(i,o){var s=Math.PI/180,a=i.lat*s,l=o.lat*s,h=Math.sin((o.lat-i.lat)*s/2),d=Math.sin((o.lng-i.lng)*s/2),p=h*h+Math.cos(a)*Math.cos(l)*d*d,m=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return this.R*m}}),C=6378137,P={R:C,MAX_LATITUDE:85.0511287798,project:function(i){var o=Math.PI/180,s=this.MAX_LATITUDE,a=Math.max(Math.min(s,i.lat),-s),l=Math.sin(a*o);return new Point(this.R*i.lng*o,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(i){var o=180/Math.PI;return new LatLng((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*o,i.x*o/this.R)},bounds:function(){var i=C*Math.PI;return new Bounds([-i,-i],[i,i])}()};function Transformation(i,o,s,a){if(h(i))return this._a=i[0],this._b=i[1],this._c=i[2],void(this._d=i[3]);this._a=i,this._b=o,this._c=s,this._d=a}function toTransformation(i,o,s,a){return new Transformation(i,o,s,a)}Transformation.prototype={transform:function(i,o){return this._transform(i.clone(),o)},_transform:function(i,o){return o=o||1,i.x=o*(this._a*i.x+this._b),i.y=o*(this._c*i.y+this._d),i},untransform:function(i,o){return o=o||1,new Point((i.x/o-this._b)/this._a,(i.y/o-this._d)/this._c)}};var O=extend({},x,{code:"EPSG:3857",projection:P,transformation:function(){var i=.5/(Math.PI*P.R);return toTransformation(i,.5,-i,.5)}()}),T=extend({},O,{code:"EPSG:900913"});function svgCreate(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function pointsToPath(i,o){var s,a,l,h,d,p,m="";for(s=0,l=i.length;s<l;s++){for(d=i[s],a=0,h=d.length;a<h;a++)p=d[a],m+=(a?"L":"M")+p.x+" "+p.y;m+=o?at?"z":"x":""}return m||"M0 0"}var S=document.documentElement.style,A="ActiveXObject"in window,k=A&&!document.addEventListener,E="msLaunchUri"in navigator&&!("documentMode"in document),j=userAgentContains("webkit"),M=userAgentContains("android"),z=userAgentContains("android 2")||userAgentContains("android 3"),B=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),N=M&&userAgentContains("Google")&&B<537&&!("AudioNode"in window),I=!!window.opera,D=!E&&userAgentContains("chrome"),R=userAgentContains("gecko")&&!j&&!I&&!A,Z=!D&&userAgentContains("safari"),$=userAgentContains("phantom"),U="OTransition"in S,q=0===navigator.platform.indexOf("Win"),W=A&&"transition"in S,V="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!z,H="MozPerspective"in S,J=!window.L_DISABLE_3D&&(W||V||H)&&!U&&!$,K="undefined"!==typeof orientation||userAgentContains("mobile"),G=K&&j,X=K&&V,Y=!window.PointerEvent&&window.MSPointerEvent,Q=!(!window.PointerEvent&&!Y),tt=!window.L_NO_TOUCH&&(Q||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),et=K&&I,nt=K&&R,it=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ot=function(){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",falseFn,o),window.removeEventListener("testPassiveEventSupport",falseFn,o)}catch(s){}return i}(),st=function(){return!!document.createElement("canvas").getContext}(),at=!(!document.createElementNS||!svgCreate("svg").createSVGRect),rt=!at&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var o=i.firstChild;return o.style.behavior="url(#default#VML)",o&&"object"===typeof o.adj}catch(s){return!1}}();function userAgentContains(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var lt={ie:A,ielt9:k,edge:E,webkit:j,android:M,android23:z,androidStock:N,opera:I,chrome:D,gecko:R,safari:Z,phantom:$,opera12:U,win:q,ie3d:W,webkit3d:V,gecko3d:H,any3d:J,mobile:K,mobileWebkit:G,mobileWebkit3d:X,msPointer:Y,pointer:Q,touch:tt,mobileOpera:et,mobileGecko:nt,retina:it,passiveEvents:ot,canvas:st,svg:at,vml:rt},ct=Y?"MSPointerDown":"pointerdown",ut=Y?"MSPointerMove":"pointermove",ht=Y?"MSPointerUp":"pointerup",dt=Y?"MSPointerCancel":"pointercancel",pt={},mt=!1;function addPointerListener(i,o,s,a){return"touchstart"===o?_addPointerStart(i,s,a):"touchmove"===o?_addPointerMove(i,s,a):"touchend"===o&&_addPointerEnd(i,s,a),this}function removePointerListener(i,o,s){var a=i["_leaflet_"+o+s];return"touchstart"===o?i.removeEventListener(ct,a,!1):"touchmove"===o?i.removeEventListener(ut,a,!1):"touchend"===o&&(i.removeEventListener(ht,a,!1),i.removeEventListener(dt,a,!1)),this}function _addPointerStart(i,o,s){var a=bind((function(i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&preventDefault(i),_handlePointer(i,o)}));i["_leaflet_touchstart"+s]=a,i.addEventListener(ct,a,!1),mt||(document.addEventListener(ct,_globalPointerDown,!0),document.addEventListener(ut,_globalPointerMove,!0),document.addEventListener(ht,_globalPointerUp,!0),document.addEventListener(dt,_globalPointerUp,!0),mt=!0)}function _globalPointerDown(i){pt[i.pointerId]=i}function _globalPointerMove(i){pt[i.pointerId]&&(pt[i.pointerId]=i)}function _globalPointerUp(i){delete pt[i.pointerId]}function _handlePointer(i,o){for(var s in i.touches=[],pt)i.touches.push(pt[s]);i.changedTouches=[i],o(i)}function _addPointerMove(i,o,s){var onMove=function(i){i.pointerType===(i.MSPOINTER_TYPE_MOUSE||"mouse")&&0===i.buttons||_handlePointer(i,o)};i["_leaflet_touchmove"+s]=onMove,i.addEventListener(ut,onMove,!1)}function _addPointerEnd(i,o,s){var onUp=function(i){_handlePointer(i,o)};i["_leaflet_touchend"+s]=onUp,i.addEventListener(ht,onUp,!1),i.addEventListener(dt,onUp,!1)}var ft=Y?"MSPointerDown":Q?"pointerdown":"touchstart",_t=Y?"MSPointerUp":Q?"pointerup":"touchend",vt="_leaflet_";function addDoubleTapListener(i,o,s){var a,l,h=!1,d=250;function onTouchStart(i){if(Q){if(!i.isPrimary)return;if("mouse"===i.pointerType)return}else if(i.touches.length>1)return;var o=Date.now(),s=o-(a||o);l=i.touches?i.touches[0]:i,h=s>0&&s<=d,a=o}function onTouchEnd(i){if(h&&!l.cancelBubble){if(Q){if("mouse"===i.pointerType)return;var s,d,p={};for(d in l)s=l[d],p[d]=s&&s.bind?s.bind(l):s;l=p}l.type="dblclick",l.button=0,o(l),a=null}}return i[vt+ft+s]=onTouchStart,i[vt+_t+s]=onTouchEnd,i[vt+"dblclick"+s]=o,i.addEventListener(ft,onTouchStart,!!ot&&{passive:!1}),i.addEventListener(_t,onTouchEnd,!!ot&&{passive:!1}),i.addEventListener("dblclick",o,!1),this}function removeDoubleTapListener(i,o){var s=i[vt+ft+o],a=i[vt+_t+o],l=i[vt+"dblclick"+o];return i.removeEventListener(ft,s,!!ot&&{passive:!1}),i.removeEventListener(_t,a,!!ot&&{passive:!1}),i.removeEventListener("dblclick",l,!1),this}var gt,yt,bt,xt,Lt,wt=testProp(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ct=testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pt="webkitTransition"===Ct||"OTransition"===Ct?Ct+"End":"transitionend";function get(i){return"string"===typeof i?document.getElementById(i):i}function getStyle(i,o){var s=i.style[o]||i.currentStyle&&i.currentStyle[o];if((!s||"auto"===s)&&document.defaultView){var a=document.defaultView.getComputedStyle(i,null);s=a?a[o]:null}return"auto"===s?null:s}function create$1(i,o,s){var a=document.createElement(i);return a.className=o||"",s&&s.appendChild(a),a}function remove(i){var o=i.parentNode;o&&o.removeChild(i)}function empty(i){while(i.firstChild)i.removeChild(i.firstChild)}function toFront(i){var o=i.parentNode;o&&o.lastChild!==i&&o.appendChild(i)}function toBack(i){var o=i.parentNode;o&&o.firstChild!==i&&o.insertBefore(i,o.firstChild)}function hasClass(i,o){if(void 0!==i.classList)return i.classList.contains(o);var s=getClass(i);return s.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(s)}function addClass(i,o){if(void 0!==i.classList)for(var s=splitWords(o),a=0,l=s.length;a<l;a++)i.classList.add(s[a]);else if(!hasClass(i,o)){var h=getClass(i);setClass(i,(h?h+" ":"")+o)}}function removeClass(i,o){void 0!==i.classList?i.classList.remove(o):setClass(i,trim((" "+getClass(i)+" ").replace(" "+o+" "," ")))}function setClass(i,o){void 0===i.className.baseVal?i.className=o:i.className.baseVal=o}function getClass(i){return i.correspondingElement&&(i=i.correspondingElement),void 0===i.className.baseVal?i.className:i.className.baseVal}function setOpacity(i,o){"opacity"in i.style?i.style.opacity=o:"filter"in i.style&&_setOpacityIE(i,o)}function _setOpacityIE(i,o){var s=!1,a="DXImageTransform.Microsoft.Alpha";try{s=i.filters.item(a)}catch(l){if(1===o)return}o=Math.round(100*o),s?(s.Enabled=100!==o,s.Opacity=o):i.style.filter+=" progid:"+a+"(opacity="+o+")"}function testProp(i){for(var o=document.documentElement.style,s=0;s<i.length;s++)if(i[s]in o)return i[s];return!1}function setTransform(i,o,s){var a=o||new Point(0,0);i.style[wt]=(W?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(s?" scale("+s+")":"")}function setPosition(i,o){i._leaflet_pos=o,J?setTransform(i,o):(i.style.left=o.x+"px",i.style.top=o.y+"px")}function getPosition(i){return i._leaflet_pos||new Point(0,0)}if("onselectstart"in document)gt=function(){on(window,"selectstart",preventDefault)},yt=function(){off(window,"selectstart",preventDefault)};else{var Ot=testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gt=function(){if(Ot){var i=document.documentElement.style;bt=i[Ot],i[Ot]="none"}},yt=function(){Ot&&(document.documentElement.style[Ot]=bt,bt=void 0)}}function disableImageDrag(){on(window,"dragstart",preventDefault)}function enableImageDrag(){off(window,"dragstart",preventDefault)}function preventOutline(i){while(-1===i.tabIndex)i=i.parentNode;i.style&&(restoreOutline(),xt=i,Lt=i.style.outline,i.style.outline="none",on(window,"keydown",restoreOutline))}function restoreOutline(){xt&&(xt.style.outline=Lt,xt=void 0,Lt=void 0,off(window,"keydown",restoreOutline))}function getSizedParentNode(i){do{i=i.parentNode}while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function getScale(i){var o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}var Tt={TRANSFORM:wt,TRANSITION:Ct,TRANSITION_END:Pt,get:get,getStyle:getStyle,create:create$1,remove:remove,empty:empty,toFront:toFront,toBack:toBack,hasClass:hasClass,addClass:addClass,removeClass:removeClass,setClass:setClass,getClass:getClass,setOpacity:setOpacity,testProp:testProp,setTransform:setTransform,setPosition:setPosition,getPosition:getPosition,disableTextSelection:gt,enableTextSelection:yt,disableImageDrag:disableImageDrag,enableImageDrag:enableImageDrag,preventOutline:preventOutline,restoreOutline:restoreOutline,getSizedParentNode:getSizedParentNode,getScale:getScale};function on(i,o,s,a){if("object"===typeof o)for(var l in o)addOne(i,l,o[l],s);else{o=splitWords(o);for(var h=0,d=o.length;h<d;h++)addOne(i,o[h],s,a)}return this}var St="_leaflet_events";function off(i,o,s,a){if("object"===typeof o)for(var l in o)removeOne(i,l,o[l],s);else if(o){o=splitWords(o);for(var h=0,d=o.length;h<d;h++)removeOne(i,o[h],s,a)}else{for(var p in i[St])removeOne(i,p,i[St][p]);delete i[St]}return this}function browserFiresNativeDblClick(){if(Q)return!(E||Z)}var At={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function addOne(i,o,s,a){var l=o+stamp(s)+(a?"_"+stamp(a):"");if(i[St]&&i[St][l])return this;var handler=function(o){return s.call(a||i,o||window.event)},h=handler;Q&&0===o.indexOf("touch")?addPointerListener(i,o,handler,l):tt&&"dblclick"===o&&!browserFiresNativeDblClick()?addDoubleTapListener(i,handler,l):"addEventListener"in i?"touchstart"===o||"touchmove"===o||"wheel"===o||"mousewheel"===o?i.addEventListener(At[o]||o,handler,!!ot&&{passive:!1}):"mouseenter"===o||"mouseleave"===o?(handler=function(o){o=o||window.event,isExternalTarget(i,o)&&h(o)},i.addEventListener(At[o],handler,!1)):i.addEventListener(o,h,!1):"attachEvent"in i&&i.attachEvent("on"+o,handler),i[St]=i[St]||{},i[St][l]=handler}function removeOne(i,o,s,a){var l=o+stamp(s)+(a?"_"+stamp(a):""),h=i[St]&&i[St][l];if(!h)return this;Q&&0===o.indexOf("touch")?removePointerListener(i,o,l):tt&&"dblclick"===o&&!browserFiresNativeDblClick()?removeDoubleTapListener(i,l):"removeEventListener"in i?i.removeEventListener(At[o]||o,h,!1):"detachEvent"in i&&i.detachEvent("on"+o,h),i[St][l]=null}function stopPropagation(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,skipped(i),this}function disableScrollPropagation(i){return addOne(i,"wheel",stopPropagation),this}function disableClickPropagation(i){return on(i,"mousedown touchstart dblclick",stopPropagation),addOne(i,"click",fakeStop),this}function preventDefault(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function stop(i){return preventDefault(i),stopPropagation(i),this}function getMousePosition(i,o){if(!o)return new Point(i.clientX,i.clientY);var s=getScale(o),a=s.boundingClientRect;return new Point((i.clientX-a.left)/s.x-o.clientLeft,(i.clientY-a.top)/s.y-o.clientTop)}var kt=q&&D?2*window.devicePixelRatio:R?window.devicePixelRatio:1;function getWheelDelta(i){return E?i.wheelDeltaY/2:i.deltaY&&0===i.deltaMode?-i.deltaY/kt:i.deltaY&&1===i.deltaMode?20*-i.deltaY:i.deltaY&&2===i.deltaMode?60*-i.deltaY:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?20*-i.detail:i.detail?i.detail/-32765*60:0}var Et={};function fakeStop(i){Et[i.type]=!0}function skipped(i){var o=Et[i.type];return Et[i.type]=!1,o}function isExternalTarget(i,o){var s=o.relatedTarget;if(!s)return!0;try{while(s&&s!==i)s=s.parentNode}catch(a){return!1}return s!==i}var jt={on:on,off:off,stopPropagation:stopPropagation,disableScrollPropagation:disableScrollPropagation,disableClickPropagation:disableClickPropagation,preventDefault:preventDefault,stop:stop,getMousePosition:getMousePosition,getWheelDelta:getWheelDelta,fakeStop:fakeStop,skipped:skipped,isExternalTarget:isExternalTarget,addListener:on,removeListener:off},Mt=g.extend({run:function(i,o,s,a){this.stop(),this._el=i,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=getPosition(i),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=requestAnimFrame(this._animate,this),this._step()},_step:function(i){var o=+new Date-this._startTime,s=1e3*this._duration;o<s?this._runFrame(this._easeOut(o/s),i):(this._runFrame(1),this._complete())},_runFrame:function(i,o){var s=this._startPos.add(this._offset.multiplyBy(i));o&&s._round(),setPosition(this._el,s),this.fire("step")},_complete:function(){cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),zt=g.extend({options:{crs:O,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,o){o=setOptions(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=bind(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),void 0!==o.zoom&&(this._zoom=this._limitZoom(o.zoom)),o.center&&void 0!==o.zoom&&this.setView(toLatLng(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ct&&J&&!et&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),on(this._proxy,Pt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,o,s){if(o=void 0===o?this._zoom:this._limitZoom(o),i=this._limitCenter(toLatLng(i),o,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&!0!==s){void 0!==s.animate&&(s.zoom=extend({animate:s.animate},s.zoom),s.pan=extend({animate:s.animate,duration:s.duration},s.pan));var a=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,o,s.zoom):this._tryAnimatedPan(i,s.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(i,o),this},setZoom:function(i,o){return this._loaded?this.setView(this.getCenter(),i,{zoom:o}):(this._zoom=i,this)},zoomIn:function(i,o){return i=i||(J?this.options.zoomDelta:1),this.setZoom(this._zoom+i,o)},zoomOut:function(i,o){return i=i||(J?this.options.zoomDelta:1),this.setZoom(this._zoom-i,o)},setZoomAround:function(i,o,s){var a=this.getZoomScale(o),l=this.getSize().divideBy(2),h=i instanceof Point?i:this.latLngToContainerPoint(i),d=h.subtract(l).multiplyBy(1-1/a),p=this.containerPointToLatLng(l.add(d));return this.setView(p,o,{zoom:s})},_getBoundsCenterZoom:function(i,o){o=o||{},i=i.getBounds?i.getBounds():toLatLngBounds(i);var s=toPoint(o.paddingTopLeft||o.padding||[0,0]),a=toPoint(o.paddingBottomRight||o.padding||[0,0]),l=this.getBoundsZoom(i,!1,s.add(a));if(l="number"===typeof o.maxZoom?Math.min(o.maxZoom,l):l,l===1/0)return{center:i.getCenter(),zoom:l};var h=a.subtract(s).divideBy(2),d=this.project(i.getSouthWest(),l),p=this.project(i.getNorthEast(),l),m=this.unproject(d.add(p).divideBy(2).add(h),l);return{center:m,zoom:l}},fitBounds:function(i,o){if(i=toLatLngBounds(i),!i.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(i,o);return this.setView(s.center,s.zoom,o)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,o){return this.setView(i,this._zoom,{pan:o})},panBy:function(i,o){if(i=toPoint(i).round(),o=o||{},!i.x&&!i.y)return this.fire("moveend");if(!0!==o.animate&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Mt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),!1!==o.animate){addClass(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,s,o.duration||.25,o.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,o,s){if(s=s||{},!1===s.animate||!J)return this.setView(i,o,s);this._stop();var a=this.project(this.getCenter()),l=this.project(i),h=this.getSize(),d=this._zoom;i=toLatLng(i),o=void 0===o?d:o;var p=Math.max(h.x,h.y),m=p*this.getZoomScale(d,o),f=l.distanceTo(a)||1,_=1.42,v=_*_;function r(i){var o=i?-1:1,s=i?m:p,a=m*m-p*p+o*v*v*f*f,l=2*s*v*f,h=a/l,d=Math.sqrt(h*h+1)-h,_=d<1e-9?-18:Math.log(d);return _}function sinh(i){return(Math.exp(i)-Math.exp(-i))/2}function cosh(i){return(Math.exp(i)+Math.exp(-i))/2}function tanh(i){return sinh(i)/cosh(i)}var g=r(0);function w(i){return p*(cosh(g)/cosh(g+_*i))}function u(i){return p*(cosh(g)*tanh(g+_*i)-sinh(g))/v}function easeOut(i){return 1-Math.pow(1-i,1.5)}var y=Date.now(),b=(r(1)-g)/_,x=s.duration?1e3*s.duration:1e3*b*.8;function frame(){var s=(Date.now()-y)/x,h=easeOut(s)*b;s<=1?(this._flyToFrame=requestAnimFrame(frame,this),this._move(this.unproject(a.add(l.subtract(a).multiplyBy(u(h)/f)),d),this.getScaleZoom(p/w(h),d),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),frame.call(this),this},flyToBounds:function(i,o){var s=this._getBoundsCenterZoom(i,o);return this.flyTo(s.center,s.zoom,o)},setMaxBounds:function(i){return i=toLatLngBounds(i),i.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(i){var o=this.options.minZoom;return this.options.minZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var o=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,o){this._enforcingBounds=!0;var s=this.getCenter(),a=this._limitCenter(s,this._zoom,toLatLngBounds(i));return s.equals(a)||this.panTo(a,o),this._enforcingBounds=!1,this},panInside:function(i,o){o=o||{};var s=toPoint(o.paddingTopLeft||o.padding||[0,0]),a=toPoint(o.paddingBottomRight||o.padding||[0,0]),l=this.getCenter(),h=this.project(l),d=this.project(i),p=this.getPixelBounds(),m=p.getSize().divideBy(2),f=toBounds([p.min.add(s),p.max.subtract(a)]);if(!f.contains(d)){this._enforcingBounds=!0;var _=h.subtract(d),v=toPoint(d.x+_.x,d.y+_.y);(d.x<f.min.x||d.x>f.max.x)&&(v.x=h.x-_.x,_.x>0?v.x+=m.x-s.x:v.x-=m.x-a.x),(d.y<f.min.y||d.y>f.max.y)&&(v.y=h.y-_.y,_.y>0?v.y+=m.y-s.y:v.y-=m.y-a.y),this.panTo(this.unproject(v),o),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=extend({animate:!1,pan:!0},!0===i?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),a=o.divideBy(2).round(),l=s.divideBy(2).round(),h=a.subtract(l);return h.x||h.y?(i.animate&&i.pan?this.panBy(h):(i.pan&&this._rawPanBy(h),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:s})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=extend({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=bind(this._handleGeolocationResponse,this),s=bind(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,s,i):navigator.geolocation.getCurrentPosition(o,s,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){var o=i.code,s=i.message||(1===o?"permission denied":2===o?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+s+"."})},_handleGeolocationResponse:function(i){var o=i.coords.latitude,s=i.coords.longitude,a=new LatLng(o,s),l=a.toBounds(2*i.coords.accuracy),h=this._locateOptions;if(h.setView){var d=this.getBoundsZoom(l);this.setView(a,h.maxZoom?Math.min(d,h.maxZoom):d)}var p={latlng:a,bounds:l,timestamp:i.timestamp};for(var m in i.coords)"number"===typeof i.coords[m]&&(p[m]=i.coords[m]);this.fire("locationfound",p)},addHandler:function(i,o){if(!o)return this;var s=this[i]=new o(this);return this._handlers.push(s),this.options[i]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(o){this._container._leaflet_id=void 0,this._containerId=void 0}var i;for(i in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(cancelAnimFrame(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[i].remove();for(i in this._panes)remove(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,o){var s="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),a=create$1("div",s,o||this._mapPane);return i&&(this._panes[i]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),o=this.unproject(i.getBottomLeft()),s=this.unproject(i.getTopRight());return new LatLngBounds(o,s)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,o,s){i=toLatLngBounds(i),s=toPoint(s||[0,0]);var a=this.getZoom()||0,l=this.getMinZoom(),h=this.getMaxZoom(),d=i.getNorthWest(),p=i.getSouthEast(),m=this.getSize().subtract(s),f=toBounds(this.project(p,a),this.project(d,a)).getSize(),_=J?this.options.zoomSnap:1,v=m.x/f.x,g=m.y/f.y,y=o?Math.max(v,g):Math.min(v,g);return a=this.getScaleZoom(y,a),_&&(a=Math.round(a/(_/100))*(_/100),a=o?Math.ceil(a/_)*_:Math.floor(a/_)*_),Math.max(l,Math.min(h,a))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,o){var s=this._getTopLeftPoint(i,o);return new Bounds(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(void 0===i?this.getZoom():i)},getPane:function(i){return"string"===typeof i?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,o){var s=this.options.crs;return o=void 0===o?this._zoom:o,s.scale(i)/s.scale(o)},getScaleZoom:function(i,o){var s=this.options.crs;o=void 0===o?this._zoom:o;var a=s.zoom(i*s.scale(o));return isNaN(a)?1/0:a},project:function(i,o){return o=void 0===o?this._zoom:o,this.options.crs.latLngToPoint(toLatLng(i),o)},unproject:function(i,o){return o=void 0===o?this._zoom:o,this.options.crs.pointToLatLng(toPoint(i),o)},layerPointToLatLng:function(i){var o=toPoint(i).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(i){var o=this.project(toLatLng(i))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(toLatLng(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(toLatLngBounds(i))},distance:function(i,o){return this.options.crs.distance(toLatLng(i),toLatLng(o))},containerPointToLayerPoint:function(i){return toPoint(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return toPoint(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var o=this.containerPointToLayerPoint(toPoint(i));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(toLatLng(i)))},mouseEventToContainerPoint:function(i){return getMousePosition(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var o=this._container=get(i);if(!o)throw new Error("Map container not found.");if(o._leaflet_id)throw new Error("Map container is already initialized.");on(o,"scroll",this._onScroll,this),this._containerId=stamp(o)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&J,addClass(i,"leaflet-container"+(tt?" leaflet-touch":"")+(it?" leaflet-retina":"")+(k?" leaflet-oldie":"")+(Z?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=getStyle(i,"position");"absolute"!==o&&"relative"!==o&&"fixed"!==o&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),setPosition(this._mapPane,new Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(addClass(i.markerPane,"leaflet-zoom-hide"),addClass(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,o){setPosition(this._mapPane,new Point(0,0));var s=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var a=this._zoom!==o;this._moveStart(a,!1)._move(i,o)._moveEnd(a),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(i,o){return i&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(i,o,s){void 0===o&&(o=this._zoom);var a=this._zoom!==o;return this._zoom=o,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),(a||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){setPosition(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[stamp(this._container)]=this;var o=i?off:on;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),J&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){cancelAnimFrame(this._resizeRequest),this._resizeRequest=requestAnimFrame((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,o){var s,a=[],l="mouseout"===o||"mouseover"===o,h=i.target||i.srcElement,d=!1;while(h){if(s=this._targets[stamp(h)],s&&("click"===o||"preclick"===o)&&!i._simulated&&this._draggableMoved(s)){d=!0;break}if(s&&s.listens(o,!0)){if(l&&!isExternalTarget(h,i))break;if(a.push(s),l)break}if(h===this._container)break;h=h.parentNode}return a.length||d||l||!isExternalTarget(h,i)||(a=[this]),a},_handleDOMEvent:function(i){if(this._loaded&&!skipped(i)){var o=i.type;"mousedown"!==o&&"keypress"!==o&&"keyup"!==o&&"keydown"!==o||preventOutline(i.target||i.srcElement),this._fireDOMEvent(i,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,o,s){if("click"===i.type){var a=extend({},i);a.type="preclick",this._fireDOMEvent(a,a.type,s)}if(!i._stopped&&(s=(s||[]).concat(this._findEventTargets(i,o)),s.length)){var l=s[0];"contextmenu"===o&&l.listens(o,!0)&&preventDefault(i);var h={originalEvent:i};if("keypress"!==i.type&&"keydown"!==i.type&&"keyup"!==i.type){var d=l.getLatLng&&(!l._radius||l._radius<=10);h.containerPoint=d?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(i),h.layerPoint=this.containerPointToLayerPoint(h.containerPoint),h.latlng=d?l.getLatLng():this.layerPointToLatLng(h.layerPoint)}for(var p=0;p<s.length;p++)if(s[p].fire(o,h,!0),h.originalEvent._stopped||!1===s[p].options.bubblingMouseEvents&&-1!==indexOf(this._mouseEvents,o))return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,o=this._handlers.length;i<o;i++)this._handlers[i].disable()},whenReady:function(i,o){return this._loaded?i.call(o||this,{target:this}):this.on("load",i,o),this},_getMapPanePos:function(){return getPosition(this._mapPane)||new Point(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,o){var s=i&&void 0!==o?this._getNewPixelOrigin(i,o):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,o){var s=this.getSize()._divideBy(2);return this.project(i,o)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,o,s){var a=this._getNewPixelOrigin(s,o);return this.project(i,o)._subtract(a)},_latLngBoundsToNewLayerBounds:function(i,o,s){var a=this._getNewPixelOrigin(s,o);return toBounds([this.project(i.getSouthWest(),o)._subtract(a),this.project(i.getNorthWest(),o)._subtract(a),this.project(i.getSouthEast(),o)._subtract(a),this.project(i.getNorthEast(),o)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,o,s){if(!s)return i;var a=this.project(i,o),l=this.getSize().divideBy(2),h=new Bounds(a.subtract(l),a.add(l)),d=this._getBoundsOffset(h,s,o);return d.round().equals([0,0])?i:this.unproject(a.add(d),o)},_limitOffset:function(i,o){if(!o)return i;var s=this.getPixelBounds(),a=new Bounds(s.min.add(i),s.max.add(i));return i.add(this._getBoundsOffset(a,o))},_getBoundsOffset:function(i,o,s){var a=toBounds(this.project(o.getNorthEast(),s),this.project(o.getSouthWest(),s)),l=a.min.subtract(i.min),h=a.max.subtract(i.max),d=this._rebound(l.x,-h.x),p=this._rebound(l.y,-h.y);return new Point(d,p)},_rebound:function(i,o){return i+o>0?Math.round(i-o)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(o))},_limitZoom:function(i){var o=this.getMinZoom(),s=this.getMaxZoom(),a=J?this.options.zoomSnap:1;return a&&(i=Math.round(i/a)*a),Math.max(o,Math.min(s,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,o){var s=this._getCenterOffset(i)._trunc();return!(!0!==(o&&o.animate)&&!this.getSize().contains(s))&&(this.panBy(s,o),!0)},_createAnimProxy:function(){var i=this._proxy=create$1("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",(function(i){var o=wt,s=this._proxy.style[o];setTransform(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),s===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){remove(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),o=this.getZoom();setTransform(this._proxy,this.project(i,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,o,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||!1===s.animate||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(o),l=this._getCenterOffset(i)._divideBy(1-1/a);return!(!0!==s.animate&&!this.getSize().contains(l))&&(requestAnimFrame((function(){this._moveStart(!0,!1)._animateZoom(i,o,!0)}),this),!0)},_animateZoom:function(i,o,s,a){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=o,addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:o,noUpdate:a}),setTimeout(bind(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),requestAnimFrame((function(){this._moveEnd(!0)}),this))}});function createMap(i,o){return new zt(i,o)}var Bt=Class.extend({options:{position:"topright"},initialize:function(i){setOptions(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var o=this._map;return o&&o.removeControl(this),this.options.position=i,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var o=this._container=this.onAdd(i),s=this.getPosition(),a=i._controlCorners[s];return addClass(o,"leaflet-control"),-1!==s.indexOf("bottom")?a.insertBefore(o,a.firstChild):a.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(remove(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),control=function(i){return new Bt(i)};zt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},o="leaflet-",s=this._controlContainer=create$1("div",o+"control-container",this._container);function createCorner(a,l){var h=o+a+" "+o+l;i[a+l]=create$1("div",h,s)}createCorner("top","left"),createCorner("top","right"),createCorner("bottom","left"),createCorner("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)remove(this._controlCorners[i]);remove(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nt=Bt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,o,s,a){return s<a?-1:a<s?1:0}},initialize:function(i,o,s){for(var a in setOptions(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,i)this._addLayer(i[a],a);for(a in o)this._addLayer(o[a],a,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Bt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,o){return this._addLayer(i,o),this._map?this._update():this},addOverlay:function(i,o){return this._addLayer(i,o,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var o=this._getLayer(stamp(i));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){addClass(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(addClass(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):removeClass(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",o=this._container=create$1("div",i),s=this.options.collapsed;o.setAttribute("aria-haspopup",!0),disableClickPropagation(o),disableScrollPropagation(o);var a=this._section=create$1("section",i+"-list");s&&(this._map.on("click",this.collapse,this),M||on(o,{mouseenter:this.expand,mouseleave:this.collapse},this));var l=this._layersLink=create$1("a",i+"-toggle",o);l.href="#",l.title="Layers",tt?(on(l,"click",stop),on(l,"click",this.expand,this)):on(l,"focus",this.expand,this),s||this.expand(),this._baseLayersList=create$1("div",i+"-base",a),this._separator=create$1("div",i+"-separator",a),this._overlaysList=create$1("div",i+"-overlays",a),o.appendChild(a)},_getLayer:function(i){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&stamp(this._layers[o].layer)===i)return this._layers[o]},_addLayer:function(i,o,s){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:o,overlay:s}),this.options.sortLayers&&this._layers.sort(bind((function(i,o){return this.options.sortFunction(i.layer,o.layer,i.name,o.name)}),this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;empty(this._baseLayersList),empty(this._overlaysList),this._layerControlInputs=[];var i,o,s,a,l=0;for(s=0;s<this._layers.length;s++)a=this._layers[s],this._addItem(a),o=o||a.overlay,i=i||!a.overlay,l+=a.overlay?0:1;return this.options.hideSingleBase&&(i=i&&l>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=o&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var o=this._getLayer(stamp(i.target)),s=o.overlay?"add"===i.type?"overlayadd":"overlayremove":"add"===i.type?"baselayerchange":null;s&&this._map.fire(s,o)},_createRadioElement:function(i,o){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(o?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=s,a.firstChild},_addItem:function(i){var o,s=document.createElement("label"),a=this._map.hasLayer(i.layer);i.overlay?(o=document.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=a):o=this._createRadioElement("leaflet-base-layers_"+stamp(this),a),this._layerControlInputs.push(o),o.layerId=stamp(i.layer),on(o,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+i.name;var h=document.createElement("div");s.appendChild(h),h.appendChild(o),h.appendChild(l);var d=i.overlay?this._overlaysList:this._baseLayersList;return d.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){var i,o,s=this._layerControlInputs,a=[],l=[];this._handlingClick=!0;for(var h=s.length-1;h>=0;h--)i=s[h],o=this._getLayer(i.layerId).layer,i.checked?a.push(o):i.checked||l.push(o);for(h=0;h<l.length;h++)this._map.hasLayer(l[h])&&this._map.removeLayer(l[h]);for(h=0;h<a.length;h++)this._map.hasLayer(a[h])||this._map.addLayer(a[h]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var i,o,s=this._layerControlInputs,a=this._map.getZoom(),l=s.length-1;l>=0;l--)i=s[l],o=this._getLayer(i.layerId).layer,i.disabled=void 0!==o.options.minZoom&&a<o.options.minZoom||void 0!==o.options.maxZoom&&a>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),layers=function(i,o,s){return new Nt(i,o,s)},It=Bt.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(i){var o="leaflet-control-zoom",s=create$1("div",o+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,o+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,o+"-out",s,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,o,s,a,l){var h=create$1("a",s,a);return h.innerHTML=i,h.href="#",h.title=o,h.setAttribute("role","button"),h.setAttribute("aria-label",o),disableClickPropagation(h),on(h,"click",stop),on(h,"click",l,this),on(h,"click",this._refocusOnMap,this),h},_updateDisabled:function(){var i=this._map,o="leaflet-disabled";removeClass(this._zoomInButton,o),removeClass(this._zoomOutButton,o),(this._disabled||i._zoom===i.getMinZoom())&&addClass(this._zoomOutButton,o),(this._disabled||i._zoom===i.getMaxZoom())&&addClass(this._zoomInButton,o)}});zt.mergeOptions({zoomControl:!0}),zt.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new It,this.addControl(this.zoomControl))}));var zoom=function(i){return new It(i)},Dt=Bt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var o="leaflet-control-scale",s=create$1("div",o),a=this.options;return this._addScales(a,o+"-line",s),i.on(a.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),s},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,o,s){i.metric&&(this._mScale=create$1("div",o,s)),i.imperial&&(this._iScale=create$1("div",o,s))},_update:function(){var i=this._map,o=i.getSize().y/2,s=i.distance(i.containerPointToLatLng([0,o]),i.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(s)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var o=this._getRoundNum(i),s=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,s,o/i)},_updateImperial:function(i){var o,s,a,l=3.2808399*i;l>5280?(o=l/5280,s=this._getRoundNum(o),this._updateScale(this._iScale,s+" mi",s/o)):(a=this._getRoundNum(l),this._updateScale(this._iScale,a+" ft",a/l))},_updateScale:function(i,o,s){i.style.width=Math.round(this.options.maxWidth*s)+"px",i.innerHTML=o},_getRoundNum:function(i){var o=Math.pow(10,(Math.floor(i)+"").length-1),s=i/o;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,o*s}}),scale=function(i){return new Dt(i)},Rt=Bt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(i){setOptions(this,i),this._attributions={}},onAdd:function(i){for(var o in i.attributionControl=this,this._container=create$1("div","leaflet-control-attribution"),disableClickPropagation(this._container),i._layers)i._layers[o].getAttribution&&this.addAttribution(i._layers[o].getAttribution());return this._update(),this._container},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var o in this._attributions)this._attributions[o]&&i.push(o);var s=[];this.options.prefix&&s.push(this.options.prefix),i.length&&s.push(i.join(", ")),this._container.innerHTML=s.join(" | ")}}});zt.mergeOptions({attributionControl:!0}),zt.addInitHook((function(){this.options.attributionControl&&(new Rt).addTo(this)}));var attribution=function(i){return new Rt(i)};Bt.Layers=Nt,Bt.Zoom=It,Bt.Scale=Dt,Bt.Attribution=Rt,control.layers=layers,control.zoom=zoom,control.scale=scale,control.attribution=attribution;var Zt=Class.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zt.addTo=function(i,o){return i.addHandler(o,this),this};var $t,Ft={Events:v},Ut=tt?"touchstart mousedown":"mousedown",qt={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Wt={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Vt=g.extend({options:{clickTolerance:3},initialize:function(i,o,s,a){setOptions(this,a),this._element=i,this._dragStartTarget=o||i,this._preventOutline=s},enable:function(){this._enabled||(on(this._dragStartTarget,Ut,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Vt._dragging===this&&this.finishDrag(),off(this._dragStartTarget,Ut,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(!i._simulated&&this._enabled&&(this._moved=!1,!hasClass(this._element,"leaflet-zoom-anim")&&!(Vt._dragging||i.shiftKey||1!==i.which&&1!==i.button&&!i.touches)&&(Vt._dragging=this,this._preventOutline&&preventOutline(this._element),disableImageDrag(),gt(),!this._moving))){this.fire("down");var o=i.touches?i.touches[0]:i,s=getSizedParentNode(this._element);this._startPoint=new Point(o.clientX,o.clientY),this._parentScale=getScale(s),on(document,Wt[i.type],this._onMove,this),on(document,qt[i.type],this._onUp,this)}},_onMove:function(i){if(!i._simulated&&this._enabled)if(i.touches&&i.touches.length>1)this._moved=!0;else{var o=i.touches&&1===i.touches.length?i.touches[0]:i,s=new Point(o.clientX,o.clientY)._subtract(this._startPoint);(s.x||s.y)&&(Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,preventDefault(i),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=getPosition(this._element).subtract(s),addClass(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,cancelAnimFrame(this._animRequest),this._lastEvent=i,this._animRequest=requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),setPosition(this._element,this._newPos),this.fire("drag",i)},_onUp:function(i){!i._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var i in removeClass(document.body,"leaflet-dragging"),this._lastTarget&&(removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wt)off(document,Wt[i],this._onMove,this),off(document,qt[i],this._onUp,this);enableImageDrag(),yt(),this._moved&&this._moving&&(cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Vt._dragging=!1}});function simplify(i,o){if(!o||!i.length)return i.slice();var s=o*o;return i=_reducePoints(i,s),i=_simplifyDP(i,s),i}function pointToSegmentDistance(i,o,s){return Math.sqrt(_sqClosestPointOnSegment(i,o,s,!0))}function closestPointOnSegment(i,o,s){return _sqClosestPointOnSegment(i,o,s)}function _simplifyDP(i,o){var s=i.length,a=typeof Uint8Array!==void 0+""?Uint8Array:Array,l=new a(s);l[0]=l[s-1]=1,_simplifyDPStep(i,l,o,0,s-1);var h,d=[];for(h=0;h<s;h++)l[h]&&d.push(i[h]);return d}function _simplifyDPStep(i,o,s,a,l){var h,d,p,m=0;for(d=a+1;d<=l-1;d++)p=_sqClosestPointOnSegment(i[d],i[a],i[l],!0),p>m&&(h=d,m=p);m>s&&(o[h]=1,_simplifyDPStep(i,o,s,a,h),_simplifyDPStep(i,o,s,h,l))}function _reducePoints(i,o){for(var s=[i[0]],a=1,l=0,h=i.length;a<h;a++)_sqDist(i[a],i[l])>o&&(s.push(i[a]),l=a);return l<h-1&&s.push(i[h-1]),s}function clipSegment(i,o,s,a,l){var h,d,p,m=a?$t:_getBitCode(i,s),f=_getBitCode(o,s);$t=f;while(1){if(!(m|f))return[i,o];if(m&f)return!1;h=m||f,d=_getEdgeIntersection(i,o,h,s,l),p=_getBitCode(d,s),h===m?(i=d,m=p):(o=d,f=p)}}function _getEdgeIntersection(i,o,s,a,l){var h,d,p=o.x-i.x,m=o.y-i.y,f=a.min,_=a.max;return 8&s?(h=i.x+p*(_.y-i.y)/m,d=_.y):4&s?(h=i.x+p*(f.y-i.y)/m,d=f.y):2&s?(h=_.x,d=i.y+m*(_.x-i.x)/p):1&s&&(h=f.x,d=i.y+m*(f.x-i.x)/p),new Point(h,d,l)}function _getBitCode(i,o){var s=0;return i.x<o.min.x?s|=1:i.x>o.max.x&&(s|=2),i.y<o.min.y?s|=4:i.y>o.max.y&&(s|=8),s}function _sqDist(i,o){var s=o.x-i.x,a=o.y-i.y;return s*s+a*a}function _sqClosestPointOnSegment(i,o,s,a){var l,h=o.x,d=o.y,p=s.x-h,m=s.y-d,f=p*p+m*m;return f>0&&(l=((i.x-h)*p+(i.y-d)*m)/f,l>1?(h=s.x,d=s.y):l>0&&(h+=p*l,d+=m*l)),p=i.x-h,m=i.y-d,a?p*p+m*m:new Point(h,d)}function isFlat(i){return!h(i[0])||"object"!==typeof i[0][0]&&"undefined"!==typeof i[0][0]}function _flat(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),isFlat(i)}var Ht={simplify:simplify,pointToSegmentDistance:pointToSegmentDistance,closestPointOnSegment:closestPointOnSegment,clipSegment:clipSegment,_getEdgeIntersection:_getEdgeIntersection,_getBitCode:_getBitCode,_sqClosestPointOnSegment:_sqClosestPointOnSegment,isFlat:isFlat,_flat:_flat};function clipPolygon(i,o,s){var a,l,h,d,p,m,f,_,v,g=[1,4,2,8];for(l=0,f=i.length;l<f;l++)i[l]._code=_getBitCode(i[l],o);for(d=0;d<4;d++){for(_=g[d],a=[],l=0,f=i.length,h=f-1;l<f;h=l++)p=i[l],m=i[h],p._code&_?m._code&_||(v=_getEdgeIntersection(m,p,_,o,s),v._code=_getBitCode(v,o),a.push(v)):(m._code&_&&(v=_getEdgeIntersection(m,p,_,o,s),v._code=_getBitCode(v,o),a.push(v)),a.push(p));i=a}return i}var Jt={clipPolygon:clipPolygon},Kt={project:function(i){return new Point(i.lng,i.lat)},unproject:function(i){return new LatLng(i.y,i.x)},bounds:new Bounds([-180,-90],[180,90])},Gt={R:6378137,R_MINOR:6356752.314245179,bounds:new Bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(i){var o=Math.PI/180,s=this.R,a=i.lat*o,l=this.R_MINOR/s,h=Math.sqrt(1-l*l),d=h*Math.sin(a),p=Math.tan(Math.PI/4-a/2)/Math.pow((1-d)/(1+d),h/2);return a=-s*Math.log(Math.max(p,1e-10)),new Point(i.lng*o*s,a)},unproject:function(i){for(var o,s=180/Math.PI,a=this.R,l=this.R_MINOR/a,h=Math.sqrt(1-l*l),d=Math.exp(-i.y/a),p=Math.PI/2-2*Math.atan(d),m=0,f=.1;m<15&&Math.abs(f)>1e-7;m++)o=h*Math.sin(p),o=Math.pow((1-o)/(1+o),h/2),f=Math.PI/2-2*Math.atan(d*o)-p,p+=f;return new LatLng(p*s,i.x*s/a)}},Xt={LonLat:Kt,Mercator:Gt,SphericalMercator:P},Yt=extend({},x,{code:"EPSG:3395",projection:Gt,transformation:function(){var i=.5/(Math.PI*Gt.R);return toTransformation(i,.5,-i,.5)}()}),Qt=extend({},x,{code:"EPSG:4326",projection:Kt,transformation:toTransformation(1/180,1,-1/180,.5)}),te=extend({},b,{projection:Kt,transformation:toTransformation(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,o){var s=o.lng-i.lng,a=o.lat-i.lat;return Math.sqrt(s*s+a*a)},infinite:!0});b.Earth=x,b.EPSG3395=Yt,b.EPSG3857=O,b.EPSG900913=T,b.EPSG4326=Qt,b.Simple=te;var ee=g.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[stamp(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[stamp(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var o=i.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var s=this.getEvents();o.on(s,this),this.once("remove",(function(){o.off(s,this)}),this)}this.onAdd(o),this.getAttribution&&o.attributionControl&&o.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),o.fire("layeradd",{layer:this})}}});zt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var o=stamp(i);return this._layers[o]||(this._layers[o]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i)),this},removeLayer:function(i){var o=stamp(i);return this._layers[o]?(this._loaded&&i.onRemove(this),i.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(i.getAttribution()),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return!!i&&stamp(i)in this._layers},eachLayer:function(i,o){for(var s in this._layers)i.call(o,this._layers[s]);return this},_addLayers:function(i){i=i?h(i)?i:[i]:[];for(var o=0,s=i.length;o<s;o++)this.addLayer(i[o])},_addZoomLimit:function(i){!isNaN(i.options.maxZoom)&&isNaN(i.options.minZoom)||(this._zoomBoundLayers[stamp(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var o=stamp(i);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,o=-1/0,s=this._getZoomSpan();for(var a in this._zoomBoundLayers){var l=this._zoomBoundLayers[a].options;i=void 0===l.minZoom?i:Math.min(i,l.minZoom),o=void 0===l.maxZoom?o:Math.max(o,l.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=i===1/0?void 0:i,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ne=ee.extend({initialize:function(i,o){var s,a;if(setOptions(this,o),this._layers={},i)for(s=0,a=i.length;s<a;s++)this.addLayer(i[s])},addLayer:function(i){var o=this.getLayerId(i);return this._layers[o]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var o=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(i){if(!i)return!1;var o="number"===typeof i?i:this.getLayerId(i);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var o,s,a=Array.prototype.slice.call(arguments,1);for(o in this._layers)s=this._layers[o],s[i]&&s[i].apply(s,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,o){for(var s in this._layers)i.call(o,this._layers[s]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return stamp(i)}}),layerGroup=function(i,o){return new ne(i,o)},ie=ne.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ne.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ne.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new LatLngBounds;for(var o in this._layers){var s=this._layers[o];i.extend(s.getBounds?s.getBounds():s.getLatLng())}return i}}),featureGroup=function(i,o){return new ie(i,o)},oe=Class.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(i){setOptions(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,o){var s=this._getIconUrl(i);if(!s){if("icon"===i)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(s,o&&"IMG"===o.tagName?o:null);return this._setIconStyles(a,i),a},_setIconStyles:function(i,o){var s=this.options,a=s[o+"Size"];"number"===typeof a&&(a=[a,a]);var l=toPoint(a),h=toPoint("shadow"===o&&s.shadowAnchor||s.iconAnchor||l&&l.divideBy(2,!0));i.className="leaflet-marker-"+o+" "+(s.className||""),h&&(i.style.marginLeft=-h.x+"px",i.style.marginTop=-h.y+"px"),l&&(i.style.width=l.x+"px",i.style.height=l.y+"px")},_createImg:function(i,o){return o=o||document.createElement("img"),o.src=i,o},_getIconUrl:function(i){return it&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function icon(i){return new oe(i)}var se=oe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return se.imagePath||(se.imagePath=this._detectIconPath()),(this.options.imagePath||se.imagePath)+oe.prototype._getIconUrl.call(this,i)},_detectIconPath:function(){var i=create$1("div","leaflet-default-icon-path",document.body),o=getStyle(i,"background-image")||getStyle(i,"backgroundImage");return document.body.removeChild(i),o=null===o||0!==o.indexOf("url")?"":o.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,""),o}}),ae=Zt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Vt(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),addClass(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var o=this._marker,s=o._map,a=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,h=getPosition(o._icon),d=s.getPixelBounds(),p=s.getPixelOrigin(),m=toBounds(d.min._subtract(p).add(l),d.max._subtract(p).subtract(l));if(!m.contains(h)){var f=toPoint((Math.max(m.max.x,h.x)-m.max.x)/(d.max.x-m.max.x)-(Math.min(m.min.x,h.x)-m.min.x)/(d.min.x-m.min.x),(Math.max(m.max.y,h.y)-m.max.y)/(d.max.y-m.max.y)-(Math.min(m.min.y,h.y)-m.min.y)/(d.min.y-m.min.y)).multiplyBy(a);s.panBy(f,{animate:!1}),this._draggable._newPos._add(f),this._draggable._startPos._add(f),setPosition(o._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=requestAnimFrame(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(cancelAnimFrame(this._panRequest),this._panRequest=requestAnimFrame(this._adjustPan.bind(this,i)))},_onDrag:function(i){var o=this._marker,s=o._shadow,a=getPosition(o._icon),l=o._map.layerPointToLatLng(a);s&&setPosition(s,a),o._latlng=l,i.latlng=l,i.oldLatLng=this._oldLatLng,o.fire("move",i).fire("drag",i)},_onDragEnd:function(i){cancelAnimFrame(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),re=ee.extend({options:{icon:new se,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,o){setOptions(this,o),this._latlng=toLatLng(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var o=this._latlng;return this._latlng=toLatLng(i),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=i.icon.createIcon(this._icon),a=!1;s!==this._icon&&(this._icon&&this._removeIcon(),a=!0,i.title&&(s.title=i.title),"IMG"===s.tagName&&(s.alt=i.alt||"")),addClass(s,o),i.keyboard&&(s.tabIndex="0"),this._icon=s,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var l=i.icon.createShadow(this._shadow),h=!1;l!==this._shadow&&(this._removeShadow(),h=!0),l&&(addClass(l,o),l.alt=""),this._shadow=l,i.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&h&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&remove(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&setPosition(this._icon,i),this._shadow&&setPosition(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ae)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ae(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&setOpacity(this._icon,i),this._shadow&&setOpacity(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function marker(i,o){return new re(i,o)}var le=ee.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return setOptions(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ce=le.extend({options:{fill:!0,radius:10},initialize:function(i,o){setOptions(this,o),this._latlng=toLatLng(i),this._radius=this.options.radius},setLatLng:function(i){var o=this._latlng;return this._latlng=toLatLng(i),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var o=i&&i.radius||this._radius;return le.prototype.setStyle.call(this,i),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,o=this._radiusY||i,s=this._clickTolerance(),a=[i+s,o+s];this._pxBounds=new Bounds(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function circleMarker(i,o){return new ce(i,o)}var ue=ce.extend({initialize:function(i,o,s){if("number"===typeof o&&(o=extend({},s,{radius:o})),setOptions(this,o),this._latlng=toLatLng(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:le.prototype.setStyle,_project:function(){var i=this._latlng.lng,o=this._latlng.lat,s=this._map,a=s.options.crs;if(a.distance===x.distance){var l=Math.PI/180,h=this._mRadius/x.R/l,d=s.project([o+h,i]),p=s.project([o-h,i]),m=d.add(p).divideBy(2),f=s.unproject(m).lat,_=Math.acos((Math.cos(h*l)-Math.sin(o*l)*Math.sin(f*l))/(Math.cos(o*l)*Math.cos(f*l)))/l;(isNaN(_)||0===_)&&(_=h/Math.cos(Math.PI/180*o)),this._point=m.subtract(s.getPixelOrigin()),this._radius=isNaN(_)?0:m.x-s.project([f,i-_]).x,this._radiusY=m.y-d.y}else{var v=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(v).x}this._updateBounds()}});function circle(i,o,s){return new ue(i,o,s)}var he=le.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,o){setOptions(this,o),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var o,s,a=1/0,l=null,h=_sqClosestPointOnSegment,d=0,p=this._parts.length;d<p;d++)for(var m=this._parts[d],f=1,_=m.length;f<_;f++){o=m[f-1],s=m[f];var v=h(i,o,s,!0);v<a&&(a=v,l=h(i,o,s))}return l&&(l.distance=Math.sqrt(a)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,o,s,a,l,h,d,p=this._rings[0],m=p.length;if(!m)return null;for(i=0,o=0;i<m-1;i++)o+=p[i].distanceTo(p[i+1])/2;if(0===o)return this._map.layerPointToLatLng(p[0]);for(i=0,a=0;i<m-1;i++)if(l=p[i],h=p[i+1],s=l.distanceTo(h),a+=s,a>o)return d=(a-o)/s,this._map.layerPointToLatLng([h.x-d*(h.x-l.x),h.y-d*(h.y-l.y)])},getBounds:function(){return this._bounds},addLatLng:function(i,o){return o=o||this._defaultShape(),i=toLatLng(i),o.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new LatLngBounds,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return isFlat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var o=[],s=isFlat(i),a=0,l=i.length;a<l;a++)s?(o[a]=toLatLng(i[a]),this._bounds.extend(o[a])):o[a]=this._convertLatLngs(i[a]);return o},_project:function(){var i=new Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),o=new Point(i,i);this._pxBounds=new Bounds([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)])},_projectLatlngs:function(i,o,s){var a,l,h=i[0]instanceof LatLng,d=i.length;if(h){for(l=[],a=0;a<d;a++)l[a]=this._map.latLngToLayerPoint(i[a]),s.extend(l[a]);o.push(l)}else for(a=0;a<d;a++)this._projectLatlngs(i[a],o,s)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(i))if(this.options.noClip)this._parts=this._rings;else{var o,s,a,l,h,d,p,m=this._parts;for(o=0,a=0,l=this._rings.length;o<l;o++)for(p=this._rings[o],s=0,h=p.length;s<h-1;s++)d=clipSegment(p[s],p[s+1],i,s,!0),d&&(m[a]=m[a]||[],m[a].push(d[0]),d[1]===p[s+1]&&s!==h-2||(m[a].push(d[1]),a++))}},_simplifyPoints:function(){for(var i=this._parts,o=this.options.smoothFactor,s=0,a=i.length;s<a;s++)i[s]=simplify(i[s],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,o){var s,a,l,h,d,p,m=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(s=0,h=this._parts.length;s<h;s++)for(p=this._parts[s],a=0,d=p.length,l=d-1;a<d;l=a++)if((o||0!==a)&&pointToSegmentDistance(i,p[l],p[a])<=m)return!0;return!1}});function polyline(i,o){return new he(i,o)}he._flat=_flat;var de=he.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,o,s,a,l,h,d,p,m,f=this._rings[0],_=f.length;if(!_)return null;for(h=d=p=0,i=0,o=_-1;i<_;o=i++)s=f[i],a=f[o],l=s.y*a.x-a.y*s.x,d+=(s.x+a.x)*l,p+=(s.y+a.y)*l,h+=3*l;return m=0===h?f[0]:[d/h,p/h],this._map.layerPointToLatLng(m)},_convertLatLngs:function(i){var o=he.prototype._convertLatLngs.call(this,i),s=o.length;return s>=2&&o[0]instanceof LatLng&&o[0].equals(o[s-1])&&o.pop(),o},_setLatLngs:function(i){he.prototype._setLatLngs.call(this,i),isFlat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return isFlat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,o=this.options.weight,s=new Point(o,o);if(i=new Bounds(i.min.subtract(s),i.max.add(s)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(i))if(this.options.noClip)this._parts=this._rings;else for(var a,l=0,h=this._rings.length;l<h;l++)a=clipPolygon(this._rings[l],i,!0),a.length&&this._parts.push(a)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var o,s,a,l,h,d,p,m,f=!1;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,p=this._parts.length;l<p;l++)for(o=this._parts[l],h=0,m=o.length,d=m-1;h<m;d=h++)s=o[h],a=o[d],s.y>i.y!==a.y>i.y&&i.x<(a.x-s.x)*(i.y-s.y)/(a.y-s.y)+s.x&&(f=!f);return f||he.prototype._containsPoint.call(this,i,!0)}});function polygon(i,o){return new de(i,o)}var pe=ie.extend({initialize:function(i,o){setOptions(this,o),this._layers={},i&&this.addData(i)},addData:function(i){var o,s,a,l=h(i)?i:i.features;if(l){for(o=0,s=l.length;o<s;o++)a=l[o],(a.geometries||a.geometry||a.features||a.coordinates)&&this.addData(a);return this}var d=this.options;if(d.filter&&!d.filter(i))return this;var p=geometryToLayer(i,d);return p?(p.feature=asFeature(i),p.defaultOptions=p.options,this.resetStyle(p),d.onEachFeature&&d.onEachFeature(i,p),this.addLayer(p)):this},resetStyle:function(i){return void 0===i?this.eachLayer(this.resetStyle,this):(i.options=extend({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer((function(o){this._setLayerStyle(o,i)}),this)},_setLayerStyle:function(i,o){i.setStyle&&("function"===typeof o&&(o=o(i.feature)),i.setStyle(o))}});function geometryToLayer(i,o){var s,a,l,h,d="Feature"===i.type?i.geometry:i,p=d?d.coordinates:null,m=[],f=o&&o.pointToLayer,_=o&&o.coordsToLatLng||coordsToLatLng;if(!p&&!d)return null;switch(d.type){case"Point":return s=_(p),_pointToLayer(f,i,s,o);case"MultiPoint":for(l=0,h=p.length;l<h;l++)s=_(p[l]),m.push(_pointToLayer(f,i,s,o));return new ie(m);case"LineString":case"MultiLineString":return a=coordsToLatLngs(p,"LineString"===d.type?0:1,_),new he(a,o);case"Polygon":case"MultiPolygon":return a=coordsToLatLngs(p,"Polygon"===d.type?1:2,_),new de(a,o);case"GeometryCollection":for(l=0,h=d.geometries.length;l<h;l++){var v=geometryToLayer({geometry:d.geometries[l],type:"Feature",properties:i.properties},o);v&&m.push(v)}return new ie(m);default:throw new Error("Invalid GeoJSON object.")}}function _pointToLayer(i,o,s,a){return i?i(o,s):new re(s,a&&a.markersInheritOptions&&a)}function coordsToLatLng(i){return new LatLng(i[1],i[0],i[2])}function coordsToLatLngs(i,o,s){for(var a,l=[],h=0,d=i.length;h<d;h++)a=o?coordsToLatLngs(i[h],o-1,s):(s||coordsToLatLng)(i[h]),l.push(a);return l}function latLngToCoords(i,o){return o="number"===typeof o?o:6,void 0!==i.alt?[formatNum(i.lng,o),formatNum(i.lat,o),formatNum(i.alt,o)]:[formatNum(i.lng,o),formatNum(i.lat,o)]}function latLngsToCoords(i,o,s,a){for(var l=[],h=0,d=i.length;h<d;h++)l.push(o?latLngsToCoords(i[h],o-1,s,a):latLngToCoords(i[h],a));return!o&&s&&l.push(l[0]),l}function getFeature(i,o){return i.feature?extend({},i.feature,{geometry:o}):asFeature(o)}function asFeature(i){return"Feature"===i.type||"FeatureCollection"===i.type?i:{type:"Feature",properties:{},geometry:i}}var me={toGeoJSON:function(i){return getFeature(this,{type:"Point",coordinates:latLngToCoords(this.getLatLng(),i)})}};function geoJSON(i,o){return new pe(i,o)}re.include(me),ue.include(me),ce.include(me),he.include({toGeoJSON:function(i){var o=!isFlat(this._latlngs),s=latLngsToCoords(this._latlngs,o?1:0,!1,i);return getFeature(this,{type:(o?"Multi":"")+"LineString",coordinates:s})}}),de.include({toGeoJSON:function(i){var o=!isFlat(this._latlngs),s=o&&!isFlat(this._latlngs[0]),a=latLngsToCoords(this._latlngs,s?2:o?1:0,!0,i);return o||(a=[a]),getFeature(this,{type:(s?"Multi":"")+"Polygon",coordinates:a})}}),ne.include({toMultiPoint:function(i){var o=[];return this.eachLayer((function(s){o.push(s.toGeoJSON(i).geometry.coordinates)})),getFeature(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(i){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===o)return this.toMultiPoint(i);var s="GeometryCollection"===o,a=[];return this.eachLayer((function(o){if(o.toGeoJSON){var l=o.toGeoJSON(i);if(s)a.push(l.geometry);else{var h=asFeature(l);"FeatureCollection"===h.type?a.push.apply(a,h.features):a.push(h)}}})),s?getFeature(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});var fe=geoJSON,_e=ee.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,o,s){this._url=i,this._bounds=toLatLngBounds(o),setOptions(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&toFront(this._image),this},bringToBack:function(){return this._map&&toBack(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=toLatLngBounds(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i="IMG"===this._url.tagName,o=this._image=i?this._url:create$1("img");addClass(o,"leaflet-image-layer"),this._zoomAnimated&&addClass(o,"leaflet-zoom-animated"),this.options.className&&addClass(o,this.options.className),o.onselectstart=falseFn,o.onmousemove=falseFn,o.onload=bind(this.fire,this,"load"),o.onerror=bind(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i?this._url=o.src:(o.src=this._url,o.alt=this.options.alt)},_animateZoom:function(i){var o=this._map.getZoomScale(i.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;setTransform(this._image,s,o)},_reset:function(){var i=this._image,o=new Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=o.getSize();setPosition(i,o.min),i.style.width=s.x+"px",i.style.height=s.y+"px"},_updateOpacity:function(){setOpacity(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)}}),imageOverlay=function(i,o,s){return new _e(i,o,s)},ve=_e.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var i="VIDEO"===this._url.tagName,o=this._image=i?this._url:create$1("video");if(addClass(o,"leaflet-image-layer"),this._zoomAnimated&&addClass(o,"leaflet-zoom-animated"),this.options.className&&addClass(o,this.options.className),o.onselectstart=falseFn,o.onmousemove=falseFn,o.onloadeddata=bind(this.fire,this,"load"),i){for(var s=o.getElementsByTagName("source"),a=[],l=0;l<s.length;l++)a.push(s[l].src);this._url=s.length>0?a:[o.src]}else{h(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style["objectFit"]="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted;for(var d=0;d<this._url.length;d++){var p=create$1("source");p.src=this._url[d],o.appendChild(p)}}}});function videoOverlay(i,o,s){return new ve(i,o,s)}var ge=_e.extend({_initImage:function(){var i=this._image=this._url;addClass(i,"leaflet-image-layer"),this._zoomAnimated&&addClass(i,"leaflet-zoom-animated"),this.options.className&&addClass(i,this.options.className),i.onselectstart=falseFn,i.onmousemove=falseFn}});function svgOverlay(i,o,s){return new ge(i,o,s)}var ye=ee.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(i,o){setOptions(this,i),this._source=o},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&setOpacity(this._container,1),this.bringToFront()},onRemove:function(i){i._fadeAnimated?(setOpacity(this._container,0),this._removeTimeout=setTimeout(bind(remove,void 0,this._container),200)):remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=toLatLng(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&toFront(this._container),this},bringToBack:function(){return this._map&&toBack(this._container),this},_prepareOpen:function(i,o,s){if(o instanceof ee||(s=o,o=i),o instanceof ie)for(var a in i._layers){o=i._layers[a];break}if(!s)if(o.getCenter)s=o.getCenter();else{if(!o.getLatLng)throw new Error("Unable to get source layer LatLng.");s=o.getLatLng()}return this._source=o,this.update(),s},_updateContent:function(){if(this._content){var i=this._contentNode,o="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof o)i.innerHTML=o;else{while(i.hasChildNodes())i.removeChild(i.firstChild);i.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),o=toPoint(this.options.offset),s=this._getAnchor();this._zoomAnimated?setPosition(this._container,i.add(s)):o=o.add(i).add(s);var a=this._containerBottom=-o.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=a+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}}),be=ye.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i.openPopup(this),this},onAdd:function(i){ye.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof le||this._source.on("preclick",stopPropagation))},onRemove:function(i){ye.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof le||this._source.off("preclick",stopPropagation))},getEvents:function(){var i=ye.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this._close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var i="leaflet-popup",o=this._container=create$1("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=create$1("div",i+"-content-wrapper",o);if(this._contentNode=create$1("div",i+"-content",s),disableClickPropagation(o),disableScrollPropagation(this._contentNode),on(o,"contextmenu",stopPropagation),this._tipContainer=create$1("div",i+"-tip-container",o),this._tip=create$1("div",i+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=create$1("a",i+"-close-button",o);a.href="#close",a.innerHTML="&#215;",on(a,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var i=this._contentNode,o=i.style;o.width="",o.whiteSpace="nowrap";var s=i.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),o.width=s+1+"px",o.whiteSpace="",o.height="";var a=i.offsetHeight,l=this.options.maxHeight,h="leaflet-popup-scrolled";l&&a>l?(o.height=l+"px",addClass(i,h)):removeClass(i,h),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),s=this._getAnchor();setPosition(this._container,o.add(s))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var i=this._map,o=parseInt(getStyle(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+o,a=this._containerWidth,l=new Point(this._containerLeft,-s-this._containerBottom);l._add(getPosition(this._container));var h=i.layerPointToContainerPoint(l),d=toPoint(this.options.autoPanPadding),p=toPoint(this.options.autoPanPaddingTopLeft||d),m=toPoint(this.options.autoPanPaddingBottomRight||d),f=i.getSize(),_=0,v=0;h.x+a+m.x>f.x&&(_=h.x+a-f.x+m.x),h.x-_-p.x<0&&(_=h.x-p.x),h.y+s+m.y>f.y&&(v=h.y+s-f.y+m.y),h.y-v-p.y<0&&(v=h.y-p.y),(_||v)&&i.fire("autopanstart").panBy([_,v])}},_onCloseButtonClick:function(i){this._close(),stop(i)},_getAnchor:function(){return toPoint(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),popup=function(i,o){return new be(i,o)};zt.mergeOptions({closePopupOnClick:!0}),zt.include({openPopup:function(i,o,s){return i instanceof be||(i=new be(s).setContent(i)),o&&i.setLatLng(o),this.hasLayer(i)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=i,this.addLayer(i))},closePopup:function(i){return i&&i!==this._popup||(i=this._popup,this._popup=null),i&&this.removeLayer(i),this}}),ee.include({bindPopup:function(i,o){return i instanceof be?(setOptions(i,o),this._popup=i,i._source=this):(this._popup&&!o||(this._popup=new be(o,this)),this._popup.setContent(i)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i,o){return this._popup&&this._map&&(o=this._popup._prepareOpen(this,i,o),this._map.openPopup(this._popup,o)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(i){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(i)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){var o=i.layer||i.target;this._popup&&this._map&&(stop(i),o instanceof le?this.openPopup(i.layer||i.target,i.latlng):this._map.hasLayer(this._popup)&&this._popup._source===o?this.closePopup():this.openPopup(o,i.latlng))},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){13===i.originalEvent.keyCode&&this._openPopup(i)}});var xe=ye.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(i){ye.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(i){ye.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var i=ye.prototype.getEvents.call(this);return tt&&!this.options.permanent&&(i.preclick=this._close),i},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var i="leaflet-tooltip",o=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=create$1("div",o)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var o,s,a=this._map,l=this._container,h=a.latLngToContainerPoint(a.getCenter()),d=a.layerPointToContainerPoint(i),p=this.options.direction,m=l.offsetWidth,f=l.offsetHeight,_=toPoint(this.options.offset),v=this._getAnchor();"top"===p?(o=m/2,s=f):"bottom"===p?(o=m/2,s=0):"center"===p?(o=m/2,s=f/2):"right"===p?(o=0,s=f/2):"left"===p?(o=m,s=f/2):d.x<h.x?(p="right",o=0,s=f/2):(p="left",o=m+2*(_.x+v.x),s=f/2),i=i.subtract(toPoint(o,s,!0)).add(_).add(v),removeClass(l,"leaflet-tooltip-right"),removeClass(l,"leaflet-tooltip-left"),removeClass(l,"leaflet-tooltip-top"),removeClass(l,"leaflet-tooltip-bottom"),addClass(l,"leaflet-tooltip-"+p),setPosition(l,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&setOpacity(this._container,i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(o)},_getAnchor:function(){return toPoint(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tooltip=function(i,o){return new xe(i,o)};zt.include({openTooltip:function(i,o,s){return i instanceof xe||(i=new xe(s).setContent(i)),o&&i.setLatLng(o),this.hasLayer(i)?this:this.addLayer(i)},closeTooltip:function(i){return i&&this.removeLayer(i),this}}),ee.include({bindTooltip:function(i,o){return i instanceof xe?(setOptions(i,o),this._tooltip=i,i._source=this):(this._tooltip&&!o||(this._tooltip=new xe(o,this)),this._tooltip.setContent(i)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(i||!this._tooltipHandlersAdded){var o=i?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),tt&&(s.click=this._openTooltip)),this[o](s),this._tooltipHandlersAdded=!i}},openTooltip:function(i,o){return this._tooltip&&this._map&&(o=this._tooltip._prepareOpen(this,i,o),this._map.openTooltip(this._tooltip,o),this._tooltip.options.interactive&&this._tooltip._container&&(addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(i){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(i)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_openTooltip:function(i){var o=i.layer||i.target;this._tooltip&&this._map&&this.openTooltip(o,this._tooltip.options.sticky?i.latlng:void 0)},_moveTooltip:function(i){var o,s,a=i.latlng;this._tooltip.options.sticky&&i.originalEvent&&(o=this._map.mouseEventToContainerPoint(i.originalEvent),s=this._map.containerPointToLayerPoint(o),a=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(a)}});var Le=oe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var o=i&&"DIV"===i.tagName?i:document.createElement("div"),s=this.options;if(s.html instanceof Element?(empty(o),o.appendChild(s.html)):o.innerHTML=!1!==s.html?s.html:"",s.bgPos){var a=toPoint(s.bgPos);o.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function divIcon(i){return new Le(i)}oe.Default=se;var we=ee.extend({options:{tileSize:256,opacity:1,updateWhenIdle:K,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){setOptions(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),remove(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=throttle(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof Point?i:new Point(i,i)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var o,s=this.getPane().children,a=-i(-1/0,1/0),l=0,h=s.length;l<h;l++)o=s[l].style.zIndex,s[l]!==this._container&&o&&(a=i(a,+o));isFinite(a)&&(this.options.zIndex=a+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!k){setOpacity(this._container,this.options.opacity);var i=+new Date,o=!1,s=!1;for(var a in this._tiles){var l=this._tiles[a];if(l.current&&l.loaded){var h=Math.min(1,(i-l.loaded)/200);setOpacity(l.el,h),h<1?o=!0:(l.active?s=!0:this._onOpaqueTile(l),l.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),o&&(cancelAnimFrame(this._fadeFrame),this._fadeFrame=requestAnimFrame(this._updateOpacity,this))}},_onOpaqueTile:falseFn,_initContainer:function(){this._container||(this._container=create$1("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,o=this.options.maxZoom;if(void 0!==i){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===i?(this._levels[s].el.style.zIndex=o-Math.abs(i-s),this._onUpdateLevel(s)):(remove(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var a=this._levels[i],l=this._map;return a||(a=this._levels[i]={},a.el=create$1("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=o,a.origin=l.project(l.unproject(l.getPixelOrigin()),i).round(),a.zoom=i,this._setZoomTransform(a,l.getCenter(),l.getZoom()),falseFn(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:falseFn,_onRemoveLevel:falseFn,_onCreateLevel:falseFn,_pruneTiles:function(){if(this._map){var i,o,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom)this._removeAllTiles();else{for(i in this._tiles)o=this._tiles[i],o.retain=o.current;for(i in this._tiles)if(o=this._tiles[i],o.current&&!o.active){var a=o.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}}},_removeTilesAtZoom:function(i){for(var o in this._tiles)this._tiles[o].coords.z===i&&this._removeTile(o)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)remove(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,o,s,a){var l=Math.floor(i/2),h=Math.floor(o/2),d=s-1,p=new Point(+l,+h);p.z=+d;var m=this._tileCoordsToKey(p),f=this._tiles[m];return f&&f.active?(f.retain=!0,!0):(f&&f.loaded&&(f.retain=!0),d>a&&this._retainParent(l,h,d,a))},_retainChildren:function(i,o,s,a){for(var l=2*i;l<2*i+2;l++)for(var h=2*o;h<2*o+2;h++){var d=new Point(l,h);d.z=s+1;var p=this._tileCoordsToKey(d),m=this._tiles[p];m&&m.active?m.retain=!0:(m&&m.loaded&&(m.retain=!0),s+1<a&&this._retainChildren(l,h,s+1,a))}},_resetView:function(i){var o=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var o=this.options;return void 0!==o.minNativeZoom&&i<o.minNativeZoom?o.minNativeZoom:void 0!==o.maxNativeZoom&&o.maxNativeZoom<i?o.maxNativeZoom:i},_setView:function(i,o,s,a){var l=Math.round(o);l=void 0!==this.options.maxZoom&&l>this.options.maxZoom||void 0!==this.options.minZoom&&l<this.options.minZoom?void 0:this._clampZoom(l);var h=this.options.updateWhenZooming&&l!==this._tileZoom;a&&!h||(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==l&&this._update(i),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(i,o)},_setZoomTransforms:function(i,o){for(var s in this._levels)this._setZoomTransform(this._levels[s],i,o)},_setZoomTransform:function(i,o,s){var a=this._map.getZoomScale(s,i.zoom),l=i.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(o,s)).round();J?setTransform(i.el,l,a):setPosition(i.el,l)},_resetGrid:function(){var i=this._map,o=i.options.crs,s=this._tileSize=this.getTileSize(),a=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,o.wrapLng[0]],a).x/s.x),Math.ceil(i.project([0,o.wrapLng[1]],a).x/s.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([o.wrapLat[0],0],a).y/s.x),Math.ceil(i.project([o.wrapLat[1],0],a).y/s.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(i){var o=this._map,s=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),a=o.getZoomScale(s,this._tileZoom),l=o.project(i,this._tileZoom).floor(),h=o.getSize().divideBy(2*a);return new Bounds(l.subtract(h),l.add(h))},_update:function(i){var o=this._map;if(o){var s=this._clampZoom(o.getZoom());if(void 0===i&&(i=o.getCenter()),void 0!==this._tileZoom){var a=this._getTiledPixelBounds(i),l=this._pxBoundsToTileRange(a),h=l.getCenter(),d=[],p=this.options.keepBuffer,m=new Bounds(l.getBottomLeft().subtract([p,-p]),l.getTopRight().add([p,-p]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var f in this._tiles){var _=this._tiles[f].coords;_.z===this._tileZoom&&m.contains(new Point(_.x,_.y))||(this._tiles[f].current=!1)}if(Math.abs(s-this._tileZoom)>1)this._setView(i,s);else{for(var v=l.min.y;v<=l.max.y;v++)for(var g=l.min.x;g<=l.max.x;g++){var y=new Point(g,v);if(y.z=this._tileZoom,this._isValidTile(y)){var b=this._tiles[this._tileCoordsToKey(y)];b?b.current=!0:d.push(y)}}if(d.sort((function(i,o){return i.distanceTo(h)-o.distanceTo(h)})),0!==d.length){this._loading||(this._loading=!0,this.fire("loading"));var x=document.createDocumentFragment();for(g=0;g<d.length;g++)this._addTile(d[g],x);this._level.el.appendChild(x)}}}}},_isValidTile:function(i){var o=this._map.options.crs;if(!o.infinite){var s=this._globalTileRange;if(!o.wrapLng&&(i.x<s.min.x||i.x>s.max.x)||!o.wrapLat&&(i.y<s.min.y||i.y>s.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(i);return toLatLngBounds(this.options.bounds).overlaps(a)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var o=this._map,s=this.getTileSize(),a=i.scaleBy(s),l=a.add(s),h=o.unproject(a,i.z),d=o.unproject(l,i.z);return[h,d]},_tileCoordsToBounds:function(i){var o=this._tileCoordsToNwSe(i),s=new LatLngBounds(o[0],o[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var o=i.split(":"),s=new Point(+o[0],+o[1]);return s.z=+o[2],s},_removeTile:function(i){var o=this._tiles[i];o&&(remove(o.el),delete this._tiles[i],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){addClass(i,"leaflet-tile");var o=this.getTileSize();i.style.width=o.x+"px",i.style.height=o.y+"px",i.onselectstart=falseFn,i.onmousemove=falseFn,k&&this.options.opacity<1&&setOpacity(i,this.options.opacity),M&&!z&&(i.style.WebkitBackfaceVisibility="hidden")},_addTile:function(i,o){var s=this._getTilePos(i),a=this._tileCoordsToKey(i),l=this.createTile(this._wrapCoords(i),bind(this._tileReady,this,i));this._initTile(l),this.createTile.length<2&&requestAnimFrame(bind(this._tileReady,this,i,null,l)),setPosition(l,s),this._tiles[a]={el:l,coords:i,current:!0},o.appendChild(l),this.fire("tileloadstart",{tile:l,coords:i})},_tileReady:function(i,o,s){o&&this.fire("tileerror",{error:o,tile:s,coords:i});var a=this._tileCoordsToKey(i);s=this._tiles[a],s&&(s.loaded=+new Date,this._map._fadeAnimated?(setOpacity(s.el,0),cancelAnimFrame(this._fadeFrame),this._fadeFrame=requestAnimFrame(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),o||(addClass(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),k||!this._map._fadeAnimated?requestAnimFrame(this._pruneTiles,this):setTimeout(bind(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var o=new Point(this._wrapX?wrapNum(i.x,this._wrapX):i.x,this._wrapY?wrapNum(i.y,this._wrapY):i.y);return o.z=i.z,o},_pxBoundsToTileRange:function(i){var o=this.getTileSize();return new Bounds(i.min.unscaleBy(o).floor(),i.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function gridLayer(i){return new we(i)}var Ce=we.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(i,o){this._url=i,o=setOptions(this,o),o.detectRetina&&it&&o.maxZoom>0&&(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom++):(o.zoomOffset++,o.maxZoom--),o.minZoom=Math.max(0,o.minZoom)),"string"===typeof o.subdomains&&(o.subdomains=o.subdomains.split("")),M||this.on("tileunload",this._onTileRemove)},setUrl:function(i,o){return this._url===i&&void 0===o&&(o=!0),this._url=i,o||this.redraw(),this},createTile:function(i,o){var s=document.createElement("img");return on(s,"load",bind(this._tileOnLoad,this,o,s)),on(s,"error",bind(this._tileOnError,this,o,s)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(s.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),s.alt="",s.setAttribute("role","presentation"),s.src=this.getTileUrl(i),s},getTileUrl:function(i){var o={r:it?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-i.y;this.options.tms&&(o["y"]=s),o["-y"]=s}return template(this._url,extend(o,this.options))},_tileOnLoad:function(i,o){k?setTimeout(bind(i,this,null,o),0):i(null,o)},_tileOnError:function(i,o,s){var a=this.options.errorTileUrl;a&&o.getAttribute("src")!==a&&(o.src=a),i(s,o)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,o=this.options.maxZoom,s=this.options.zoomReverse,a=this.options.zoomOffset;return s&&(i=o-i),i+a},_getSubdomain:function(i){var o=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var i,o;for(i in this._tiles)this._tiles[i].coords.z!==this._tileZoom&&(o=this._tiles[i].el,o.onload=falseFn,o.onerror=falseFn,o.complete||(o.src=d,remove(o),delete this._tiles[i]))},_removeTile:function(i){var o=this._tiles[i];if(o)return N||o.el.setAttribute("src",d),we.prototype._removeTile.call(this,i)},_tileReady:function(i,o,s){if(this._map&&(!s||s.getAttribute("src")!==d))return we.prototype._tileReady.call(this,i,o,s)}});function tileLayer(i,o){return new Ce(i,o)}var Pe=Ce.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,o){this._url=i;var s=extend({},this.defaultWmsParams);for(var a in o)a in this.options||(s[a]=o[a]);o=setOptions(this,o);var l=o.detectRetina&&it?2:1,h=this.getTileSize();s.width=h.x*l,s.height=h.y*l,this.wmsParams=s},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Ce.prototype.onAdd.call(this,i)},getTileUrl:function(i){var o=this._tileCoordsToNwSe(i),s=this._crs,a=toBounds(s.project(o[0]),s.project(o[1])),l=a.min,h=a.max,d=(this._wmsVersion>=1.3&&this._crs===Qt?[l.y,l.x,h.y,h.x]:[l.x,l.y,h.x,h.y]).join(","),p=Ce.prototype.getTileUrl.call(this,i);return p+getParamString(this.wmsParams,p,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+d},setParams:function(i,o){return extend(this.wmsParams,i),o||this.redraw(),this}});function tileLayerWMS(i,o){return new Pe(i,o)}Ce.WMS=Pe,tileLayer.wms=tileLayerWMS;var Oe=ee.extend({options:{padding:.1,tolerance:0},initialize:function(i){setOptions(this,i),stamp(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,o){var s=this._map.getZoomScale(o,this._zoom),a=getPosition(this._container),l=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,o),d=this._map.project(i,o),p=d.subtract(h),m=l.multiplyBy(-s).add(a).add(l).subtract(p);J?setTransform(this._container,m,s):setPosition(this._container,m)},_reset:function(){for(var i in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,o=this._map.getSize(),s=this._map.containerPointToLayerPoint(o.multiplyBy(-i)).round();this._bounds=new Bounds(s,s.add(o.multiplyBy(1+2*i)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Te=Oe.extend({getEvents:function(){var i=Oe.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Oe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");on(i,"mousemove",this._onMouseMove,this),on(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),on(i,"mouseout",this._handleMouseOut,this),this._ctx=i.getContext("2d")},_destroyContainer:function(){cancelAnimFrame(this._redrawRequest),delete this._ctx,remove(this._container),off(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;for(var o in this._redrawBounds=null,this._layers)i=this._layers[o],i._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Oe.prototype._update.call(this);var i=this._bounds,o=this._container,s=i.getSize(),a=it?2:1;setPosition(o,i.min),o.width=a*s.x,o.height=a*s.y,o.style.width=s.x+"px",o.style.height=s.y+"px",it&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Oe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[stamp(i)]=i;var o=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var o=i._order,s=o.next,a=o.prev;s?s.prev=a:this._drawLast=a,a?a.next=s:this._drawFirst=s,delete i._order,delete this._layers[stamp(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if("string"===typeof i.options.dashArray){var o,s,a=i.options.dashArray.split(/[, ]+/),l=[];for(s=0;s<a.length;s++){if(o=Number(a[s]),isNaN(o))return;l.push(o)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var o=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Bounds,this._redrawBounds.extend(i._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(i._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var o=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,o=this._redrawBounds;if(this._ctx.save(),o){var s=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)i=a.layer,(!o||i._pxBounds&&i._pxBounds.intersects(o))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,o){if(this._drawing){var s,a,l,h,d=i._parts,p=d.length,m=this._ctx;if(p){for(m.beginPath(),s=0;s<p;s++){for(a=0,l=d[s].length;a<l;a++)h=d[s][a],m[a?"lineTo":"moveTo"](h.x,h.y);o&&m.closePath()}this._fillStroke(m,i)}}},_updateCircle:function(i){if(this._drawing&&!i._empty()){var o=i._point,s=this._ctx,a=Math.max(Math.round(i._radius),1),l=(Math.max(Math.round(i._radiusY),1)||a)/a;1!==l&&(s.save(),s.scale(1,l)),s.beginPath(),s.arc(o.x,o.y/l,a,0,2*Math.PI,!1),1!==l&&s.restore(),this._fillStroke(s,i)}},_fillStroke:function(i,o){var s=o.options;s.fill&&(i.globalAlpha=s.fillOpacity,i.fillStyle=s.fillColor||s.color,i.fill(s.fillRule||"evenodd")),s.stroke&&0!==s.weight&&(i.setLineDash&&i.setLineDash(o.options&&o.options._dashArray||[]),i.globalAlpha=s.opacity,i.lineWidth=s.weight,i.strokeStyle=s.color,i.lineCap=s.lineCap,i.lineJoin=s.lineJoin,i.stroke())},_onClick:function(i){for(var o,s,a=this._map.mouseEventToLayerPoint(i),l=this._drawFirst;l;l=l.next)o=l.layer,o.options.interactive&&o._containsPoint(a)&&("click"!==i.type&&"preclick"===i.type||!this._map._draggableMoved(o))&&(s=o);s&&(fakeStop(i),this._fireEvent([s],i))},_onMouseMove:function(i){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var o=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,o)}},_handleMouseOut:function(i){var o=this._hoveredLayer;o&&(removeClass(this._container,"leaflet-interactive"),this._fireEvent([o],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,o){if(!this._mouseHoverThrottled){for(var s,a,l=this._drawFirst;l;l=l.next)s=l.layer,s.options.interactive&&s._containsPoint(o)&&(a=s);a!==this._hoveredLayer&&(this._handleMouseOut(i),a&&(addClass(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseover"),this._hoveredLayer=a)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],i),this._mouseHoverThrottled=!0,setTimeout(bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(i,o,s){this._map._fireDOMEvent(o,s||o.type,i)},_bringToFront:function(i){var o=i._order;if(o){var s=o.next,a=o.prev;s&&(s.prev=a,a?a.next=s:s&&(this._drawFirst=s),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(i))}},_bringToBack:function(i){var o=i._order;if(o){var s=o.next,a=o.prev;a&&(a.next=s,s?s.prev=a:a&&(this._drawLast=a),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(i))}}});function canvas$1(i){return st?new Te(i):null}var Se=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch(i){return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Ae={_initContainer:function(){this._container=create$1("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Oe.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var o=i._container=Se("shape");addClass(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",i._path=Se("path"),o.appendChild(i._path),this._updateStyle(i),this._layers[stamp(i)]=i},_addPath:function(i){var o=i._container;this._container.appendChild(o),i.options.interactive&&i.addInteractiveTarget(o)},_removePath:function(i){var o=i._container;remove(o),i.removeInteractiveTarget(o),delete this._layers[stamp(i)]},_updateStyle:function(i){var o=i._stroke,s=i._fill,a=i.options,l=i._container;l.stroked=!!a.stroke,l.filled=!!a.fill,a.stroke?(o||(o=i._stroke=Se("stroke")),l.appendChild(o),o.weight=a.weight+"px",o.color=a.color,o.opacity=a.opacity,a.dashArray?o.dashStyle=h(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=a.lineCap.replace("butt","flat"),o.joinstyle=a.lineJoin):o&&(l.removeChild(o),i._stroke=null),a.fill?(s||(s=i._fill=Se("fill")),l.appendChild(s),s.color=a.fillColor||a.color,s.opacity=a.fillOpacity):s&&(l.removeChild(s),i._fill=null)},_updateCircle:function(i){var o=i._point.round(),s=Math.round(i._radius),a=Math.round(i._radiusY||s);this._setPath(i,i._empty()?"M0 0":"AL "+o.x+","+o.y+" "+s+","+a+" 0,23592600")},_setPath:function(i,o){i._path.v=o},_bringToFront:function(i){toFront(i._container)},_bringToBack:function(i){toBack(i._container)}},ke=rt?Se:svgCreate,Ee=Oe.extend({getEvents:function(){var i=Oe.prototype.getEvents.call(this);return i.zoomstart=this._onZoomStart,i},_initContainer:function(){this._container=ke("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ke("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){remove(this._container),off(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Oe.prototype._update.call(this);var i=this._bounds,o=i.getSize(),s=this._container;this._svgSize&&this._svgSize.equals(o)||(this._svgSize=o,s.setAttribute("width",o.x),s.setAttribute("height",o.y)),setPosition(s,i.min),s.setAttribute("viewBox",[i.min.x,i.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(i){var o=i._path=ke("path");i.options.className&&addClass(o,i.options.className),i.options.interactive&&addClass(o,"leaflet-interactive"),this._updateStyle(i),this._layers[stamp(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){remove(i._path),i.removeInteractiveTarget(i._path),delete this._layers[stamp(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var o=i._path,s=i.options;o&&(s.stroke?(o.setAttribute("stroke",s.color),o.setAttribute("stroke-opacity",s.opacity),o.setAttribute("stroke-width",s.weight),o.setAttribute("stroke-linecap",s.lineCap),o.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?o.setAttribute("stroke-dasharray",s.dashArray):o.removeAttribute("stroke-dasharray"),s.dashOffset?o.setAttribute("stroke-dashoffset",s.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),s.fill?(o.setAttribute("fill",s.fillColor||s.color),o.setAttribute("fill-opacity",s.fillOpacity),o.setAttribute("fill-rule",s.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(i,o){this._setPath(i,pointsToPath(i._parts,o))},_updateCircle:function(i){var o=i._point,s=Math.max(Math.round(i._radius),1),a=Math.max(Math.round(i._radiusY),1)||s,l="a"+s+","+a+" 0 1,0 ",h=i._empty()?"M0 0":"M"+(o.x-s)+","+o.y+l+2*s+",0 "+l+2*-s+",0 ";this._setPath(i,h)},_setPath:function(i,o){i._path.setAttribute("d",o)},_bringToFront:function(i){toFront(i._path)},_bringToBack:function(i){toBack(i._path)}});function svg$1(i){return at||rt?new Ee(i):null}rt&&Ee.include(Ae),zt.include({getRenderer:function(i){var o=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(i){if("overlayPane"===i||void 0===i)return!1;var o=this._paneRenderers[i];return void 0===o&&(o=this._createRenderer({pane:i}),this._paneRenderers[i]=o),o},_createRenderer:function(i){return this.options.preferCanvas&&canvas$1(i)||svg$1(i)}});var je=de.extend({initialize:function(i,o){de.prototype.initialize.call(this,this._boundsToLatLngs(i),o)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=toLatLngBounds(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function rectangle(i,o){return new je(i,o)}Ee.create=ke,Ee.pointsToPath=pointsToPath,pe.geometryToLayer=geometryToLayer,pe.coordsToLatLng=coordsToLatLng,pe.coordsToLatLngs=coordsToLatLngs,pe.latLngToCoords=latLngToCoords,pe.latLngsToCoords=latLngsToCoords,pe.getFeature=getFeature,pe.asFeature=asFeature,zt.mergeOptions({boxZoom:!0});var Me=Zt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){remove(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||1!==i.which&&1!==i.button)return!1;this._clearDeferredResetState(),this._resetState(),gt(),disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(i),on(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=create$1("div","leaflet-zoom-box",this._container),addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var o=new Bounds(this._point,this._startPoint),s=o.getSize();setPosition(this._box,o.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(remove(this._box),removeClass(this._container,"leaflet-crosshair")),yt(),enableImageDrag(),off(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if((1===i.which||1===i.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(bind(this._resetState,this),0);var o=new LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(i){27===i.keyCode&&this._finish()}});zt.addInitHook("addHandler","boxZoom",Me),zt.mergeOptions({doubleClickZoom:!0});var ze=Zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var o=this._map,s=o.getZoom(),a=o.options.zoomDelta,l=i.originalEvent.shiftKey?s-a:s+a;"center"===o.options.doubleClickZoom?o.setZoom(l):o.setZoomAround(i.containerPoint,l)}});zt.addInitHook("addHandler","doubleClickZoom",ze),zt.mergeOptions({dragging:!0,inertia:!z,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Be=Zt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Vt(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){removeClass(this._map._container,"leaflet-grab"),removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=toLatLngBounds(this._map.options.maxBounds);this._offsetLimit=toBounds(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var o=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(o),this._prunePositions(o)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){while(this._positions.length>1&&i-this._times[0]>50)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,o){return i-(i-o)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var i=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;i.x<o.min.x&&(i.x=this._viscousLimit(i.x,o.min.x)),i.y<o.min.y&&(i.y=this._viscousLimit(i.y,o.min.y)),i.x>o.max.x&&(i.x=this._viscousLimit(i.x,o.max.x)),i.y>o.max.y&&(i.y=this._viscousLimit(i.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,o=Math.round(i/2),s=this._initialWorldOffset,a=this._draggable._newPos.x,l=(a-o+s)%i+o-s,h=(a+o+s)%i-o-s,d=Math.abs(l+s)<Math.abs(h+s)?l:h;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=d},_onDragEnd:function(i){var o=this._map,s=o.options,a=!s.inertia||this._times.length<2;if(o.fire("dragend",i),a)o.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),h=(this._lastTime-this._times[0])/1e3,d=s.easeLinearity,p=l.multiplyBy(d/h),m=p.distanceTo([0,0]),f=Math.min(s.inertiaMaxSpeed,m),_=p.multiplyBy(f/m),v=f/(s.inertiaDeceleration*d),g=_.multiplyBy(-v/2).round();g.x||g.y?(g=o._limitOffset(g,o.options.maxBounds),requestAnimFrame((function(){o.panBy(g,{duration:v,easeLinearity:d,noMoveStart:!0,animate:!0})}))):o.fire("moveend")}}});zt.addInitHook("addHandler","dragging",Be),zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ne=Zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),on(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,o=document.documentElement,s=i.scrollTop||o.scrollTop,a=i.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(a,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var o,s,a=this._panKeys={},l=this.keyCodes;for(o=0,s=l.left.length;o<s;o++)a[l.left[o]]=[-1*i,0];for(o=0,s=l.right.length;o<s;o++)a[l.right[o]]=[i,0];for(o=0,s=l.down.length;o<s;o++)a[l.down[o]]=[0,i];for(o=0,s=l.up.length;o<s;o++)a[l.up[o]]=[0,-1*i]},_setZoomDelta:function(i){var o,s,a=this._zoomKeys={},l=this.keyCodes;for(o=0,s=l.zoomIn.length;o<s;o++)a[l.zoomIn[o]]=i;for(o=0,s=l.zoomOut.length;o<s;o++)a[l.zoomOut[o]]=-i},_addHooks:function(){on(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){off(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var o,s=i.keyCode,a=this._map;if(s in this._panKeys)a._panAnim&&a._panAnim._inProgress||(o=this._panKeys[s],i.shiftKey&&(o=toPoint(o).multiplyBy(3)),a.panBy(o),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds));else if(s in this._zoomKeys)a.setZoom(a.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else{if(27!==s||!a._popup||!a._popup.options.closeOnEscapeKey)return;a.closePopup()}stop(i)}}});zt.addInitHook("addHandler","keyboard",Ne),zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ie=Zt.extend({addHooks:function(){on(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){off(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var o=getWheelDelta(i),s=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var a=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(bind(this._performZoom,this),a),stop(i)},_performZoom:function(){var i=this._map,o=i.getZoom(),s=this._map.options.zoomSnap||0;i._stop();var a=this._delta/(4*this._map.options.wheelPxPerZoomLevel),l=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,h=s?Math.ceil(l/s)*s:l,d=i._limitZoom(o+(this._delta>0?h:-h))-o;this._delta=0,this._startTime=null,d&&("center"===i.options.scrollWheelZoom?i.setZoom(o+d):i.setZoomAround(this._lastMousePos,o+d))}});zt.addInitHook("addHandler","scrollWheelZoom",Ie),zt.mergeOptions({tap:!0,tapTolerance:15});var De=Zt.extend({addHooks:function(){on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(i.touches){if(preventDefault(i),this._fireClick=!0,i.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var o=i.touches[0],s=o.target;this._startPos=this._newPos=new Point(o.clientX,o.clientY),s.tagName&&"a"===s.tagName.toLowerCase()&&addClass(s,"leaflet-active"),this._holdTimeout=setTimeout(bind((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",o))}),this),1e3),this._simulateEvent("mousedown",o),on(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(i){if(clearTimeout(this._holdTimeout),off(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&i&&i.changedTouches){var o=i.changedTouches[0],s=o.target;s&&s.tagName&&"a"===s.tagName.toLowerCase()&&removeClass(s,"leaflet-active"),this._simulateEvent("mouseup",o),this._isTapValid()&&this._simulateEvent("click",o)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(i){var o=i.touches[0];this._newPos=new Point(o.clientX,o.clientY),this._simulateEvent("mousemove",o)},_simulateEvent:function(i,o){var s=document.createEvent("MouseEvents");s._simulated=!0,o.target._simulatedClick=!0,s.initMouseEvent(i,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(s)}});!tt||Q&&!Z||zt.addInitHook("addHandler","tap",De),zt.mergeOptions({touchZoom:tt&&!z,bounceAtZoomLimits:!0});var Re=Zt.extend({addHooks:function(){addClass(this._map._container,"leaflet-touch-zoom"),on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){removeClass(this._map._container,"leaflet-touch-zoom"),off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var o=this._map;if(i.touches&&2===i.touches.length&&!o._animatingZoom&&!this._zooming){var s=o.mouseEventToContainerPoint(i.touches[0]),a=o.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),"center"!==o.options.touchZoom&&(this._pinchStartLatLng=o.containerPointToLatLng(s.add(a)._divideBy(2))),this._startDist=s.distanceTo(a),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),on(document,"touchmove",this._onTouchMove,this),on(document,"touchend",this._onTouchEnd,this),preventDefault(i)}},_onTouchMove:function(i){if(i.touches&&2===i.touches.length&&this._zooming){var o=this._map,s=o.mouseEventToContainerPoint(i.touches[0]),a=o.mouseEventToContainerPoint(i.touches[1]),l=s.distanceTo(a)/this._startDist;if(this._zoom=o.getScaleZoom(l,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&l<1||this._zoom>o.getMaxZoom()&&l>1)&&(this._zoom=o._limitZoom(this._zoom)),"center"===o.options.touchZoom){if(this._center=this._startLatLng,1===l)return}else{var h=s._add(a)._divideBy(2)._subtract(this._centerPoint);if(1===l&&0===h.x&&0===h.y)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(h),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),cancelAnimFrame(this._animRequest);var d=bind(o._move,o,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=requestAnimFrame(d,this,!0),preventDefault(i)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,cancelAnimFrame(this._animRequest),off(document,"touchmove",this._onTouchMove,this),off(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});zt.addInitHook("addHandler","touchZoom",Re),zt.BoxZoom=Me,zt.DoubleClickZoom=ze,zt.Drag=Be,zt.Keyboard=Ne,zt.ScrollWheelZoom=Ie,zt.Tap=De,zt.TouchZoom=Re,i.version=o,i.Control=Bt,i.control=control,i.Browser=lt,i.Evented=g,i.Mixin=Ft,i.Util=_,i.Class=Class,i.Handler=Zt,i.extend=extend,i.bind=bind,i.stamp=stamp,i.setOptions=setOptions,i.DomEvent=jt,i.DomUtil=Tt,i.PosAnimation=Mt,i.Draggable=Vt,i.LineUtil=Ht,i.PolyUtil=Jt,i.Point=Point,i.point=toPoint,i.Bounds=Bounds,i.bounds=toBounds,i.Transformation=Transformation,i.transformation=toTransformation,i.Projection=Xt,i.LatLng=LatLng,i.latLng=toLatLng,i.LatLngBounds=LatLngBounds,i.latLngBounds=toLatLngBounds,i.CRS=b,i.GeoJSON=pe,i.geoJSON=geoJSON,i.geoJson=fe,i.Layer=ee,i.LayerGroup=ne,i.layerGroup=layerGroup,i.FeatureGroup=ie,i.featureGroup=featureGroup,i.ImageOverlay=_e,i.imageOverlay=imageOverlay,i.VideoOverlay=ve,i.videoOverlay=videoOverlay,i.SVGOverlay=ge,i.svgOverlay=svgOverlay,i.DivOverlay=ye,i.Popup=be,i.popup=popup,i.Tooltip=xe,i.tooltip=tooltip,i.Icon=oe,i.icon=icon,i.DivIcon=Le,i.divIcon=divIcon,i.Marker=re,i.marker=marker,i.TileLayer=Ce,i.tileLayer=tileLayer,i.GridLayer=we,i.gridLayer=gridLayer,i.SVG=Ee,i.svg=svg$1,i.Renderer=Oe,i.Canvas=Te,i.canvas=canvas$1,i.Path=le,i.CircleMarker=ce,i.circleMarker=circleMarker,i.Circle=ue,i.circle=circle,i.Polyline=he,i.polyline=polyline,i.Polygon=de,i.polygon=polygon,i.Rectangle=je,i.rectangle=rectangle,i.Map=zt,i.map=createMap;var Ze=window.L;i.noConflict=function(){return window.L=Ze,this},window.L=i}))},e2b9:function(i,o){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},ef62:function(i,o,s){"use strict";s.d(o,"a",(function(){return capitalizeFirstLetter})),s.d(o,"b",(function(){return collectionCleaner})),s.d(o,"c",(function(){return debounce})),s.d(o,"d",(function(){return findRealParent})),s.d(o,"e",(function(){return optionsMerger})),s.d(o,"f",(function(){return propsBinder}));var a=s("e11e"),debounce=function(i,o){var s;return function(){var a=[],l=arguments.length;while(l--)a[l]=arguments[l];var h=this;s&&clearTimeout(s),s=setTimeout((function(){i.apply(h,a),s=null}),o)}},capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i}},f60f:function(i,o,s){"use strict";var a=s("e11e"),capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i},l={props:{content:{type:String,default:null,custom:!0}},mounted:function mounted(){this.popperOptions={}},methods:{setContent:function setContent(i){this.mapObject&&null!==i&&void 0!==i&&this.mapObject.setContent(i)}},render:function render(i){return this.$slots.default?i("div",this.$slots.default):null}},h={props:{options:{type:Object,default:function(){return{}}}}},d={name:"LPopup",mixins:[l,h],props:{latLng:{type:[Object,Array],default:function(){return[]}}},mounted:function mounted(){var i=this,o=optionsMerger(this.popperOptions,this);this.mapObject=Object(a["popup"])(o),void 0!==this.latLng&&this.mapObject.setLatLng(this.latLng),a["DomEvent"].on(this.mapObject,this.$listeners),propsBinder(this,this.mapObject,this.$options.props),this.mapObject.setContent(this.content||this.$el),this.parentContainer=findRealParent(this.$parent),this.parentContainer.mapObject.bindPopup(this.mapObject),this.$nextTick((function(){i.$emit("ready",i.mapObject)}))},beforeDestroy:function beforeDestroy(){this.parentContainer&&(this.parentContainer.unbindPopup?this.parentContainer.unbindPopup():this.parentContainer.mapObject&&this.parentContainer.mapObject.unbindPopup&&this.parentContainer.mapObject.unbindPopup())}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var p=d,m=void 0,f=void 0,_=void 0,v=void 0,g=normalizeComponent({},m,p,f,v,_,!1,void 0,void 0,void 0);o["a"]=g},fb37:function(i,o,s){"use strict";var render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("b-field",[i.navlog?s("b-radio-button",{attrs:{"native-value":"NavigationLog",disabled:!i.gotNavigation},model:{value:i.modalName,callback:function(o){i.modalName=o},expression:"modalName"}},[s("b-tooltip",i._b({attrs:{label:"Navigation Log"}},"b-tooltip",i.tooltip,!1),[s("b-icon",i._b({attrs:{icon:"clipboard-list-outline"}},"b-icon",i.icon,!1))],1)],1):i._e(),i.checklists?s("b-radio-button",{attrs:{"native-value":"Checklists",disabled:!i.gotAircraft},model:{value:i.modalName,callback:function(o){i.modalName=o},expression:"modalName"}},[s("b-tooltip",i._b({attrs:{label:"Checklists"}},"b-tooltip",i.tooltip,!1),[s("b-icon",i._b({attrs:{icon:"list-status"}},"b-icon",i.icon,!1))],1)],1):i._e(),i.vac?s("b-radio-button",{attrs:{"native-value":"Charts"},model:{value:i.modalName,callback:function(o){i.modalName=o},expression:"modalName"}},[s("b-tooltip",i._b({attrs:{label:"VAC"}},"b-tooltip",i.tooltip,!1),[s("b-icon",i._b({attrs:{icon:"airport"}},"b-icon",i.icon,!1))],1)],1):i._e(),i.weather?s("b-radio-button",{attrs:{"native-value":"Weather"},model:{value:i.modalName,callback:function(o){i.modalName=o},expression:"modalName"}},[s("b-tooltip",i._b({attrs:{label:"Weather"}},"b-tooltip",i.tooltip,!1),[s("b-icon",i._b({attrs:{icon:"windsock"}},"b-icon",i.icon,!1))],1)],1):i._e(),i.aip?s("b-radio-button",{attrs:{"native-value":"AeronauticalInformations"},model:{value:i.modalName,callback:function(o){i.modalName=o},expression:"modalName"}},[s("b-tooltip",i._b({attrs:{label:"AIP & Notams"}},"b-tooltip",i.tooltip,!1),[s("b-icon",i._b({attrs:{icon:"message-flash"}},"b-icon",i.icon,!1))],1)],1):i._e(),i.balance?s("b-radio-button",{attrs:{"native-value":"Balance",disabled:!i.gotAircraft},model:{value:i.modalName,callback:function(o){i.modalName=o},expression:"modalName"}},[s("b-tooltip",i._b({attrs:{label:"Balance"}},"b-tooltip",i.tooltip,!1),[s("b-icon",i._b({attrs:{icon:"weight"}},"b-icon",i.icon,!1))],1)],1):i._e()],1)},a=[],NavigationLogvue_type_template_id_311e76c0_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("section",{staticClass:"box"},[s("b-tabs",{staticClass:"box",attrs:{multiline:""},model:{value:i.selectedRoute,callback:function(o){i.selectedRoute=o},expression:"selectedRoute"}},[s("b-tab-item",{attrs:{label:"Summary",icon:"file-replace-outline"}},[s("b-field",{attrs:{label:"Average Speed",horizontal:"",addons:""}},[s("b-speed",{attrs:{controls:!1},model:{value:i.selectedPace,callback:function(o){i.selectedPace=o},expression:"selectedPace"}}),i.aircraftPaces||i.currentSpeed?s("b-select",{attrs:{placeholder:"aircraft pace"},model:{value:i.selectedPace,callback:function(o){i.selectedPace=o},expression:"selectedPace"}},[i.currentSpeed?s("option",{domProps:{value:i.currentSpeed}},[i._v(" Current speed ("+i._s(i.currentSpeed)+") ")]):i._e(),i._l(i.aircraftPaces,(function(o){return s("option",{key:o.name,domProps:{value:o}},[i._v(" "+i._s(o.name)+" ("+i._s(o)+") ")])}))],2):i._e()],1),s("nav",{staticClass:"level"},[s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[i._v(" Total Distance ")]),s("p",{staticClass:"title"},[i._v(" "+i._s(i._f("as")(i.navigationDistance(i.navigation),"NM",2))+" ")])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[i._v(" Estimated Time ")]),s("p",{staticClass:"title"},[i._v(" "+i._s(i._f("asDuration")(i.navigationETE(i.navigation),1e3))+" ")])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[i._v(" Fuel to be consumed ")]),s("p",{staticClass:"title"},[i._v(" - L ")])])])]),s("div",{staticClass:"content"},[s("blockquote",{staticStyle:{"white-space":"pre-line"}},[i._v(" "+i._s(i.navigation.notes)+" ")])]),s("b-field",{attrs:{label:"Notes"}},[s("b-notepad",{model:{value:i.flight.notes,callback:function(o){i.$set(i.flight,"notes",o)},expression:"flight.notes"}})],1)],1),i._l(i.navigation.routes,(function(o,a){return s("b-tab-item",{key:a,attrs:{label:""+(a+1),icon:"chevron-triple-right"}},[s("table",{staticClass:"table is-narrow is-hoverable is-fullwidth"},[s("colgroup",[s("col",{attrs:{span:"3"}}),s("col",{attrs:{span:"3"}})]),s("thead",[s("tr",[s("th",[i._v("Waypoint")]),s("th",[i._v("Alt.")]),s("th",[i._v("Notes")]),s("th",[i._v("Bearing")]),s("th",[i._v("Distance")]),s("th",[i._v("ETE")])])]),s("tfoot",[s("tr",[s("th"),s("th",[i._v("min Alt.")]),s("th"),s("th"),s("th",{staticClass:"has-text-right is-size-4"},[i._v(" "+i._s(i._f("as")(i.routeDistance(o),"NM",3))+" ")]),s("th",{staticClass:"has-text-right is-size-4"},[i._v(" "+i._s(i._f("asDuration")(i.routeETE(o),1e3))+" ")])])]),s("tbody",[i._l(o,(function(a,l){return[s("tr",{key:"wp_"+l},[s("td",{attrs:{rowspan:"2"}},[s("b-icon",{attrs:{icon:"numeric-"+l+"-circle-outline"}}),i._v(" "+i._s(a.name)+" ")],1),s("td",{attrs:{rowspan:"2"}},[i._v(" "+i._s(a.altitude)+" ")]),s("td",{attrs:{rowspan:"2"}},[i._v(" "+i._s(a.notes)+" ")]),0==l?s("td",{attrs:{colspan:"3",height:"1em"}}):i._e()]),l+1<o.length?s("tr",{key:"leg_"+l},[s("td",{staticClass:"has-text-right is-size-4",attrs:{rowspan:"2"}},[i._v(" "+i._s(i._f("as")(i.legBearing(o,l),"°",3))+" ")]),s("td",{staticClass:"has-text-right is-size-4",attrs:{rowspan:"2"}},[i._v(" "+i._s(i._f("as")(i.legDistance(o,l),"NM",3))+" ")]),s("td",{staticClass:"has-text-right is-size-4",attrs:{rowspan:"2"}},[i._v(" "+i._s(i._f("asDuration")(i.legETE(o,l),1e3))+" ")])]):s("tr",{key:"fill_"+l},[s("td",{attrs:{colspan:"2",height:"1em"}})])]}))],2)])])}))],2)],1)},l=[],h=s("3634"),d=s("2e0e"),p=s("7d8a"),m=s("5a64"),f={name:"NavigationLog",mixins:[d["a"]],components:{BSpeed:p["a"],BNotepad:m["a"]},data(){return{selectedRoute:void 0,selectedPace:void 0}},computed:{navigation(){return this.$store.state.currentNavigation},flight(){return this.$store.state.currentFlight},aircraftPaces(){return this.$store.state.currentAircraft&&this.$store.state.currentAircraft.paces},currentSpeed(){return this.$store.state.currentLocation&&this.$store.state.currentLocation.speed&&this.$store.state.currentLocation.speed.as("kt")}},methods:{navigationDistance(i){return new h["d"](i.routes.items.reduce((i,o)=>i+this.routeDistance(o),0))},navigationETE(i){return this.navigationDistance(i)/this.selectedPace},routeDistance(i){let o=0;return i.items.reduce((i,s)=>(i&&(o+=i.distanceTo(s)),s),null),new h["d"](o)},routeETE(i){return this.routeDistance(i)/this.selectedPace},waypointPair(i,o){if(!(o+1>=i.length))return[i.items[o],i.items[o+1]]},legDistance(i,o){const[s,a]=this.waypointPair(i,o);return s.distanceTo(a)},legBearing(i,o){const[s,a]=this.waypointPair(i,o);return s.bearingTo(a)},legETE(i,o){return this.legDistance(i,o)/this.selectedPace}}},_=f,v=s("2877"),g=Object(v["a"])(_,NavigationLogvue_type_template_id_311e76c0_render,l,!1,null,null,null),y=g.exports,Checklistsvue_type_template_id_dcad6fb4_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("section",{staticClass:"section"},[s("b-tabs",{staticClass:"box",attrs:{multiline:""},model:{value:i.currentCL,callback:function(o){i.currentCL=o},expression:"currentCL"}},[i.paces?s("b-tab-item",{attrs:{label:"Paces"}},[s("div",{staticClass:"grid"},i._l(i.paces,(function(o){return s("div",{key:o.name,staticClass:"notification is-primary"},[s("h1",{staticClass:"title"},[s("b",[i._v(i._s(o))])]),s("h2",{staticClass:"subtitle"},[i._v(" "+i._s(o.name)+" ")])])})),0)]):i._e(),i._l(i.checklists,(function(o){return s("b-tab-item",{key:o.name,attrs:{label:o.name}},[s("b-table",{attrs:{data:o.items,checkable:"","is-row-checkable":function(i){return!!i.expect},"checkbox-position":"right","checked-rows":i.checked,"header-checkable":!1,"mobile-cards":!1,"row-class":function(i){return i.action&&"is-selected"}},on:{"update:checkedRows":function(o){i.checked=o},"update:checked-rows":function(o){i.checked=o}},scopedSlots:i._u([{key:"empty",fn:function(){return[s("section",{staticClass:"section"},[s("div",{staticClass:"content has-text-grey has-text-centered"},[s("p",[i._v("Nothing here. Configure the aircraft first.")])])])]},proxy:!0},{key:"bottom-left",fn:function(){return[s("b-button",{attrs:{type:"is-primary"},on:{click:function(o){i.currentCL=(i.currentCL+1)%(i.checklists.length+1)}}},[i._v("Next C/L")])]},proxy:!0}],null,!0)},[s("b-table-column",{attrs:{field:"name",label:"Name","td-attrs":function(i){return i.expect?{colspan:1}:{colspan:2,class:"has-text-centered"}}},scopedSlots:i._u([{key:"default",fn:function(o){return[i._v(i._s(o.row.name))]}}],null,!0)}),s("b-table-column",{attrs:{field:"expect",label:"Expectation","td-attrs":function(i){return i.expect?{}:{class:"is-hidden"}}},scopedSlots:i._u([{key:"default",fn:function(o){return[i._v(i._s(o.row.expect))]}}],null,!0)})],1)],1)}))],2)],1)},b=[],x={name:"Checklists",data(){return{currentCL:0}},computed:{checklists(){return this.$store.state.currentAircraft.checklists},paces(){return this.$store.state.currentAircraft.paces},checked:{get(){return this.$store.state.currentFlight.checked},set(i){this.$store.state.currentFlight.checked=i}}}},L=x,C=Object(v["a"])(L,Checklistsvue_type_template_id_dcad6fb4_render,b,!1,null,null,null),P=C.exports,Chartsvue_type_template_id_7516b46b_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("section",{staticClass:"box"},[s("b-tabs",{attrs:{position:"is-centered","destroy-on-hide":""}},[s("b-tab-item",{attrs:{label:"VAC"}},[s("SiaVac")],1),s("b-tab-item",{attrs:{label:"BasULM",disabled:""}}),s("b-tab-item",{attrs:{label:"Instrument approach",disabled:""}})],1)],1)},O=[],T=s("1b49"),S={name:"Charts",components:{SiaVac:T["a"]}},A=S,k=Object(v["a"])(A,Chartsvue_type_template_id_7516b46b_render,O,!1,null,null,null),E=k.exports,Weathervue_type_template_id_72f90fd0_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("section",{staticClass:"box"},[s("b-loading",{attrs:{"is-full-page":!1,active:void 0===i.validated&&!i.error}},[s("b-notification",{attrs:{"has-icon":"",icon:"alert-circle-outline",closable:!1,"aria-close-label":"Close notification"}},[s("h4",{staticClass:"title"},[i._v("Aeroweb Server Unavailable")]),s("p",{staticClass:"heading"},[i._v(" Check your connection or use Meteo France server directly ")]),s("a",{attrs:{href:"https://aviation.meteo.fr",target:"_blank"}},[i._v("https://aviation.meteo.fr")])])],1),s("b-tabs",{attrs:{position:"is-centered","destroy-on-hide":""}},[s("b-tab-item",{attrs:{label:"Bulletin"}},[s("AerowebBulletin")],1),s("b-tab-item",{attrs:{label:"Charts"}},[s("AerowebCharts")],1),s("b-tab-item",{attrs:{label:"Radar",disabled:""}})],1)],1)},j=[],M=s("5026"),z=s("1a7a"),B=s("10ca"),N={name:"Weather",components:{AerowebBulletin:M["a"],AerowebCharts:z["a"]},mixins:[B["a"]],data(){return{validated:void 0,error:!1}},async mounted(){this.validated=await this.validateUser("navue")},methods:{async validateUser(i){try{return clearTimeout(this.error),this.error=!1,await this.aerowebInstance.VALIDATION(i)}catch(o){console.error(o),this.error=setTimeout(this.validateUser,3e3,i)}}}},I=N,D=Object(v["a"])(I,Weathervue_type_template_id_72f90fd0_render,j,!1,null,null,null),R=D.exports,AeronauticalInformationsvue_type_template_id_87b43acc_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("section",{staticClass:"box"},[s("b-tabs",{attrs:{position:"is-centered","destroy-on-hide":""}},[s("b-tab-item",{attrs:{label:"Notam"}},[s("SiaNotam")],1),s("b-tab-item",{attrs:{label:"AZBA"}},[s("SiaAzba")],1),s("b-tab-item",{attrs:{label:"Sup AIP",disabled:""}})],1)],1)},Z=[],$=s("c7ad"),U=s("dd70"),q={name:"AeronauticalInformations",components:{SiaNotam:$["a"],SiaAzba:U["a"]}},W=q,V=Object(v["a"])(W,AeronauticalInformationsvue_type_template_id_87b43acc_render,Z,!1,null,null,null),H=V.exports,Balancevue_type_template_id_3fe094b6_render=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("section",{staticClass:"box"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[0==i.balance.length?s("div",{staticClass:"notification is-primary",attrs:{"has-icon":""}},[i._v(" At least one weight should be configured prior to use this tool. "),s("router-link",{attrs:{to:{name:"Aircraft",hash:"#moments"}}},[i._v("Set them before")])],1):i._e(),i._l(i.moments,(function(o,a){var l=o.name,h=o.mass;return s("b-field",{key:a,attrs:{label:l,grouped:"",horizontal:""}},[s("b-slider",{attrs:{min:h.min,max:h.max,"custom-formatter":function(){return h.toString()},tooltip:!1},model:{value:h.value,callback:function(o){i.$set(h,"value",o)},expression:"mass.value"}}),s("p",{staticClass:"control"},[s("b-tag",[i._v(i._s(h))])],1)],1)})),s("nav",{staticClass:"level"},[s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[i._v("Total weight")]),s("p",{staticClass:"title"},[i._v(i._s(i.cgFullTank.mass))])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[i._v("Mean Arm")]),s("p",{staticClass:"title"},[i._v(i._s(i.cgFullTank.lever))])])])])],2),s("div",{staticClass:"column"},[0==i.envelopes.length?s("div",{staticClass:"notification is-primary",attrs:{"has-icon":""}},[i._v(" At least one envelope should be configured prior to use this tool. "),s("router-link",{attrs:{to:{name:"Aircraft",hash:"#envelops"}}},[i._v("Go, and set some")])],1):s("BalanceChart",{attrs:{"chart-data":i.datasets}})],1)])])},J=[],K=s("548d"),G=s("08df"),X=s("bd67"),Y=s("0c9a"),Q={name:"Balance",components:{BalanceChart:K["a"]},mixins:[G["a"]],data(){return{moments:new X["b"]}},computed:{balance(){return this.$store.state.currentAircraft.balance},envelopes(){return this.$store.state.currentAircraft.envelopes},cgFullTank(){return Y["a"].linearCoG(this.moments.items)},cgEmptyTank(){return Y["a"].linearCoG(this.moments.items.filter(i=>!i.tank))},datasets(){return{datasets:[...this.envelopes.items.map(i=>({...this.envelopesDataset,label:i.name,data:i.items.map(i=>this.toCoords(i))})),{...this.cgDataset,data:[this.toCoords(this.cgFullTank)],label:"Full tank"},{...this.cgDataset,data:[this.toCoords(this.cgEmptyTank)],label:"Empty tank"}]}}},methods:{toCoords({mass:i,lever:o}){return{x:Number(o),y:Number(i)}}},watch:{balance:{immediate:!0,handler(i){this.moments=X["b"].from(JSON.parse(JSON.stringify(i)),Y["a"])}}}},tt=Q,et=Object(v["a"])(tt,Balancevue_type_template_id_3fe094b6_render,J,!1,null,null,null),nt=et.exports,it={name:"ReportToolbox",components:{NavigationLog:y,Checklists:P,Charts:E,Weather:R,AeronauticalInformations:H,Balance:nt},props:{tooltip:Object,icon:Object,edit:Boolean,navlog:Boolean,checklists:Boolean,vac:Boolean,weather:Boolean,aip:Boolean,balance:Boolean},data(){return{modalName:null}},computed:{gotNavigation(){return!!this.$store.state.currentNavigation},gotAircraft(){return!!this.$store.state.currentAircraft}},watch:{modalName(i){i&&(this.modal=this.$buefy.modal.open({parent:this,component:this.$options.components[i],hasModalCard:!1,trapFocus:!0,appendToBody:!0,onCancel:()=>this.modalName=void 0}))}}},ot=it,st=Object(v["a"])(ot,render,a,!1,null,null,null);o["a"]=st.exports},fbba:function(i,o,s){"use strict";var a=s("e11e"),capitalizeFirstLetter=function(i){return i&&"function"===typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i},propsBinder=function(i,o,s,l){var loop=function(l){var h="set"+capitalizeFirstLetter(l),d=s[l].type===Object||s[l].type===Array||Array.isArray(s[l].type);s[l].custom&&i[h]?i.$watch(l,(function(o,s){i[h](o,s)}),{deep:d}):"setOptions"===h?i.$watch(l,(function(i,s){Object(a["setOptions"])(o,i)}),{deep:d}):o[h]&&i.$watch(l,(function(i,s){o[h](i)}),{deep:d})};for(var h in s)loop(h)},collectionCleaner=function(i){var o={};for(var s in i){var a=i[s];null!==a&&void 0!==a&&(o[s]=a)}return o},optionsMerger=function(i,o){var s=o.options&&o.options.constructor===Object?o.options:{};i=i&&i.constructor===Object?i:{};var a=collectionCleaner(s);i=collectionCleaner(i);var l=o.$options.props;for(var h in i){var d=l[h]?l[h].default:Symbol("unique");a[h]&&d!==i[h]?(console.warn(h+" props is overriding the value passed in the options props"),a[h]=i[h]):a[h]||(a[h]=i[h])}return a},findRealParent=function(i){var o=!1;while(i&&!o)void 0===i.mapObject?i=i.$parent:o=!0;return i},l={name:"LIcon",props:{iconUrl:{type:String,custom:!0,default:null},iconRetinaUrl:{type:String,custom:!0,default:null},iconSize:{type:[Object,Array],custom:!0,default:null},iconAnchor:{type:[Object,Array],custom:!0,default:null},popupAnchor:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},tooltipAnchor:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},shadowUrl:{type:String,custom:!0,default:null},shadowRetinaUrl:{type:String,custom:!0,default:null},shadowSize:{type:[Object,Array],custom:!0,default:null},shadowAnchor:{type:[Object,Array],custom:!0,default:null},bgPos:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},className:{type:String,custom:!0,default:""},options:{type:Object,custom:!0,default:function(){return{}}}},data:function data(){return{parentContainer:null,observer:null,recreationNeeded:!1,swapHtmlNeeded:!1}},mounted:function mounted(){var i=this;this.parentContainer=findRealParent(this.$parent),propsBinder(this,this.$parent.mapObject,this.$options.props),this.observer=new MutationObserver((function(){i.scheduleHtmlSwap()})),this.observer.observe(this.$el,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),this.scheduleCreateIcon()},beforeDestroy:function beforeDestroy(){this.parentContainer.mapObject&&this.parentContainer.mapObject.setIcon(this.parentContainer.$props.icon),this.observer.disconnect()},methods:{scheduleCreateIcon:function scheduleCreateIcon(){this.recreationNeeded=!0,this.$nextTick(this.createIcon)},scheduleHtmlSwap:function scheduleHtmlSwap(){this.htmlSwapNeeded=!0,this.$nextTick(this.createIcon)},createIcon:function createIcon(){if(this.htmlSwapNeeded&&!this.recreationNeeded&&this.iconObject&&this.parentContainer.mapObject.getElement())return this.parentContainer.mapObject.getElement().innerHTML=this.$el.innerHTML,void(this.htmlSwapNeeded=!1);if(this.recreationNeeded){this.iconObject&&a["DomEvent"].off(this.iconObject,this.$listeners);var i=optionsMerger({iconUrl:this.iconUrl,iconRetinaUrl:this.iconRetinaUrl,iconSize:this.iconSize,iconAnchor:this.iconAnchor,popupAnchor:this.popupAnchor,tooltipAnchor:this.tooltipAnchor,shadowUrl:this.shadowUrl,shadowRetinaUrl:this.shadowRetinaUrl,shadowSize:this.shadowSize,shadowAnchor:this.shadowAnchor,bgPos:this.bgPos,className:this.className,html:this.$el.innerHTML||this.html},this);i.html?this.iconObject=Object(a["divIcon"])(i):this.iconObject=Object(a["icon"])(i),a["DomEvent"].on(this.iconObject,this.$listeners),this.parentContainer.mapObject.setIcon(this.iconObject),this.recreationNeeded=!1,this.htmlSwapNeeded=!1}},setIconUrl:function setIconUrl(){this.scheduleCreateIcon()},setIconRetinaUrl:function setIconRetinaUrl(){this.scheduleCreateIcon()},setIconSize:function setIconSize(){this.scheduleCreateIcon()},setIconAnchor:function setIconAnchor(){this.scheduleCreateIcon()},setPopupAnchor:function setPopupAnchor(){this.scheduleCreateIcon()},setTooltipAnchor:function setTooltipAnchor(){this.scheduleCreateIcon()},setShadowUrl:function setShadowUrl(){this.scheduleCreateIcon()},setShadowRetinaUrl:function setShadowRetinaUrl(){this.scheduleCreateIcon()},setShadowAnchor:function setShadowAnchor(){this.scheduleCreateIcon()},setBgPos:function setBgPos(){this.scheduleCreateIcon()},setClassName:function setClassName(){this.scheduleCreateIcon()},setHtml:function setHtml(){this.scheduleCreateIcon()}},render:function render(){return null}};function normalizeComponent(i,o,s,a,l,h,d,p,m,f){"boolean"!==typeof d&&(m=p,p=d,d=!1);var _,v="function"===typeof s?s.options:s;if(i&&i.render&&(v.render=i.render,v.staticRenderFns=i.staticRenderFns,v._compiled=!0,l&&(v.functional=!0)),a&&(v._scopeId=a),h?(_=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,i||"undefined"===typeof __VUE_SSR_CONTEXT__||(i=__VUE_SSR_CONTEXT__),o&&o.call(this,m(i)),i&&i._registeredComponents&&i._registeredComponents.add(h)},v._ssrRegister=_):o&&(_=d?function(i){o.call(this,f(i,this.$root.$options.shadowRoot))}:function(i){o.call(this,p(i))}),_)if(v.functional){var g=v.render;v.render=function renderWithStyleInjection(i,o){return _.call(o),g(i,o)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,_):[_]}return s}"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var h=l,__vue_render__=function(){var i=this,o=i.$createElement,s=i._self._c||o;return s("div",[i._t("default")],2)},d=[],p=void 0,m=void 0,f=void 0,_=!1,v=normalizeComponent({render:__vue_render__,staticRenderFns:d},p,h,m,_,f,!1,void 0,void 0,void 0);o["a"]=v}}]);