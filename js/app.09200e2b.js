(function(e){function t(t){for(var a,r,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==s[o]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},s={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0e170976":"3cce940e","chunk-2d21ab15":"07c5d79e","chunk-66bef6a2":"87c60187","chunk-2d22d746":"22100300","chunk-43bcdde4":"f985002b","chunk-27572792":"9eef06d1","chunk-3c89ec4a":"d418d55c","chunk-59f8f64c":"b34ae837","chunk-711914f4":"1541584c","chunk-c84177a4":"07e5c014","chunk-00e749d9":"2d5a5bba","chunk-bf374756":"841ef3d1"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0e170976":1,"chunk-43bcdde4":1,"chunk-3c89ec4a":1,"chunk-59f8f64c":1,"chunk-c84177a4":1,"chunk-00e749d9":1,"chunk-bf374756":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-0e170976":"af739a40","chunk-2d21ab15":"31d6cfe0","chunk-66bef6a2":"31d6cfe0","chunk-2d22d746":"31d6cfe0","chunk-43bcdde4":"74064865","chunk-27572792":"31d6cfe0","chunk-3c89ec4a":"836a135b","chunk-59f8f64c":"42a4b553","chunk-711914f4":"31d6cfe0","chunk-c84177a4":"6175ea10","chunk-00e749d9":"48d2b289","chunk-bf374756":"3f78fcb6"}[e]+".css",s=c.p+a,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===s))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===a||u===s)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],h.parentNode.removeChild(h),n(i)},h.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){r[e]=0})));var a=s[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=s[e]=[t,n]}));t.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var n=s[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}s[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"039a":function(e,t,n){"use strict";var a=n("7174"),r=n.n(a);r.a},1:function(e,t){},"1caf":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("bd67"),r=n("f9de");class s extends a["a"]{constructor({name:e,notes:t,routes:n=[]}={}){n.forEach((e,t)=>{if(!(e instanceof Array))throw`'${e}' cannot be coerced in a route`;e.forEach((e,a)=>{n[t][a]=new r["b"](e)})}),super({name:e,notes:t,routes:n}),this.type="navigation"}addRoute(...e){return this.routes.push(e),this.routes[this.routes.length-1]}removeRoute(e){return this.routes.splice(this.getRouteId(e),1)}clearRoute(e){if(e=this.getRoute(e),0==e.length)return this.removeRoute(e),!0}addWaypoint({insertBefore:e,...t}={},n){return n=this.getRoute(n),t=new r["b"](t),e?n.splice(e,0,t):n.push(t)}removeWaypoint(e,t){return t=this.getRoute(t),e instanceof r["b"]?t.splice(t.indexOf(e),1):t.splice(e,1)}getNextWaypoint(e){const t=this.routes.flat().indexOf(e);return this.routes.flat()[t+1]}getRoute(e){return e instanceof Array?e:isFinite(e)?this.routes[e]:this.routes[this.routes.length-1]}getRouteId(e){return e instanceof Array?this.routes.indexOf(e):isFinite(e)?e:this.routes.length-1}}},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("router-view")],1)},s=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar",{staticClass:"is-radiusless",attrs:{"fixed-top":""}},[n("template",{slot:"brand"},[n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[n("img",{attrs:{src:"img/icons/android-chrome-192x192.png",alt:"Navue, a navigation tool for general aviation."}})])],1),n("template",{slot:"start"},[n("b-navbar-dropdown",{attrs:{label:"Briefing Room",collapsible:"",hoverable:""}},[n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Aircraft"}}},[e._v("Aircrafts")]),n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Route"}}},[e._v("Navigation route")]),n("b-navbar-item",{attrs:{tag:"router-link",to:"approach"}},[e._v("Approach Charts")]),n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Weather"}}},[e._v("Weather")]),n("b-navbar-item",{attrs:{tag:"router-link",to:"notam"}},[e._v("NOTAM, AZBA")]),n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Balance"}}},[e._v("Weight and Balance")]),n("hr",{staticClass:"navbar-divider"})],1),n("b-navbar-dropdown",{attrs:{label:"Fly",hoverable:"",collapsible:""}},[n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Checklists"}}},[e._v("Checklists")]),n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"MovingMap"}}},[e._v("Moving Map")]),n("hr",{staticClass:"navbar-divider"})],1)],1),n("template",{slot:"end"},[null!==e.aircraftSelect?n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Aircraft",params:{id:e.currentAircraft?e.currentAircraft._id:null}}}},[e._v(e._s(e.currentAircraft?e.currentAircraft.registration:"Aircraft"))]):e._e(),n("b-navbar-dropdown",{attrs:{hoverable:"",collapsible:"",right:""}},[n("template",{slot:"label"},[n("b-icon",{attrs:{icon:"account"}})],1),n("div",{staticClass:"navbar-item"},[n("Login")],1)],2)],1)],2)},o=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"min-width":"30vw"}},[n("b-loading",{attrs:{"is-full-page":!1,active:!!e.error}},[n("b-notification",{attrs:{"has-icon":"",icon:"alert-circle-outline",closable:!1,"aria-close-label":"Close notification"}},[n("h4",{staticClass:"title"},[e._v("Navue User Server Unavailable")]),n("p",{staticClass:"heading"},[e._v(" Check your connection ")])])],1),e.currentUser?n("div",[n("nav",{staticClass:"level is-mobile"},[n("div",{staticClass:"level-item has-text-centered"},[n("b-icon",{attrs:{icon:e.syncIcon}})],1),n("div",{staticClass:"level-item has-text-centered"},[n("h5",{staticClass:"title is-5"},[e._v(e._s(e.currentUser.name))])])]),n("nav",{staticClass:"level"},[n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[e._v("Aircrafts")]),n("p",{staticClass:"title"},[e._v(e._s(e.userStats.aircraft||0))])])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[e._v("Navigations")]),n("p",{staticClass:"title"},[e._v(e._s(e.userStats.navigation||0))])])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[e._v("Flight hours")]),n("p",{staticClass:"title"},[e._v(e._s(e.userStats.flightduration||0))])])]),n("div",{staticClass:"level-item has-text-centered"},[n("div",[n("p",{staticClass:"heading"},[e._v("Storage Quota")]),n("p",{staticClass:"title"},[e._v(e._s(e._f("percent")(e.userStats.quota||0)))])])])]),n("nav",{staticClass:"level"},[n("div",{staticClass:"level-item has-text-centered"},[n("b-button",{attrs:{type:"is-primary","icon-left":"account-arrow-right-outline"},on:{click:e.logoutUser}},[e._v("Sign out")])],1),n("div",{staticClass:"level-item has-text-centered"},[n("b-button",{attrs:{type:"is-primary is-light","icon-left":"account-edit-outline"},on:{click:function(t){e.openDetails=!0}}},[e._v("Edit")])],1)]),e.currentUser?n("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("UserEdit",{on:{close:t.close,"update-user":e.checkSession},model:{value:e.currentUser,callback:function(t){e.currentUser=t},expression:"currentUser"}})]}}],null,!1,388751030),model:{value:e.openDetails,callback:function(t){e.openDetails=t},expression:"openDetails"}}):e._e()],1):n("fieldset",[n("b-field",{attrs:{label:"Email"}},[n("b-input",{attrs:{type:"email",icon:"email",placeholder:"pilote@navue.io",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),n("b-field",{attrs:{label:"Password"}},[n("b-input",{attrs:{type:"password",icon:"lock",placeholder:"*******",required:"","password-reveal":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("b-field",{attrs:{"is-grouped":""}},[n("b-button",{staticClass:"is-primary",attrs:{"icon-left":"account-arrow-left-outline",expanded:""},on:{click:function(t){return e.loginUser(e.username,e.password)}}},[e._v("Sign in")]),n("b-button",{staticClass:"is-primary is-light",attrs:{"icon-left":"account-plus-outline"},on:{click:function(t){return e.newUser(e.username,e.password)}}},[e._v("Create Account")]),e.gotLocalData?n("b-button",{staticClass:"is-danger is-light",attrs:{"icon-left":"database-remove"},on:{click:e.cleanLocal}},[e._v("Clear device")]):e._e()],1)],1)],1)},l=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card",staticStyle:{width:"max-content"}},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v(e._s(e.value.name))]),n("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}})]),n("fieldset",{staticClass:"modal-card-body"},[n("b-taglist",e._l(e.value.roles,(function(t){return n("b-tag",{key:t,attrs:{type:"is-primary",size:"is-medium"}},[e._v(e._s(t))])})),1),n("b-field",{attrs:{label:"Licences"}},[n("b-taginput",{attrs:{ellipsis:"",icon:"label",placeholder:"Add a Licence","aria-close-label":"Delete this tag"},model:{value:e.value.licences,callback:function(t){e.$set(e.value,"licences",t)},expression:"value.licences"}})],1),n("b-field",{attrs:{label:"Organization"}},[n("b-input",{attrs:{type:"text",icon:"domain"},model:{value:e.value.organization,callback:function(t){e.$set(e.value,"organization",t)},expression:"value.organization"}})],1),n("div",{staticClass:"divider is-danger"},[e._v("Danger Zone")]),n("b-field",{attrs:{label:"New Password",type:"is-warning"}},[n("b-input",{attrs:{type:"password","password-reveal":"",autocomplete:"new-password",icon:"account-key"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),n("p",{staticClass:"control"},[n("b-button",{attrs:{type:"is-warning is-light","icon-left":"lock-reset"},on:{click:function(t){return e.updatePassword(e.value.name,e.newPassword)}}},[e._v("Change Password")])],1)],1)],1),n("footer",{staticClass:"modal-card-foot"},[n("b-button",{attrs:{type:"is-primary","icon-left":"account-edit-outline",expanded:""},on:{click:function(t){return e.updateUser(e.value.name,e.metadata)}}},[e._v("Save")]),n("b-button",{attrs:{type:"is-danger","icon-left":"account-remove"},on:{click:function(t){return e.deleteUser(e.value.name)}}},[e._v("Delete Account")])],1)])},d=[];const h={data(){return{syncHandle:null,remoteDbUrl:new URL("https://db.treville.fr:8443")}},computed:{remoteDB(){return this.$pouch.getDB(this.remoteDbUrl)}},methods:{getCurrentUser(){return this.remoteDB.getSession().then(e=>new Promise((t,n)=>{e.userCtx.name?t(e.userCtx.name):n(new Error("No session available."))})).then(e=>this.remoteDB.getUser(e))},userDBname(e){return"userdb-"+Array.from(e).map(e=>e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/%/g,"").toLowerCase()).join("")},getUserStats(e){return e.query({map:(e,t)=>{t(e.type)},reduce:"_count"},{group:!0}).then(e=>e.rows.reduce((e,t)=>(e[t.key]=t.value,e),{})).catch(console.error)},stopSync(){if(this.syncHandle)return this.syncHandle.cancel()},confirmAction(e){return this.$buefy.dialog.confirm({type:"is-danger",hasIcon:!0,...e})},openToast(e){this.$buefy.toast.open({duration:2e3,position:"is-top",type:"is-danger",...e})}}};var p={name:"UserEdit",mixins:[h],data(){return{newPassword:null,confirm:{deleteUser:{title:"Deleting account",message:"Are you sure you want to <b>delete</b> your account? This action cannot be undone.",confirmText:"Delete Account"},updatePassword:{title:"Change Password",message:"Are you sure you want to <b>change</b> current password.",confirmText:"Change password"}}}},props:["value"],computed:{metadata(){return{licences:this.value.licences,organization:this.value.organization}}},methods:{deleteUser(e){return this.confirmAction(this.confirm.deleteUser).then(()=>this.remoteDB.deleteUser(e)).then(()=>{this.$emit("update-user"),this.$emit("close")}).catch(this.openToast)},updateUser(e,t){return this.remoteDB.putUser(e,{metadata:t}).then(()=>{this.$emit("update-user"),this.$emit("close")}).catch(this.openToast)},updatePassword(e,t){return this.confirmAction(this.confirm.updatePassword).then(()=>this.remoteDB.changePassword(e,t)).then(()=>{this.$emit("close")}).finally(()=>{this.newPassword=null}).catch(this.openToast)}}},m=p,f=n("2877"),v=Object(f["a"])(m,u,d,!1,null,null,null),g=v.exports,b={name:"Login",components:{UserEdit:g},mixins:[h],data(){return{openDetails:!1,username:null,password:null,userStats:{},syncIcon:"cloud-off-outline",serverPresent:void 0,error:!1}},async mounted(){this.serverPresent=await this.checkServer("navue")},computed:{currentUser:{get(){return this.$store.state.currentUser},set(e){this.$store.commit("currentUser",e)}},gotLocalData(){return this.userStats.constructor===Object&&Object.keys(this.userStats).length>0}},created(){this.setCurrentUser().then(this.startSync).catch(e=>{console.info(e.message)}).finally(this.setUserStats)},methods:{async checkServer(e){try{return clearTimeout(this.error),this.error=!1,await this.remoteDB.info()}catch(t){this.error=setTimeout(this.checkServer,3e3,e)}},newUser(e,t){return this.remoteDB.signUp(e,t).then(this.loginUser(e,t)).catch(this.openToast)},loginUser(e,t){return this.remoteDB.logIn(e,t).catch(this.openToast).then(this.setCurrentUser).then(this.startSync).finally(()=>{this.username=this.password=null})},logoutUser(){return this.remoteDB.logOut().then(this.stopSync).catch(this.openToast).finally(this.cleanLocal)},setCurrentUser(){return this.getCurrentUser().then(e=>(this.currentUser=e,this.$pouch.getDB(new URL(this.userDBname(e.name),this.remoteDbUrl))))},setUserStats(){return this.getUserStats(this.$pouch).then(e=>this.userStats={...e}).finally(()=>{navigator.storage.estimate().then(e=>{this.userStats.quota=e.usage/e.quota})})},checkSession(){return this.setCurrentUser().catch(this.logoutUser)},startSync(e){this.syncHandle&&this.stopSync(),this.syncHandle=this.$pouch.sync(e).on("active",()=>this.syncIcon="cloud-sync-outline fade").on("active",()=>console.info("Syncing.")).on("change",()=>this.syncIcon="cloud-sync-outline fade").on("change",this.setUserStats).on("paused",()=>this.syncIcon="cloud-check-outline").on("complete",()=>this.syncIcon="cloud-off-outline").on("error",this.openToast).on("error",()=>this.syncIcon="weather-cloudy-alert").on("denied",this.openToast).on("denied",()=>this.syncIcon="weather-cloudy-alert"),Promise.resolve(this.syncHandle)},cleanLocal(){return this.$pouch.destroy().then(()=>{this.userStats={},this.currentUser=null}).then(()=>this.$pouch.getDB("trace").destroy()).then(console.info("Browser cleaned."))}},filters:{percent(e){return Math.ceil(100*e)+"%"}}},y=b,k=(n("039a"),Object(f["a"])(y,c,l,!1,null,null,null)),w=k.exports,C={name:"Navbar",components:{Login:w},computed:{currentAircraft(){return this.$store.state.currentAircraft},aircraftSelect:{get(){return this.$store.state.aircraftSelect},set(e){this.$store.commit("aircraftSelect",e)}}}},_=C,S=Object(f["a"])(_,i,o,!1,null,null,null),U=S.exports,x={components:{Navbar:U}},A=x,P=(n("5c0b"),Object(f["a"])(A,r,s,!1,null,null,null)),D=P.exports,T=n("acfa"),B=n("2c4e");if("serviceWorker"in navigator){const e=new T["a"]("/service-worker.js");e.addEventListener("installed",e=>{e.isUpdate?B["a"].open({type:"is-warning",message:"Loading new version of naVue.",actionText:null,indefinite:!1,duration:1e3}):B["a"].open({type:"is-warning",message:"naVue is now installed on your device.",actionText:null,indefinite:!1,duration:1e3})}),e.addEventListener("waiting",()=>{B["a"].open({type:"is-warning",indefinite:!0,message:"A new version of naVue is available.",actionText:"Use it now",onAction:()=>{e.messageSW({type:"SKIP_WAITING"})}})}),e.addEventListener("controlling",()=>{window.location.reload()}),e.addEventListener("activated",()=>{B["a"].open({type:"is-warning",message:"Welcome to the new version of naVue.",actionText:null,indefinite:!1,duration:1e3})}),e.register()}var O=n("8c4f");a["a"].use(O["a"]);const $=[{path:"/",name:"Home",component:()=>n.e("chunk-711914f4").then(n.bind(null,"bb51"))},{path:"/aircraft/:id?",name:"Aircraft",component:()=>Promise.all([n.e("chunk-0e170976"),n.e("chunk-66bef6a2")]).then(n.bind(null,"cd01"))},{path:"/moving-map/:id?",name:"MovingMap",component:()=>Promise.all([n.e("chunk-c84177a4"),n.e("chunk-bf374756")]).then(n.bind(null,"3935"))},{path:"/route/:id?",name:"Route",component:()=>Promise.all([n.e("chunk-c84177a4"),n.e("chunk-00e749d9")]).then(n.bind(null,"b59c"))},{path:"/weather",name:"Weather",component:()=>Promise.all([n.e("chunk-43bcdde4"),n.e("chunk-3c89ec4a")]).then(n.bind(null,"6a05"))},{path:"/notam",name:"Notam",component:()=>Promise.all([n.e("chunk-43bcdde4"),n.e("chunk-59f8f64c")]).then(n.bind(null,"1625"))},{path:"/approach",name:"approach",component:()=>Promise.all([n.e("chunk-43bcdde4"),n.e("chunk-27572792")]).then(n.bind(null,"5831"))},{path:"/balance/:id?",name:"Balance",component:()=>Promise.all([n.e("chunk-0e170976"),n.e("chunk-2d21ab15")]).then(n.bind(null,"bd30"))},{path:"/about",name:"About",component:()=>n.e("chunk-2d22d746").then(n.bind(null,"f820"))}],E=new O["a"]({mode:"history",routes:$,linkActiveClass:"is-active",scrollBehavior(e){if(e.hash)return{selector:e.hash}}});var L=E,N=n("2f62"),j=n("1caf"),I=n("bd67");class M extends I["a"]{constructor({registration:e,manufacturer:t,model:n,paces:a=[],balance:r=[],envelopes:s=[],consumptions:i=[],checklists:o=[]}={}){super({registration:e,manufacturer:t,model:n,paces:a,balance:r,envelopes:s,consumptions:i,checklists:o}),this.type="aircraft"}addPace(e,t,n){return this.paces.push({name:e,unit:n,value:t})}addWeight({name:e,arm:t,value:n,min:a,max:r,density:s,tank:i}={tank:!1}){return this.balance.weights.push({name:e,arm:t,value:n,min:a,max:r,density:s,tank:i})}addEnvelope({name:e,values:t}={values:[]}){return this.envelopes.push({name:e,values:t})}addEnvelopePoint({x:e,y:t},n){return this.envelopes[n].push({x:e,y:t})}addConsumption({name:e,value:t,unit:n,part:a}={}){return this.consumptions.push({name:e,value:t,unit:n,part:a})}addChecklist({name:e,items:t}={items:[]}){return this.checklists.push({name:e,items:t})}addChecklistItem({name:e,expect:t,type:n,action:a}={action:!0},r){return this.checklists[r].push({name:e,expect:t,type:n,action:a})}static import(e){if("aircraft"==e.type)return super.import(e);throw`Invalid data : 'type' should be 'aircraft' got '${e.type}'`}}a["a"].use(N["a"]);var R=new N["a"].Store({state:{currentUser:null,currentAircraft:null,currentNavigation:null,aircraftSelect:null,navigationSelect:null},mutations:{currentUser:(e,t)=>{if(t){let{derived_key:n,iterations:a,password_scheme:r,salt:s,...i}=t;e.currentUser=i}else e.currentUser=null},currentAircraft(e,t){e.currentAircraft=new M(t)},currentNavigation(e,t){e.currentNavigation=new j["a"](t)},aircraftSelect:(e,t)=>e.aircraftSelect=t,navigationSelect:(e,t)=>e.navigationSelect=t}}),W=n("289d"),q=(n("5363"),n("d6e1")),H=n("fcd3"),z=n("eae4");a["a"].use(W["a"],{defaultProgrammaticPromise:!0}),q["a"].plugin(H["a"]),a["a"].use(z["a"],"navue"),a["a"].config.productionTip=!1,new a["a"]({router:L,store:R,render:e=>e(D)}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},7174:function(e,t,n){},"9c0c":function(e,t,n){},bd67:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e){if(arguments[0]instanceof this.constructor)return arguments[0];Object.assign(this,e)}static parse(e){return new this(JSON.parse(e))}}},f9de:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("bd67"),r=n("d425");class s extends a["a"]{constructor({name:e,latitude:t,longitude:n,altitude:a,notes:r,latlng:s}={}){super({name:e,latitude:t,longitude:n,altitude:a,notes:r}),s&&(this.latlng=s)}set latlng({lat:e,lng:t}={}){this.latitude=e,this.longitude=t}get latlng(){return{lat:this.latitude,lng:this.longitude}}get point(){return new r["a"](this.latitude,this.longitude)}distanceTo(e){return this.point.rhumbDistanceTo(e.point)}bearingTo(e){return this.point.rhumbBearingTo(e.point)}destinationPoint(e,t){return this.point.rhumbDestinationPoint(e,t)}toGeoJSON(){const{latitude:e,longitude:t,...n}={...this};return{type:"Feature",properties:n,geometry:this.point.toGeoJSON()}}static from(e){return e.name|=e.position,e.altitude={ref:"AMSL",...e.altitude},super.import(e)}}class i extends s{constructor({name:e,latitude:t,longitude:n,altitude:a,notes:r,latlng:s,accuracy:i,heading:o,speed:c,timestamp:l}={}){super({name:e,latitude:t,longitude:n,altitude:a,notes:r,latlng:s}),this.accuracy=i,o&&(this.heading=o%360),this.speed=c,this.timestamp=l}computeMovementFrom(e){this.heading=e.bearingTo(this),this.speed=this.distanceTo(e)/(this.timestamp-e.timestamp)*1e3,this.verticalSpeed=(this.altitude.value-e.altitude.value)/(this.timestamp-e.timestamp)*1e3}toBounds(e=this.accuracy){const t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.latitude);return[[this.latitude-t,this.longitude-n],[this.latitude+t,this.longitude+n]]}static from({latitude:e,longitude:t,accuracy:n,altitude:a,altitudeAccuracy:r,speed:s,heading:i,timestamp:o,type:c}={}){return new this({latitude:e,longitude:t,accuracy:n,altitude:{value:a,accuracy:r,unit:"m",ref:"WGS84"},speed:s,heading:i,timestamp:o,type:c})}}}});