(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221f18"],{cd01:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container"},[t.aircraft?a("AircraftDetail",{attrs:{aircraft:t.aircraft},on:{discard:function(e){t.aircraft=null},aircraftUpdated:function(e){t.aircraft=null}}}):a("section",{staticClass:"section"},[a("div",{staticClass:"hero"},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title"},[t._v("Choose, edit & manage your aircrafts")]),a("h2",{staticClass:"subtitle"},[t._v(" aircrafts are stored in browser and synced online. ")]),a("p",[t._v("Be sure to signup and login to operate synchronisation.")])])])]),a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent"},[a("div",{staticClass:"tile is-child box"},[a("AircraftSelect",{on:{select:function(e){t.aircraft=e}}})],1)]),a("div",{staticClass:"tile is-parent"},[a("div",{staticClass:"tile is-child box"},[a("b-button",{attrs:{size:"is-large","icon-left":"folder-plus",type:"is-primary",expanded:""},on:{click:t.newAircraft}},[t._v("Create a new Aircraft")])],1)]),a("div",{staticClass:"tile is-parent"},[a("div",{staticClass:"tile is-child box"},[a("b-field",{staticClass:"file"},[a("b-upload",{attrs:{accept:"application/json","drag-drop":"",expanded:""},on:{input:t.uploadJSON},model:{value:t.upload,callback:function(e){t.upload=e},expression:"upload"}},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"upload",size:"is-large"}})],1),a("p",[t._v("Upload Aircraft data")])])])])],1)],1)])])])],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",[t.canEdit?a("div",{staticClass:"buttons is-grouped is-centered"},[a("b-button",{attrs:{type:"is-primary","icon-left":"content-save","native-type":"submit",disabled:!t.unlockSave,outlined:""},on:{click:function(e){return t.updateA(t.aircraft)}}},[t._v(t._s(t.aircraft._id?"Save":"Create"))]),a("b-button",{attrs:{type:"is-warning","icon-left":"close",outlined:""},on:{click:function(e){return t.$emit("discard")}}},[t._v("Discard")]),t.aircraft._id?a("b-button",{attrs:{type:"is-danger","icon-left":"delete",outlined:""},on:{click:function(e){return t.deleteA(t.aircraft)}}},[t._v("Delete")]):t._e()],1):a("div",{staticClass:"buttons is-grouped is-centered"},[a("b-button",{attrs:{type:"is-secondary","icon-left":"arrow-left",outlined:""},on:{click:function(e){return t.$emit("discard")}}}),a("b-button",{attrs:{type:"is-secondary","icon-left":"pencil"},on:{click:function(e){t.unlockEdit=!0}}}),a("b-button",{attrs:{type:"is-primary","icon-left":"check"},on:{click:function(e){return t.selectAircraft(t.aircraft)}}},[t._v("Select")]),a("b-button",{attrs:{"icon-left":"download",type:"is-secondary",outlined:""},on:{click:function(e){return t.downloadJSON(t.aircraft,t.aircraft.registration+".json")}}},[t._v("Download")])],1),a("fieldset",{attrs:{disabled:!t.canEdit}},[a("b-tabs",{attrs:{position:"is-centered",multiline:"",expanded:""}},[a("b-tab-item",{attrs:{label:"Identification"}},[a("section",{staticClass:"section"},[a("b-field",{attrs:{label:"Registration",horizontal:""}},[a("b-input",{attrs:{placeholder:"F-....",required:""},model:{value:t.aircraft.registration,callback:function(e){t.$set(t.aircraft,"registration",e)},expression:"aircraft.registration"}})],1),a("b-field",{attrs:{label:"Manufacturer",horizontal:""}},[a("b-input",{attrs:{placeholder:"Robin"},model:{value:t.aircraft.manufacturer,callback:function(e){t.$set(t.aircraft,"manufacturer",e)},expression:"aircraft.manufacturer"}})],1),a("b-field",{attrs:{label:"Model",horizontal:""}},[a("b-input",{attrs:{placeholder:"DR40"},model:{value:t.aircraft.model,callback:function(e){t.$set(t.aircraft,"model",e)},expression:"aircraft.model"}})],1),a("b-field",{attrs:{label:"Airworthiness Certificate",horizontal:""}},[a("b-input",{attrs:{maxlength:"200",type:"textarea",placeholder:"CNRA.. 12/12/1983"},model:{value:t.aircraft.cn,callback:function(e){t.$set(t.aircraft,"cn",e)},expression:"aircraft.cn"}})],1)],1)]),a("b-tab-item",{attrs:{label:"Paces"}},[a("AircraftDetailPaces",{attrs:{paces:t.aircraft.paces}})],1),a("b-tab-item",{attrs:{label:"Fuel"}},[a("AircraftDetailConsumptions",{attrs:{consumptions:t.aircraft.consumptions}})],1),a("b-tab-item",{attrs:{label:"Balance & Weight"}},[a("AircraftDetailBalance",{attrs:{balance:t.aircraft.balance}})],1),a("b-tab-item",{attrs:{label:"Envelopes"}},[a("AircraftDetailEnvelopes",{attrs:{envelopes:t.aircraft.envelopes}})],1),a("b-tab-item",{attrs:{label:"Checklists"}},[a("AircraftDetailChecklists",{attrs:{checklists:t.aircraft.checklists}})],1)],1)],1)])},r=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("b-button",{attrs:{type:"is-primary",rounded:""},on:{click:function(e){return t.prependItem(t.paces,t.proto.paces[0])}}},[t._v("Add a pace")]),a("div",{staticClass:"control"},t._l(t.paces,(function(e,n){return a("b-field",{key:n,attrs:{horizontal:"","group-multiline":""}},[a("b-field",{attrs:{label:"Name","label-position":"on-border",expanded:""}},[a("b-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"speed.name"}})],1),a("b-field",{attrs:{label:"Speed","label-position":"on-border"}},[a("b-select",{attrs:{placeholder:"unit"},model:{value:e.unit,callback:function(a){t.$set(e,"unit",a)},expression:"speed.unit"}},t._l(t.units.speed,(function(e,n){return a("option",{key:n,domProps:{value:n}},[t._v(t._s(n))])})),0),a("b-numberinput",{attrs:{controls:!1,step:.01},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"speed.value"}})],1),a("b-button",{attrs:{type:"is-secondary","icon-right":"close"},on:{click:function(e){return t.removeItem(t.paces,n)}}})],1)})),1)],1)},o=[],c=a("08df"),u={name:"AircraftDetailPaces",props:["paces"],mixins:[c["c"],c["d"]]},d=u,p=a("2877"),b=Object(p["a"])(d,l,o,!1,null,"4d21aa2d",null),m=b.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("b-field",{attrs:{label:"Balanced on"}},[a("b-datepicker",{attrs:{placeholder:"Select last balance sheet date","trap-focus":"",icon:"calendar-today"},model:{value:t.curatedDate,callback:function(e){t.curatedDate=e},expression:"curatedDate"}})],1),a("b-button",{attrs:{type:"is-primary",rounded:""},on:{click:function(e){return t.prependItem(t.balance.weights,t.proto.balance.weights[0])}}},[t._v("Add a mass")]),a("div",{staticClass:"control"},t._l(t.balance.weights,(function(e,n){return a("b-field",{key:n,attrs:{horizontal:""}},[a("b-field",{attrs:{label:"Name","label-position":"on-border"}},[a("b-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"weight.name"}})],1),a("b-field",{attrs:{label:"Arm","label-position":"on-border"}},[a("b-numberinput",{attrs:{controls:!1,step:.001,expanded:""},model:{value:e.arm,callback:function(a){t.$set(e,"arm",a)},expression:"weight.arm"}})],1),a("b-field",{attrs:{label:"Minimum","label-position":"on-border"}},[a("b-numberinput",{attrs:{controls:!1,step:.1,expanded:""},model:{value:e.min,callback:function(a){t.$set(e,"min",a)},expression:"weight.min"}})],1),a("b-field",{attrs:{label:"Maximum","label-position":"on-border"}},[a("b-numberinput",{attrs:{controls:!1,step:.1,expanded:""},model:{value:e.max,callback:function(a){t.$set(e,"max",a)},expression:"weight.max"}})],1),a("b-field",{attrs:{label:"Weight","label-position":"on-border"}},[a("b-numberinput",{attrs:{controls:!1,step:.1,expanded:""},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"weight.value"}})],1),a("b-field",{attrs:{label:"Density","label-position":"on-border"}},[a("b-numberinput",{attrs:{controls:!1,step:.001,expanded:""},model:{value:e.density,callback:function(a){t.$set(e,"density",a)},expression:"weight.density"}})],1),a("b-field",[a("b-checkbox-button",{attrs:{"native-value":!0,type:"is-primary"},model:{value:e.tank,callback:function(a){t.$set(e,"tank",a)},expression:"weight.tank"}},[t._v("Tank")])],1),a("b-button",{attrs:{type:"is-secondary","icon-right":"close"},on:{click:function(e){return t.removeItem(t.balance.weights,n)}}})],1)})),1)],1)},v=[],h={name:"AircraftDetailBalance",mixins:[c["c"]],props:["balance"],computed:{curatedDate:{get(){return this.balance.date?new Date(this.balance.date):this.balance.date},set(t){this.balance.date=t}}}},k=h,x=Object(p["a"])(k,f,v,!1,null,"399ede11",null),y=x.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("b-button",{attrs:{type:"is-primary",rounded:""},on:{click:function(e){return t.appendItem(t.envelopes,t.proto.envelopes[0])}}},[t._v("Add an envelope")]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},t._l(t.envelopes,(function(e,n){return a("div",{key:n},[a("b-field",{attrs:{label:"Name",horizontal:""}},[a("b-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"envelope.name"}}),a("div",{staticClass:"control"},[a("b-button",{attrs:{"icon-right":"close"},on:{click:function(e){return t.removeItem(t.envelopes,n)}}})],1)],1),t._l(e.values,(function(n,i){return a("b-field",{key:i,attrs:{horizontal:""}},[a("b-numberinput",{attrs:{placeholder:"arm",controls:!1,step:.001},model:{value:n.x,callback:function(e){t.$set(n,"x",e)},expression:"point.x"}}),a("b-numberinput",{attrs:{placeholder:"mass",controls:!1,step:.1},model:{value:n.y,callback:function(e){t.$set(n,"y",e)},expression:"point.y"}}),a("p",{staticClass:"control"},[a("b-button",{attrs:{"icon-right":"close"},on:{click:function(a){return t.removeItem(e.values,i)}}})],1)],1)})),a("b-field",[a("b-button",{attrs:{"icon-right":"plus",type:"is-primary",rounded:""},on:{click:function(a){return t.appendItem(e.values,t.proto.envelopes[0].values[0])}}})],1)],2)})),0),a("div",{staticClass:"column"},[t.envelopes.length>0?a("BalanceChart",{attrs:{"chart-data":t.datasets}}):t._e()],1)])],1)},C=[],A=a("548d"),g={name:"AircraftDetailEnvelopes",props:["envelopes"],mixins:[c["c"],c["a"]],components:{BalanceChart:A["a"]},computed:{datasets(){return{datasets:[...this.envelopes.map(t=>({...this.envelopesDataset,label:t.name,data:t.values}))]}}}},$=g,D=Object(p["a"])($,_,C,!1,null,"168dc9c4",null),w=D.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("b-button",{attrs:{type:"is-primary",rounded:""},on:{click:function(e){return t.prependItem(t.consumptions,t.proto.consumptions[0])}}},[t._v("Add a consumption rate")]),a("div",{staticClass:"control"},t._l(t.consumptions,(function(e,n){return a("b-field",{key:n,attrs:{horizontal:""}},[a("b-field",{attrs:{label:"Name","label-position":"on-border",expanded:""}},[a("b-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"consumption.name"}})],1),a("b-field",{attrs:{label:"Fuel","label-position":"on-border"}},[a("b-select",{attrs:{placeholder:"vol."},model:{value:e.volume,callback:function(a){t.$set(e,"volume",a)},expression:"consumption.volume"}},t._l(t.units.volume,(function(e,n){return a("option",{key:n,domProps:{value:n}},[t._v(t._s(n))])})),0),a("b-select",{attrs:{placeholder:"cons."},model:{value:e.unit,callback:function(a){t.$set(e,"unit",a)},expression:"consumption.unit"}},t._l(t.units.consumptions,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0),a("b-numberinput",{attrs:{controls:!1,step:.01},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"consumption.value"}})],1),a("b-button",{attrs:{type:"is-secondary","icon-right":"close"},on:{click:function(e){return t.removeItem(t.consumptions,n)}}})],1)})),1)],1)},I=[],z={name:"AircraftDetailConsumptions",props:["consumptions"],mixins:[c["c"],c["d"]]},S=z,j=Object(p["a"])(S,E,I,!1,null,"6b7d9bb2",null),O=j.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("b-button",{attrs:{type:"is-primary",rounded:""},on:{click:function(e){return t.appendItem(t.checklists,t.proto.checklists[0])}}},[t._v("Create a checklist")]),a("div",{staticClass:"control"},t._l(t.checklists,(function(e,n){return a("div",{key:n},[a("b-field",{attrs:{label:"Name","label-position":"on-border",horizontal:""}},[a("b-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"checklist.name"}}),a("p",{staticClass:"control"},[a("b-button",{attrs:{"icon-right":"close"},on:{click:function(e){return t.removeItem(t.checklists,n)}}})],1)],1),t._l(e.items,(function(n,i){return a("b-field",{key:i,attrs:{horizontal:""}},[a("b-input",{attrs:{placeholder:"name"},model:{value:n.name,callback:function(e){t.$set(n,"name",e)},expression:"item.name"}}),a("b-input",{attrs:{placeholder:"expectation"},model:{value:n.expect,callback:function(e){t.$set(n,"expect",e)},expression:"item.expect"}}),a("b-field",[a("b-checkbox-button",{attrs:{"native-value":!0,type:"is-primary"},model:{value:n.action,callback:function(e){t.$set(n,"action",e)},expression:"item.action"}},[t._v("Action")])],1),a("p",{staticClass:"control"},[a("b-button",{attrs:{type:"is-secondary","icon-right":"close"},on:{click:function(a){return t.removeItem(e.items,i)}}})],1)],1)})),a("b-field",{attrs:{position:"is-centered"}},[a("b-button",{attrs:{type:"is-primary",rounded:"","icon-right":"plus"},on:{click:function(a){return t.appendItem(e.items,t.proto.checklists[0].items[0])}}})],1)],2)})),0)],1)},N=[],P={name:"AircraftDetailChecklists",props:["checklists"],mixins:[c["c"]]},J=P,M=Object(p["a"])(J,B,N,!1,null,null,null),R=M.exports,F={name:"AircraftDetail",props:["aircraft"],mixins:[c["b"],c["c"]],data(){return{unlockEdit:!1,unlockSave:!0}},mounted(){this.aircraft.checklists||(this.aircraft.checklists=this.proto.checklists)},components:{AircraftDetailPaces:m,AircraftDetailBalance:y,AircraftDetailEnvelopes:w,AircraftDetailConsumptions:O,AircraftDetailChecklists:R},computed:{canEdit(){return this.unlockEdit||!this.aircraft._id}},methods:{updateA(t){this.$store.dispatch("updateAircraft",t).then(()=>{this.unlockEdit=!1})},selectA(t){this.$store.commit("selectAircraft",t).then(()=>{this.$emit("discard")})},deleteA(t){this.$store.dispatch("deleteAircraft",t).then(()=>{this.$emit("discard")})}}},U=F,W=Object(p["a"])(U,s,r,!1,null,"7e708666",null),q=W.exports,T=a("b4f7"),G={name:"Aircraft",components:{AircraftDetail:q,AircraftSelect:T["a"]},mixins:[c["b"],c["c"]],data(){return{aircraft:null,upload:[]}},methods:{newAircraft(){this.aircraft={...this.proto}}}},H=G,K=Object(p["a"])(H,n,i,!1,null,null,null);e["default"]=K.exports}}]);